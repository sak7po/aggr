(function(e){function t(t){for(var i,s,o=t[0],c=t[1],l=t[2],d=0,h=[];d<o.length;d++)s=o[d],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&h.push(r[s][0]),r[s]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(e[i]=c[i]);u&&u(t);while(h.length)h.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],i=!0,o=1;o<n.length;o++){var c=n[o];0!==r[c]&&(i=!1)}i&&(a.splice(t--,1),e=s(s.s=n[0]))}return e}var i={},r={app:0},a=[];function s(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=i,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)s.d(n,i,function(t){return e[t]}.bind(null,i));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/aggr/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var u=c;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"02ab":function(e,t,n){"use strict";n("14d8")},"03ec":function(e,t,n){"use strict";n("dafd")},"0613":function(e,t,n){"use strict";n.d(t,"a",(function(){return Y}));var i=n("1da1"),r=(n("96cf"),n("ac1f"),n("1276"),n("99af"),n("b0c0"),n("b64b"),n("a15b"),n("fb6a"),n("d3b7"),n("ddb0"),n("2b0e")),a=n("2f62"),s=n("d951"),o=(n("4d63"),n("25f0"),n("a434"),n("d81d"),n("498a"),n("7db0"),n("0c01")),c=n("28f3"),l=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Dialog",{staticClass:"-sticky-footer -auto",attrs:{medium:""},on:{clickOutside:e.hide},scopedSlots:e._u([{key:"header",fn:function(){return[e.paneId?n("div",{staticClass:"title"},[e._v(" "+e._s(e.paneName)+"'s MARKETS "),n("div",{staticClass:"subtitle"},[e._v("Choose which markets "),n("u",[e._v("this pane")]),e._v(" should listen to")])]):n("div",{staticClass:"title"},[e._v(" ALL PANES MARKETS "),n("div",{staticClass:"subtitle"},[e._v("Change "),n("u",[e._v("all")]),e._v(" panes markets regardless of their current configuration")])]),n("div",{staticClass:"column -center"})]},proxy:!0}])},[n("div",{staticClass:"d-flex mobile-dir-col-desktop-dir-row"},[n("div",{staticClass:"search"},[e.otherPanes.length?n("div",{staticClass:"form-group mb8"},[n("label",[e._v("Choose from other panes")]),e._l(e.otherPanes,(function(t){return n("button",{key:t.id,staticClass:"btn mb4 mr4 -accent",domProps:{textContent:e._s(t.name)},on:{click:function(n){return e.selectPaneMarkets(t)}}})}))],2):e._e(),n("div",{staticClass:"form-group"},[n("label",[e._v("All products ("+e._s(e.flattenedProducts.length)+")")]),n("div",{staticClass:"mb8 d-flex"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.query,expression:"query"}],ref:"input",staticClass:"form-control",attrs:{type:"text",placeholder:"search (eg: BITMEX:XBTUSD)"},domProps:{value:e.query},on:{input:function(t){t.target.composing||(e.query=t.target.value)}}}),n("dropdown",{directives:[{name:"tippy",rawName:"v-tippy",value:{placement:"top"},expression:"{ placement: 'top' }"}],attrs:{options:e.filters,placeholder:"Filter",title:"Filters"},scopedSlots:e._u([{key:"selection",fn:function(){return[n("div",{staticClass:"btn",class:{"-text":!e.hasFilters,"ml8 -green":e.hasFilters}},[e._v(" filter "),n("i",{staticClass:"ml4",class:e.hasFilters?"icon-check":"icon-plus"})])]},proxy:!0},{key:"option",fn:function(t){var i=t.index,r=t.value;return[n("div",{on:{click:function(t){return e.toggleFilter(i)}}},[r?n("i",{staticClass:"icon-check"}):e._e(),e._v(" "+e._s(i)+" ")])]}}])})],1),e.results.length?n("table",[n("tbody",e._l(e.results,(function(t){return n("tr",{key:t,staticClass:"-action",on:{click:function(n){return e.selectMarket(t)}}},[n("td",{staticClass:"icon search__exchange",class:"icon-"+t.split(":")[0]}),n("td",{domProps:{textContent:e._s(t)}}),n("td",[-1!==e.historicalMarkets.indexOf(t)?n("i",{staticClass:"icon-candlestick"}):e._e()])])})),0)]):n("div",{staticClass:"text-danger"},[n("p",[e._v("No results")])])])]),n("hr",{staticClass:"-horizontal"}),n("hr",{staticClass:"-vertical mb8"}),n("div",{staticClass:"form-group selection"},[n("label",{staticClass:"text-nowrap"},[e._v("Selection "),e.paneId?n("code",{staticClass:"-filled",domProps:{textContent:e._s(e.paneName)}}):e._e()]),n("div",{staticClass:"selection__items mt8"},e._l(e.selection,(function(t){return n("button",{key:t,staticClass:"btn -small mb4 -accent",class:{"-green":-1!==e.activeMarkets.indexOf(t)},attrs:{title:"Click to remove"},domProps:{textContent:e._s(t)},on:{click:function(n){return e.deselectMarket(t)}}})})),0)])]),n("footer",[n("a",{staticClass:"btn -text",attrs:{href:"javascript:void(0);"},on:{click:e.hide}},[e._v("Cancel")]),n("button",{staticClass:"btn -large ml8 -green",domProps:{textContent:e._s(e.submitLabel)},on:{click:e.submit}})])])},u=[],d=n("2909"),h=(n("4de4"),n("07ac"),n("5319"),n("7250")),p=n("1ea0"),f={mixins:[p["a"]],components:{Dialog:h["a"]},props:{query:{default:""},paneId:{required:!1}},data:function(){return{markets:[],selection:[],originalSelection:[],filters:{historical:!1}}},computed:{otherPanes:function(){var e=this;return Object.keys(this.$store.state.panes.panes).filter((function(t){return t!==e.paneId})).map((function(t){return e.$store.state.panes.panes[t]}))},paneName:function(){return this.paneId?this.$store.state.panes.panes[this.paneId].name:null},activeMarkets:function(){return this.$store.state.app.activeMarkets.map((function(e){return e.exchange+":"+e.pair}))},paneMarkets:function(){return this.paneId?this.$store.state.panes.panes[this.paneId].markets:[]},toConnect:function(){var e=this;return this.paneId?this.selection.filter((function(t){return-1===e.paneMarkets.indexOf(t)})).length:this.selection.filter((function(t){return-1===e.activeMarkets.indexOf(t)})).length},toDisconnect:function(){var e=this;return this.originalSelection.filter((function(t){return-1===e.selection.indexOf(t)})).length},submitLabel:function(){var e=+this.toConnect,t=+this.toDisconnect,n="";return e&&(n+="add ".concat(e)),t&&(n+="".concat(e?" and ":"","remove ").concat(t)),n?n+" markets":"OK"},historicalMarkets:function(){return this.$store.state.app.historicalMarkets},indexedProducts:function(){return this.$store.state.app.indexedProducts},flattenedProducts:function(){var e;return(e=Array.prototype).concat.apply(e,Object(d["a"])(Object.values(this.indexedProducts)))},queryFilter:function(){return new RegExp(this.query.replace(/[ ,]/g,"|"),"i")},filteredProducts:function(){var e=this;return this.flattenedProducts.filter((function(t){return!e.filters.historical||-1!==e.historicalMarkets.indexOf(t)}))},results:function(){var e=this;return this.filteredProducts.filter((function(t){return-1===e.selection.indexOf(t)&&e.queryFilter.test(t)})).slice(0,100)},hasFilters:function(){return this.filters.historical}},watch:{"$store.state.app.showSearch":function(e){e||this.close(!1)}},created:function(){this.paneId?this.selection=this.$store.state.panes.panes[this.paneId].markets.slice():this.selection=this.activeMarkets.slice(),this.originalSelection=this.selection.slice()},mounted:function(){var e=this;this.$nextTick((function(){e.$refs.input.focus()}))},methods:{containMultipleMarketsConfigurations:function(){var e=this;return Object.keys(this.$store.state.panes.panes).map((function(t){return Object(c["l"])(e.$store.state.panes.panes[t].markets)})).filter((function(e,t,n){return n.indexOf(e)===t})).length>1},selectPaneMarkets:function(e){this.selection.splice(0,this.selection.length);for(var t=0;t<e.markets.length;t++)this.selection.push(e.markets[t])},selectMarket:function(e){this.selection.push(e)},deselectMarket:function(e){var t=this.selection.indexOf(e);-1!==t&&this.selection.splice(t,1)},submit:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.paneId){t.next=14;break}if(t.t0=e.containMultipleMarketsConfigurations(),!t.t0){t.next=6;break}return t.next=5,o["a"].confirm("Are you sure ? Some of the panes are watching specific markets.");case 5:t.t0=!t.sent;case 6:if(!t.t0){t.next=8;break}return t.abrupt("return");case 8:if(Object.keys(e.$store.state.panes.panes).length){t.next=11;break}return t.next=11,e.$store.dispatch("panes/addPane",{type:"trades"});case 11:e.$store.dispatch("panes/setMarketsForAll",e.selection),t.next=15;break;case 14:e.$store.dispatch("panes/setMarketsForPane",{id:e.paneId,markets:e.selection});case 15:e.hide();case 16:case"end":return t.stop()}}),t)})))()},hide:function(){this.$store.dispatch("app/hideSearch")},toggleFilter:function(e){this.$set(this.filters,e,!this.filters[e])}}},m=f,_=(n("4d2a"),n("2877")),v=Object(_["a"])(m,l,u,!1,null,"26e1b1f2",null),b=v.exports,g={isBooted:!1,isLoading:!1,redirectUrl:null,optimalDecimal:null,pairs:[],showSettings:!1,showSearch:!1,activeExchanges:{},activeMarkets:[],notices:[],historicalMarkets:[],indexedProducts:{},proxyUrl:null,apiUrl:null,version:"DEV",buildDate:"now",baseCurrency:"coin",baseCurrencySymbol:"à¸¿",quoteCurrency:"dollar",quoteCurrencySymbol:"$",paneClipboard:null},y={boot:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){var i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:i=e.commit,i("SET_API_SUPPORTED_PAIRS","BITFINEX:BTCUSD,BINANCE:btcusdt,OKEX:BTC-USDT,KRAKEN:XBT/USD,COINBASE:BTC-USD,POLONIEX:USDT_BTC,HUOBI:btcusdt,BITSTAMP:btcusd,BITMEX:XBTUSD,BITFINEX:BTCF0:USTF0,OKEX:BTC-USD-SWAP,OKEX:BTC-USDT-SWAP,BINANCE_FUTURES:btcusdt,BINANCE_FUTURES:btcusd_perp,HUOBI:BTC-USD,KRAKEN:PI_XBTUSD,DERIBIT:BTC-PERPETUAL,FTX:BTC-PERP,FTX:BTC/USD,FTX:BTC/USDT,BYBIT:BTCUSD,BYBIT:BTCUSDT,BYBIT:ETHUSD,BYBIT:ETHUSDT,BITSTAMP:ethusd,BITMEX:ETHUSD,KRAKEN:PI_ETHUSD,BITFINEX:ETHUSD,COINBASE:ETH-USD,OKEX:ETH-USDT,OKEX:ETH-USDT-SWAP,OKEX:ETH-USD-SWAP,BINANCE_FUTURES:ethusdt,FTX:ETH-PERP,FTX:ETH/USD,FTX:ETH/USDT,DERIBIT:ETH-PERPETUAL,KRAKEN:ETH/USD,HUOBI:ethusdt,HUOBI:ETH-USD,BINANCE_FUTURES:ethusd_perp"),i("SET_VERSION","3.0.0"),i("SET_BUILD_DATE","24 jun"),i("SET_API_URL","https://api.aggr.trade/historical/{from}/{to}/{timeframe}/{markets}"),i("SET_PROXY_URL","https://cors.aggr.trade/"),t.dispatch("app/refreshCurrencies");case 7:case"end":return n.stop()}}),n)})))()},setBooted:function(e){var t=e.commit,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t("SET_BOOTED",n)},showNotice:function(e,t){var n=this;return Object(i["a"])(regeneratorRuntime.mark((function i(){var r,a;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(r=e.commit,a=e.getters,"string"===typeof t&&(t={title:t}),!t.id||!a.getNoticeById(t.id)){i.next=15;break}if(!t.update){i.next=7;break}return i.abrupt("return",n.dispatch("app/updateNotice",t));case 7:return i.prev=7,i.next=10,n.dispatch("app/hideNotice",t.id);case 10:i.next=15;break;case 12:return i.prev=12,i.t0=i["catch"](7),i.abrupt("return");case 15:t.id||(t.id=Object(c["r"])()),"undefined"===typeof t.timeout&&(t.timeout="error"===t.type?1e4:3e3),t.timeout>0&&(t._timeout=setTimeout((function(){delete t._timeout,n.dispatch("app/hideNotice",t.id)}),t.timeout)),r("CREATE_NOTICE",t);case 19:case"end":return i.stop()}}),i,null,[[7,12]])})))()},hideNotice:function(e,t){var n=e.commit,i=e.getters,r=i.getNoticeById(t);return r?(r._timeout&&clearTimeout(r._timeout),r._reject&&r._reject(),new Promise((function(e,t){r._reject=t,r._timeout=setTimeout((function(){n("REMOVE_NOTICE",r),delete r._reject,delete r._timeout,e()}),100)}))):Promise.resolve()},updateNotice:function(e,t){var n=e.commit,i=e.getters,r=e.state,a=i.getNoticeById(t.id),s=r.notices.indexOf(a);if(!a||-1===s)return Promise.resolve();n("UPDATE_NOTICE",{index:s,notice:t})},refreshCurrencies:function(e){var t=e.commit,n=e.state,i=n.activeMarkets[0];if(i){for(var r=i.pair,a={BTC:["bitcoin","à¸¿"],XBT:["bitcoin","à¸¿"],GBP:["pound","Â£"],EUR:["euro","â‚¬"],USD:["dollar","$"],JPY:["yen","Â¥"],ETH:["ethereum","ETH"],XRP:["xrp","XRP"],LTC:["ltc","LTC"],TRX:["trx","TRX"],ADA:["ada","ADA"],IOTA:["iota","IOTA"],XMR:["xmr","XMR"],NEO:["neo","NEO"],EOS:["eos","EOS"]},s={base:"coin",baseSymbol:"à¸¿",quote:"dollar",quoteSymbol:"$"},o=0,c=Object.keys(a);o<c.length;o++){var l=c[o];new RegExp(l+"$").test(r)&&(s.quote=a[l][0],s.quoteSymbol=a[l][1]),new RegExp("^"+l).test(r)&&(s.base=a[l][0],s.baseSymbol=a[l][1])}t("SET_CURRENCIES",s)}},showSearch:function(e){var t=e.commit,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{query:"",paneId:null},i=n.paneId,r=n.query;g.showSearch||(t("TOGGLE_SEARCH",!0),o["a"].open(b,{query:r,paneId:i}))},hideSearch:function(e){var t=e.commit;g.showSearch&&t("TOGGLE_SEARCH",!1)}},k={SET_BOOTED:function(e,t){e.isBooted=t},SET_REDIRECT_URL:function(e,t){e.redirectUrl&&t||(e.redirectUrl=t)},EXCHANGE_UPDATED:function(e,t){var n=!this.state.exchanges[t].disabled&&!this.state.exchanges[t].hidden;r["default"].set(e.activeExchanges,t,n)},TOGGLE_LOADING:function(e,t){e.isLoading=!!t},CREATE_NOTICE:function(e,t){e.notices.push(t)},UPDATE_NOTICE:function(e,t){var n=t.index,i=t.notice;r["default"].set(e.notices,n,i)},REMOVE_NOTICE:function(e,t){var n=e.notices.indexOf(t);-1!==n&&e.notices.splice(n,1)},TOGGLE_SEARCH:function(e,t){e.showSearch="boolean"===typeof t?t:!e.showSearch},TOGGLE_SETTINGS:function(e,t){e.showSettings="boolean"===typeof t?t:!e.showSettings},SET_OPTIMAL_DECIMAL:function(e,t){e.optimalDecimal=t},SET_API_URL:function(e,t){e.apiUrl=t},SET_PROXY_URL:function(e,t){e.proxyUrl=t},SET_API_SUPPORTED_PAIRS:function(e,t){e.historicalMarkets=t?"string"===typeof t?t.split(",").map((function(e){return e.trim()})):t:[]},SET_VERSION:function(e,t){e.version=t},SET_BUILD_DATE:function(e,t){e.buildDate=t},INDEX_EXCHANGE_PRODUCTS:function(e,t){var n=t.exchange,i=t.products;e.indexedProducts[n]=i.map((function(e){return n+":"+e}))},ADD_ACTIVE_MARKET:function(e,t){var n=t.exchange,i=t.pair,r=e.activeMarkets.find((function(e){return e.exchange===n&&e.pair===i}));if(r)throw new Error("add-active-market-already-exist");e.activeMarkets.push({id:n+i,exchange:n,pair:i})},REMOVE_ACTIVE_MARKET:function(e,t){var n=t.exchange,i=t.pair,r=e.activeMarkets.find((function(e){return e.exchange===n&&e.pair===i}));if(!r)throw new Error("remove-active-market-not-found");var a=e.activeMarkets.indexOf(r);e.activeMarkets.splice(a,1)},SET_CURRENCIES:function(e,t){e.baseCurrency=t.base,e.baseCurrencySymbol=t.baseSymbol,e.quoteCurrency=t.quote,e.quoteCurrencySymbol=t.quoteSymbol},SET_PANE_CLIPBOARD:function(e,t){e.paneClipboard=t}},C={getNoticeById:function(e){return function(t){for(var n=0;n<e.notices.length;n++)if(e.notices[n].id===t)return e.notices[n]}}},O={namespaced:!0,state:g,getters:C,actions:y,mutations:k},E=(n("caad"),n("2532"),n("3e57")),w=n("fa07"),T=n("a914"),I=n("4902"),x=Object.assign({_id:"settings"},E),S={boot:function(e){return Object(i["a"])(regeneratorRuntime.mark((function t(){var n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=e.state,i=e.dispatch,T["a"].dispatch({op:"settings.calculateSlippage",data:n.calculateSlippage}),T["a"].dispatch({op:"settings.aggregateTrades",data:n.aggregateTrades}),T["a"].dispatch({op:"settings.preferQuoteCurrencySize",data:n.preferQuoteCurrencySize}),i("updateCSS"),r["default"].nextTick((function(){n.useAudio?I["a"].connect():I["a"].disconnect()}));case 6:case"end":return t.stop()}}),t)})))()},addRecentColor:function(e,t){var n=e.commit,i=e.state;i.recentColors.includes(t)||(i.recentColors.length>=16&&n("TRIM_RECENT_COLORS"),n("ADD_RECENT_COLOR",t))},setBackgroundColor:function(e,t){var n=e.commit,i=e.state,r=e.dispatch;n("SET_CHART_BACKGROUND_COLOR",t);var a=Object(w["d"])(Object(w["h"])(t)),s=a>144?"light":"dark";s!==i.theme&&n("SET_CHART_THEME",s),i.textColor.length&&n("SET_CHART_COLOR",""),r("updateCSS")},updateCSS:function(e){var t=e.state,n=t.theme,i="light"===n?.5:1,r="dark"===n?1:-10,a="dark"===n?-1:1,s=Object(w["h"])(t.backgroundColor);document.documentElement.style.setProperty("--theme-background-base",t.backgroundColor),document.documentElement.style.setProperty("--theme-background-100",Object(w["e"])(s,.02*i*r)),document.documentElement.style.setProperty("--theme-background-150",Object(w["e"])(s,.05*i*r)),document.documentElement.style.setProperty("--theme-background-200",Object(w["e"])(s,.075*i*r)),document.documentElement.style.setProperty("--theme-background-300",Object(w["e"])(s,.1*i*r)),document.documentElement.style.setProperty("--theme-background-o75","rgba(".concat(s[0],", ").concat(s[1],",").concat(s[2],", .75)")),document.documentElement.style.setProperty("--theme-background-o20","rgba(".concat(s[0],", ").concat(s[1],",").concat(s[2],", .2)"));var o="light"!==n?"rgb(17,17,17)":"rgb(246,246,246)",c=t.textColor;c||(c="light"===n?"rgb(17,17,17)":"rgb(246,246,246)");var l=Object(w["h"])(c);document.documentElement.style.setProperty("--theme-color-base",c),document.documentElement.style.setProperty("--theme-color-100",Object(w["e"])(l,.1*a)),document.documentElement.style.setProperty("--theme-color-150",Object(w["e"])(l,.3*a)),document.documentElement.style.setProperty("--theme-color-200",Object(w["e"])(l,.5*a)),document.documentElement.style.setProperty("--theme-color-o75","rgba(".concat(l[0],", ").concat(l[1],",").concat(l[2],", .75)")),document.documentElement.style.setProperty("--theme-color-o20","rgba(".concat(l[0],", ").concat(l[1],",").concat(l[2],", .2)")),document.documentElement.style.setProperty("--theme-color-inverse",o)},setQuoteCurrencySizing:function(e,t){var n=e.commit;n("SET_QUOTE_CURRENCY_SIZING",t),this.dispatch("app/refreshCurrencies")},setAudioVolume:function(e,t){var n=e.commit,i=e.state;n("SET_AUDIO_VOLUME",t),t&&!i.useAudio?n("TOGGLE_AUDIO",!0):!t&&i.useAudio&&n("TOGGLE_AUDIO",!1)}},A={SET_QUOTE_AS_PREFERED_CURRENCY:function(e,t){e.preferQuoteCurrencySize=!!t,T["a"].dispatch({op:"settings.preferQuoteCurrencySize",data:e.preferQuoteCurrencySize})},TOGGLE_SLIPPAGE:function(e){var t=[!1,"bps","price"],n=Math.max(0,t.indexOf(e.calculateSlippage));e.calculateSlippage=t[(n+1)%t.length],T["a"].dispatch({op:"settings.calculateSlippage",data:e.calculateSlippage})},TOGGLE_AGGREGATION:function(e,t){e.aggregateTrades=!!t,T["a"].dispatch({op:"settings.aggregateTrades",data:e.aggregateTrades})},TOGGLE_ANIMATIONS:function(e){e.disableAnimations=!e.disableAnimations},TOGGLE_SETTINGS_PANEL:function(e,t){var n=e.settings.indexOf(t);-1===n?e.settings.push(t):e.settings.splice(n,1)},TOGGLE_AUDIO:function(e,t){e.useAudio=!!t,e.useAudio?I["a"].connect():I["a"].disconnect()},SET_AUDIO_VOLUME:function(e,t){e.audioVolume=t},TOGGLE_AUDIO_COMPRESSOR:function(e){e.audioCompressor=!e.audioCompressor,I["a"].reconnect()},TOGGLE_AUDIO_FILTER:function(e){e.audioFilter=!e.audioFilter,I["a"].reconnect()},TOGGLE_AUDIO_DELAY:function(e){e.audioDelay=!e.audioDelay,I["a"].reconnect()},TOGGLE_AUDIO_PING_PONG:function(e){e.audioPingPong=!e.audioPingPong,I["a"].reconnect()},SET_CHART_BACKGROUND_COLOR:function(e,t){e.backgroundColor=t},SET_CHART_THEME:function(e,t){e.theme=t},SET_CHART_COLOR:function(e,t){e.textColor=t},SET_TIMEZONE_OFFSET:function(e,t){e.timezoneOffset=+t||0},ADD_RECENT_COLOR:function(e,t){e.recentColors.push(t)},TRIM_RECENT_COLORS:function(e){e.recentColors.pop()},SET_DECIMAL_PRECISION:function(e,t){e.decimalPrecision=t}},R={namespaced:!0,state:x,actions:S,mutations:A},j=n("b85c"),P=(n("13d5"),n("3ca3"),n("06c2")),D=["BITMEX","BINANCE_FUTURES","KRAKEN","HUOBI","BINANCE","BITFINEX","BITSTAMP","COINBASE","HITBTC","OKEX","POLONIEX","DERIBIT","BYBIT","FTX"].reduce((function(e,t){return e[t]={},e}),{_exchanges:[]});D._id="exchanges";var M,L={getExchanges:function(e){return Object.keys(e).filter((function(e){return!/^_/.test(e)}))}},N={boot:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){var i,r,a,s,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:i=e.state,r=e.getters,i._exchanges.splice(0,i._exchanges.length),a=Object(j["a"])(r.getExchanges);try{for(a.s();!(s=a.n()).done;)o=s.value,i._exchanges.push(o),t.commit("app/EXCHANGE_UPDATED",o)}catch(l){a.e(l)}finally{a.f()}return n.next=6,Promise.all(r.getExchanges.map((function(e){return Object(P["a"])(e)})));case 6:return n.next=8,Object(c["q"])("connecting to exchanges");case 8:return n.next=10,t.dispatch("panes/refreshMarketsListeners");case 10:Object(P["b"])();case 11:case"end":return n.stop()}}),n)})))()},toggleExchange:function(e,t){var n=this;return Object(i["a"])(regeneratorRuntime.mark((function i(){var r,a,s;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:r=e.commit,a=e.state,s=e.dispatch,r("TOGGLE_EXCHANGE",t),a[t].disabled?s("disconnect",t):s("connect",t),n.commit("app/EXCHANGE_UPDATED",t);case 4:case"end":return i.stop()}}),i)})))()},disconnect:function(e,t){return Object(i["a"])(regeneratorRuntime.mark((function n(){var i,r,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return i=e.rootState,r=new RegExp("^".concat(t,":"),"i"),a=Object.keys(i.panes.marketsListeners).filter((function(e){return r.test(e)})),n.next=6,T["a"].disconnect(a);case 6:case"end":return n.stop()}}),n)})))()},connect:function(e,t){return Object(i["a"])(regeneratorRuntime.mark((function n(){var i,r,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return i=e.rootState,r=new RegExp("^".concat(t,":"),"i"),a=Object.keys(i.panes.marketsListeners).filter((function(e){return r.test(e)})),n.next=6,T["a"].connect(a);case 6:case"end":return n.stop()}}),n)})))()},toggleExchangeVisibility:function(e,t){var n=e.commit;n("TOGGLE_EXCHANGE_VISIBILITY",t),this.commit("app/EXCHANGE_UPDATED",t)}},B={TOGGLE_EXCHANGE:function(e,t){var n=!0;"boolean"===typeof e[t].disabled&&(n=!e[t].disabled),r["default"].set(e[t],"disabled",n)},TOGGLE_EXCHANGE_VISIBILITY:function(e,t){var n=!0;"boolean"===typeof e[t].hidden&&(n=!e[t].hidden),r["default"].set(e[t],"hidden",n)}},U={namespaced:!0,getters:L,state:D,actions:N,mutations:B},$=n("53ca"),G=n("be31"),q=n("bd60"),H=n("cb7c");M=window.innerWidth<640?H["b"]:H["a"];var F={getNextGridItemCooordinates:function(e){var t,n=-1,i=0,r=Object(j["a"])(e.layout.slice().sort((function(e,t){return e.x+2*e.y-(t.x+2*t.y)})));try{for(r.s();!(t=r.n()).done;){var a=t.value;if(a.x+2*a.y-(n+2*i)>=4)break;n=(a.x+a.w)%24,i=(a.y+a.h)%24}}catch(o){r.e(o)}finally{r.f()}var s=n+2*i+1;return n=s%24,i=Math.floor(s/24),{x:n,y:i}}},W={boot:function(e){return Object(i["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=e.state,n.marketsListeners={};case 2:case"end":return t.stop()}}),t)})))()},addPane:function(e,t){var n=this;return Object(i["a"])(regeneratorRuntime.mark((function i(){var a,o,l,u,d,h;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(a=e.commit,o=e.dispatch,l=e.state,t&&t.type){i.next=4;break}return n.dispatch("app/showNotice",{title:"Invalid addPane options",type:"error"}),i.abrupt("return");case 4:if(q["a"][t.type]){i.next=7;break}return n.dispatch("app/showNotice",{title:'Unrecognized pane type "'+t.type+'"',type:"error"}),i.abrupt("return");case 7:return u=t.name||"".concat(Object(c["c"])(t.type),"'s pane"),d=Object(c["u"])(Object(c["t"])(u),Object.keys(l.panes)),h={id:d,name:u,type:t.type,settings:t.settings,markets:t.markets||[]},h.markets.length||(h.markets=Object.keys(l.marketsListeners)),i.next=13,Object(s["a"])(d,{},!0,h);case 13:a("ADD_PANE",h),o("appendPaneGridItem",{id:h.id,type:h.type}),o("refreshMarketsListeners"),r["default"].nextTick((function(){window.scrollTo(0,document.body.scrollHeight)}));case 17:case"end":return i.stop()}}),i)})))()},removePane:function(e,t){var n=this;return Object(i["a"])(regeneratorRuntime.mark((function i(){var r,a,s,o;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(r=e.commit,a=e.state,s=e.dispatch,o=a.panes[t],o){i.next=4;break}return i.abrupt("return");case 4:return s("removePaneGridItems",t),r("REMOVE_PANE",t),s("refreshMarketsListeners"),i.next=9,G["a"].removeState(t);case 9:setTimeout((function(){n.unregisterModule(t),localStorage.removeItem(t)}));case 10:case"end":return i.stop()}}),i)})))()},appendPaneGridItem:function(e,t){var n=e.commit,i=e.getters,r=t.id,a=t.type,s=i.getNextGridItemCooordinates,o=s.x,c=s.y,l={i:r,x:o,y:c,w:4,h:4,type:a};n("ADD_GRID_ITEM",l)},removePaneGridItems:function(e,t){var n=e.commit,i=e.state,r=i.layout.find((function(e){return e.i===t}));if(r){var a=i.layout.indexOf(r);n("REMOVE_GRID_ITEM",a)}},refreshMarketsListeners:function(e){return Object(i["a"])(regeneratorRuntime.mark((function t(){var n,i,r,a,s,o,l,u,d,h,p,f,m,_,v,b;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=e.commit,i=e.state,r={},a={},t.t0=regeneratorRuntime.keys(i.panes);case 4:if((t.t1=t.t0()).done){t.next=14;break}if(s=t.t1.value,o=i.panes[s].markets,o){t.next=9;break}return t.abrupt("continue",4);case 9:"counters"!==i.panes[s].type&&"stats"!==i.panes[s].type||(l=Object(c["l"])(o),a[l]||(a[l]=o.map((function(e){return e.replace(":","")})))),u=Object(j["a"])(o);try{for(u.s();!(d=u.n()).done;)h=d.value,"undefined"===typeof r[h]&&(r[h]=0),r[h]++}catch(g){u.e(g)}finally{u.f()}t.next=4;break;case 14:p=Object.keys(r).concat(Object.keys(i.marketsListeners)).filter((function(e,t,n){return n.indexOf(e)===t})),f=[],m=[],_=Object(j["a"])(p);try{for(_.s();!(v=_.n()).done;)b=v.value,!i.marketsListeners[b]&&r[b]?f.push(b):i.marketsListeners[b]&&!r[b]&&m.push(b)}catch(g){_.e(g)}finally{_.f()}return t.next=22,Promise.all([T["a"].connect(f),T["a"].disconnect(m)]);case 22:T["a"].dispatch({op:"buckets",data:a}),n("SET_MARKETS_LISTENERS",r);case 24:case"end":return t.stop()}}),t)})))()},setMarketsForAll:function(e,t){var n=e.commit,i=e.state,r=e.dispatch;for(var a in i.panes)n("SET_PANE_MARKETS",{id:a,markets:t});r("refreshMarketsListeners")},setMarketsForPane:function(e,t){var n=e.commit,i=e.dispatch,r=t.id,a=t.markets;n("SET_PANE_MARKETS",{id:r,markets:a}),i("refreshMarketsListeners")},attachMarket:function(e,t){var n=e.state,i=e.commit,r=e.dispatch,a=t.id,s=t.market,o=n.panes[a].markets;-1===o.indexOf(s)&&(i("ADD_PANE_MARKET",{id:a,market:s}),r("refreshMarketsListeners"))},detachMarket:function(e,t){var n=e.state,i=e.commit,r=e.dispatch,a=t.id,s=t.market,o=n.panes[a].markets,c=o.indexOf(s);-1!==c&&(i("REMOVE_PAIR_MARKET",{id:a,index:c}),r("refreshMarketsListeners"))},copySettings:function(e,t){var n=e.rootState;if(n[t]){var i=JSON.stringify(n[t]);this.commit("app/SET_PANE_CLIPBOARD",i),this.dispatch("app/showNotice",{title:"Settings added to clipboard âœ…"})}else this.dispatch("app/showNotice",{title:"Pane ".concat(t," doesn't exists"),type:"error"})},applySettings:function(e,t){var n=e.rootState,i=t.id,r=t.settings;if(n[i]){for(var a in r)n[i][a]=r[a];this.dispatch("app/showNotice",{title:"Settings have been applied to pane ".concat(i)})}else this.dispatch("app/showNotice",{title:"Pane ".concat(i," doesn't exists"),type:"error"})},duplicatePane:function(e,t){var n=e.state,i=e.rootState,r=e.dispatch;if(n.panes[t]&&i[t]){var a=JSON.parse(JSON.stringify(n.panes[t]));a.settings=JSON.parse(JSON.stringify(i[t])),a.name+=" copy",r("addPane",a),this.dispatch("app/showNotice",{title:"Duplicated pane ".concat(t)})}else this.dispatch("app/showNotice",{title:"Pane ".concat(t," doesn't exists"),type:"error"})},resetPane:function(e,t){var n=this;return Object(i["a"])(regeneratorRuntime.mark((function i(){var r,a,o,l,u,d;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return r=e.state,a=e.commit,o=t.id,l=t.data,u=r.layout.find((function(e){return e.i===o})),d=JSON.parse(JSON.stringify(r.panes[o])),a("REMOVE_GRID_ITEM",r.layout.indexOf(u)),n.unregisterModule(o),i.next=8,G["a"].removeState(o);case 8:if(!l||"object"!==Object($["a"])(l)){i.next=11;break}return i.next=11,G["a"].saveState(o,l);case 11:return i.next=13,Object(c["s"])(100);case 13:return i.next=15,Object(s["a"])(o,{},!0,d);case 15:a("ADD_GRID_ITEM",u);case 16:case"end":return i.stop()}}),i)})))()},setZoom:function(e,t){var n=e.state,i=e.commit,r=t.id,a=t.zoom;a=a?(n.panes[r].zoom||1)+a:1;var s=Object.keys(n.panes).indexOf(r),o=document.getElementsByClassName("pane")[s];o&&(o.style.fontSize=a?a+"rem":""),i("SET_PANE_ZOOM",{id:r,zoom:a})}},K={ADD_PANE:function(e,t){r["default"].set(e.panes,t.id,t)},REMOVE_PANE:function(e,t){r["default"].delete(e.panes,t)},ADD_GRID_ITEM:function(e,t){e.layout.unshift(t)},REMOVE_GRID_ITEM:function(e,t){e.layout.splice(t,1)},UPDATE_LAYOUT:function(e,t){e.layout=t},SET_MARKETS_LISTENERS:function(e,t){e.marketsListeners=t},SET_PANE_MARKETS:function(e,t){var n=t.id,i=t.markets;e.panes[n].markets=i},REMOVE_PAIR_MARKET:function(e,t){var n=t.id,i=t.index;e.panes[n].markets.splice(i,1)},ADD_PAIR_MARKET:function(e,t){var n=t.id,i=t.market;e.panes[n].markets.push(i)},SET_PANE_NAME:function(e,t){var n=t.id,i=t.name;e.panes[n].name=i},SET_PANE_ZOOM:function(e,t){var n=t.id,i=t.zoom;r["default"].set(e.panes[n],"zoom",i)}},V={namespaced:!0,state:M,getters:F,actions:W,mutations:K};r["default"].use(a["a"]);var z=new a["a"].Store({}),X={app:O,settings:R,exchanges:U,panes:V};function Y(e){return Q.apply(this,arguments)}function Q(){return Q=Object(i["a"])(regeneratorRuntime.mark((function e(t){var n,i,r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(c["q"])(!0);case 2:if(!z.state.app){e.next=17;break}return z.dispatch("app/setBooted",!1),e.next=8,Object(c["q"])("unload workspace");case 8:return e.next=10,Object(c["s"])(500);case 10:if(n=Object.keys(z.state.panes.marketsListeners),!n.length){e.next=16;break}return e.next=14,Object(c["q"])("disconnect from "+n.slice(0,3).join(", ")+(n.length-3>0?" + "+(n.length-3)+" others":""));case 14:return e.next=16,T["a"].disconnect(n);case 16:for(i in z.state)z.unregisterModule(i);case 17:return e.next=19,Object(c["q"])("loading core module");case 19:return Object(s["a"])("app",X["app"]),e.next=22,Object(c["s"])(100);case 22:return e.next=24,z.dispatch("app/boot");case 24:return e.next=26,Object(c["q"])("setting up workspace");case 26:return Object(s["a"])("settings",X["settings"]),e.next=29,Object(c["s"])(100);case 29:return e.next=31,z.dispatch("settings/boot");case 31:return e.next=33,Object(c["q"])("loading panes");case 33:return Object(s["a"])("panes",X["panes"]),e.next=36,Object(c["s"])(100);case 36:return e.next=38,z.dispatch("panes/boot");case 38:e.t0=regeneratorRuntime.keys(X.panes.state.panes);case 39:if((e.t1=e.t0()).done){e.next=47;break}return r=e.t1.value,e.next=43,Object(c["q"])("registering pane module ".concat(r));case 43:return e.next=45,Object(s["a"])(r,{},!1,X.panes.state.panes[r]);case 45:e.next=39;break;case 47:return z.dispatch("app/setBooted"),e.next=50,Object(c["q"])("registering exchanges");case 50:return e.next=52,Object(s["a"])("exchanges",X["exchanges"]);case 52:e.t2=regeneratorRuntime.keys(X.panes.state.panes);case 53:if((e.t3=e.t2()).done){e.next=67;break}return a=e.t3.value,e.next=57,Object(c["q"])("booting module ".concat(a));case 57:return e.prev=57,e.next=60,z.dispatch(a+"/boot");case 60:e.next=65;break;case 62:e.prev=62,e.t4=e["catch"](57);case 65:e.next=53;break;case 67:return e.next=69,Object(c["q"])("loading exchanges");case 69:return e.next=71,z.dispatch("exchanges/boot");case 71:return e.next=73,Object(c["q"])(!1);case 73:case"end":return e.stop()}}),e,null,[[57,62]])}))),Q.apply(this,arguments)}z.subscribe((function(e,t){var n=e.type.split("/")[0];t[n]&&t[n]._id&&Object(s["b"])(t[n])}));t["b"]=z},"064f":function(e,t,n){},"06c2":function(e,t,n){"use strict";n.d(t,"a",(function(){return _})),n.d(t,"b",(function(){return b}));var i=n("2909"),r=n("3835"),a=n("b85c"),s=n("1da1"),o=(n("ac1f"),n("1276"),n("d3b7"),n("99af"),n("07ac"),n("96cf"),n("0613")),c=n("28f3"),l=n("a914"),u=n("be31");function d(e){e.timestamp=+new Date,u["a"].saveProducts(e)}function h(e,t){return p.apply(this,arguments)}function p(){return p=Object(s["a"])(regeneratorRuntime.mark((function e(t,n){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:i=[],n&&(i=Array.isArray(n)?n:n.products),o["b"].commit("app/INDEX_EXCHANGE_PRODUCTS",{exchange:t,products:i||[]});case 3:case"end":return e.stop()}}),e)}))),p.apply(this,arguments)}function f(e,t){return m.apply(this,arguments)}function m(){return m=Object(s["a"])(regeneratorRuntime.mark((function e(t,n){var i,s,o,c,u,p,f,m,_,v;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:Array.isArray(n)||(n=[n]),i=[],s=Object(a["a"])(n),e.prev=4,s.s();case 6:if((o=s.n()).done){e.next=24;break}return c=o.value,u=c.split("|"),p=Object(r["a"])(u,2),f=p[0],m=p[1],m||(m="GET"),f="https://cors.aggr.trade/"+f,e.prev=11,e.next=14,fetch(f,{method:m}).then((function(e){return e.json()}));case 14:_=e.sent,i[n.indexOf(c)]=_,e.next=22;break;case 18:e.prev=18,e.t0=e["catch"](11),i[n.indexOf(c)]=null;case 22:e.next=6;break;case 24:e.next=29;break;case 26:e.prev=26,e.t1=e["catch"](4),s.e(e.t1);case 29:return e.prev=29,s.f(),e.finish(29);case 32:if(-1!==i.indexOf(null)?i=null:1===i.length&&(i=i[0]),!i){e.next=45;break}return e.next=37,l["a"].dispatchAsync({op:"format-products",data:{exchange:t,data:i}});case 37:if(v=e.sent,!v){e.next=42;break}return h(t,v),d({exchange:t,data:v}),e.abrupt("return",v);case 42:return e.abrupt("return",null);case 45:return e.abrupt("return",null);case 46:case"end":return e.stop()}}),e,null,[[4,26,29,32],[11,18]])}))),m.apply(this,arguments)}function _(e,t){return v.apply(this,arguments)}function v(){return v=Object(s["a"])(regeneratorRuntime.mark((function e(t,n){var i,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=3,u["a"].getProducts(t);case 3:if(r=e.sent,!(r&&+new Date-r.timestamp<6048e5)){e.next=9;break}i=r.data,e.next=19;break;case 9:if(n){e.next=14;break}return e.abrupt("return",null);case 14:return Object(c["q"])("fetching ".concat(t,"'s products")),e.next=18,f(t,n);case 18:i=e.sent;case 19:return i&&h(t,i),e.abrupt("return",i);case 21:case"end":return e.stop()}}),e)}))),v.apply(this,arguments)}function b(){return g.apply(this,arguments)}function g(){return g=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=(t=Array.prototype).concat.apply(t,Object(i["a"])(Object.values(o["b"].state.app.indexedProducts))).length,o["b"].dispatch("app/showNotice",{id:"fetch-products",type:"success",title:"".concat(n," markets indexed ðŸ”¥")});case 2:case"end":return e.stop()}}),e)}))),g.apply(this,arguments)}},"0859":function(e,t,n){"use strict";n("bc2e")},"09b7":function(e,t,n){},"0c01":function(e,t,n){"use strict";var i=n("1da1"),r=n("d4ec"),a=n("bee2"),s=(n("96cf"),n("d3b7"),n("2b0e")),o=n("0613"),c=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Dialog",{staticClass:"-picker",attrs:{mask:!1,"header-background":e.currentColor},on:{clickOutside:e.close},scopedSlots:e._u([{key:"header",fn:function(){return[n("div",[n("div",{staticClass:"title"},[e._v(e._s(e.title))])])]},proxy:!0}])},[n("Picker",{attrs:{mode:e.picker,alpha:e.alpha},model:{value:e.currentColor,callback:function(t){e.currentColor=t},expression:"currentColor"}}),n("div",{staticClass:"verte__controller"},[e.enableAlpha?n("Slider",{staticClass:"-alpha",attrs:{gradient:["rgba("+e.rgb.red+", "+e.rgb.green+", "+e.rgb.blue+", 0)","rgba("+e.rgb.red+", "+e.rgb.green+", "+e.rgb.blue+", 1)"],min:0,max:1,step:.01,editable:!1,value:e.alpha,showCompletion:!1},model:{value:e.alpha,callback:function(t){e.alpha=t},expression:"alpha"}}):e._e(),e.rgbSliders?[n("Slider",{attrs:{gradient:["rgb(0,"+e.rgb.green+","+e.rgb.blue+")","rgb(255,"+e.rgb.green+","+e.rgb.blue+")"]},model:{value:e.rgb.red,callback:function(t){e.$set(e.rgb,"red",t)},expression:"rgb.red"}}),n("Slider",{attrs:{gradient:["rgb("+e.rgb.red+",0,"+e.rgb.blue+")","rgb("+e.rgb.red+",255,"+e.rgb.blue+")"]},model:{value:e.rgb.green,callback:function(t){e.$set(e.rgb,"green",t)},expression:"rgb.green"}}),n("Slider",{attrs:{gradient:["rgb("+e.rgb.red+","+e.rgb.green+",0)","rgb("+e.rgb.red+","+e.rgb.green+",255)"]},model:{value:e.rgb.blue,callback:function(t){e.$set(e.rgb,"blue",t)},expression:"rgb.blue"}})]:e._e(),n("div",{staticClass:"verte__inputs mt8"},[n("button",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"btn -text -accent",attrs:{type:"button",title:"Rotate"},on:{click:e.switchModel}},[n("i",{staticClass:"icon-refresh"})]),n("editable",{style:{color:e.currentColor},attrs:{content:e.typedColor},on:{output:function(t){return e.inputChanged(t)}}}),n("button",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"btn -text -accent",attrs:{type:"button",title:"Save color"},on:{click:e.submit}},[n("i",{staticClass:"icon-check"})])],1),e.showPalette?n("div",{ref:"recent",staticClass:"verte__recent"},e._l(e.colors,(function(t){return n("a",{key:t,staticClass:"verte__recent-color",style:"color: "+t,attrs:{role:"button",href:"#"},on:{click:function(n){return n.preventDefault(),e.selectColor(t)}}})})),0):e._e(),e.showHistory?n("div",{ref:"recent",staticClass:"verte__recent"},e._l(e.historySource,(function(t){return n("a",{key:t,staticClass:"verte__recent-color",style:"color: "+t,attrs:{role:"button",href:"#"},on:{click:function(n){return n.preventDefault(),e.selectColor(t)}}})})),0):e._e()],2)],1)},l=[],u=n("bea1"),d=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"picker",staticClass:"verte-picker",class:"verte-picker--"+e.mode},[n("div",{ref:"origin",staticClass:"verte-picker__origin"},[n("canvas",{ref:"canvas",staticClass:"verte-picker__canvas",on:{mousedown:e.handleSelect,touchstart:e.handleSelect}}),n("div",{ref:"cursor",staticClass:"verte-picker__cursor",style:"transform: translate3d("+e.cursor.x+"px, "+e.cursor.y+"px, 0)"})]),"square"===e.mode?n("slider",{staticClass:"verte-picker__slider",attrs:{showCompletion:!1,gradient:["#f00","#ff0","#0f0","#0ff","#00f","#f0f","#f00"],editable:!1,max:360},model:{value:e.currentHue,callback:function(t){e.currentHue=t},expression:"currentHue"}}):e._e(),"wheel"===e.mode?n("slider",{staticClass:"verte-picker__slider",attrs:{showCompletion:!1,gradient:["hsl("+e.currentColor.hue+",0%,"+e.currentColor.lum+"%)","hsl("+e.currentColor.hue+",100%,"+e.currentColor.lum+"%)"],editable:!1,max:100},model:{value:e.currentSat,callback:function(t){e.currentSat=t},expression:"currentSat"}}):e._e()],1)},h=[],p=n("5530"),f=(n("a9e3"),n("99af"),n("cb29"),n("2af1"),n("7ab0")),m=n("724c"),_={name:"VertePicker",components:{Slider:f["a"]},props:{edge:{type:Number,default:250},diameter:{type:Number,default:250},satSlider:{type:Boolean,default:!0},alpha:{type:Number,default:1},value:{type:String,default:"#fff"}},data:function(){return{mode:"square",currentHue:0,currentSat:0,currentColor:"",cursor:{},preventUpdating:!1,preventEcho:!1}},watch:{value:function(e){this.preventUpdating?this.preventUpdating=!1:this.handleValue(e,!0)},currentSat:function(){this.updateWheelColors(),this.updateColor()},currentHue:function(){this.updateSquareColors(),this.updateColor()}},methods:{initSquare:function(){var e=this.edge;this.$refs.canvas.width=e,this.$refs.canvas.height=e-100,this.ctx=this.$refs.canvas.getContext("2d"),this.updateSquareColors()},initWheel:function(){this.$refs.canvas.width=this.diameter,this.$refs.canvas.height=this.diameter,this.ctx=this.$refs.canvas.getContext("2d"),this.circle={path:new Path2D,xCords:this.diameter/2,yCords:this.diameter/2,radius:this.diameter/2},this.circle.path.moveTo(this.circle.xCords,this.circle.yCords),this.circle.path.arc(this.circle.xCords,this.circle.yCords,this.circle.radius,0,360),this.circle.path.closePath(),this.updateWheelColors()},handleValue:function(e){var t=this.pickerRect,n=t.width,i=t.height;if(this.currentColor=Object(u["j"])(e),this.preventEcho=!0,"wheel"===this.mode){var r=(100-this.currentColor.lum)*(this.diameter/200),a=this.diameter/2,s=Object(m["b"])(r,this.currentColor.hue/360);this.cursor={x:s.x+a,y:s.y+a},this.currentSat=this.currentColor.sat}if("square"===this.mode){var o=this.currentColor.sat/100*n,c=(100-this.currentColor.lum)/100*i;this.cursor={x:o,y:c},this.currentHue=this.currentColor.hue}},updateCursorPosition:function(e){var t=e.x,n=e.y,i=this.pickerRect,r=i.left,a=i.top,s=i.width,o=i.height,c={x:Math.min(Math.max(t-r,0),s),y:Math.min(Math.max(n-a,0),o)};("wheel"!==this.mode||this.ctx.isPointInPath(this.circle.path,c.x,c.y))&&(this.cursor=c,this.updateColor())},updateColor:function(){this.preventEcho?this.preventEcho=!1:(this.currentColor=this.getCanvasColor(),this.preventUpdating=!0,this.$emit("change",this.currentColor),this.$emit("input",this.currentColor))},updateWheelColors:function(){if(this.circle){var e=this.pickerRect,t=e.width,n=e.height,i=this.circle.xCords,r=this.circle.yCords,a=this.circle.radius,s=this.satSlider?this.currentSat:100;this.ctx.clearRect(0,0,t,n);for(var o=0;o<360;o+=1){var c=this.ctx.createRadialGradient(i,r,0,i,r,a),l=(o-2)*Math.PI/180,u=(o+2)*Math.PI/180;this.ctx.beginPath(),this.ctx.moveTo(i,r),this.ctx.arc(i,r,a,l,u),this.ctx.closePath(),c.addColorStop(0,"hsl(".concat(o,", ").concat(s,"%, 100%)")),c.addColorStop(.5,"hsl(".concat(o,", ").concat(s,"%, 50%)")),c.addColorStop(1,"hsl(".concat(o,", ").concat(s,"%, 0%)")),this.ctx.fillStyle=c,this.ctx.fill()}}},updateSquareColors:function(){var e=this.pickerRect,t=e.width,n=e.height;this.ctx.clearRect(0,0,t,n),this.ctx.fillStyle="hsl(".concat(this.currentHue,", 100%, 50%)"),this.ctx.fillRect(0,0,t,n);var i=this.ctx.createLinearGradient(0,0,t,0);i.addColorStop(0,"hsl(0, 0%, 50%)"),i.addColorStop(1,"hsla(0, 0%, 0%, 0)"),this.ctx.fillStyle=i,this.ctx.fillRect(0,0,t,n);var r=this.ctx.createLinearGradient(0,0,0,n);r.addColorStop(0,"hsl(0, 0%, 100%)"),r.addColorStop(.5,"hsla(0, 0%, 100%, 0)"),r.addColorStop(.5,"hsla(0, 0%, 0%, 0)"),r.addColorStop(1,"hsl(0, 0%, 0%) "),this.ctx.fillStyle=r,this.ctx.fillRect(0,0,t,n)},getCanvasColor:function(){var e=this.cursor,t=e.x,n=e.y,i=0,r=0,a=0;if("wheel"===this.mode){var s=this.diameter/2,o=t-s,c=-1*(n-s),l=Object(m["e"])(o,c),d=l.r,h=l.theta;r=100*(s-d)/s,a=~Math.sign(h)?360-h:-h,i=this.currentSat}if("square"===this.mode){var p=this.pickerRect,f=p.width,_=p.height;i=100*t/f,r=100-100*n/_,a=this.currentHue}return Object(u["h"])(Object(u["b"])({alpha:this.alpha,hue:Math.round(a),sat:Math.round(i),lum:Math.round(r)}))},handleSelect:function(e){var t=this;e.preventDefault(),this.pickerRect=this.$refs.canvas.getBoundingClientRect(),this.updateCursorPosition(Object(m["d"])(e));var n=function(e){window.requestAnimationFrame((function(){t.updateCursorPosition(Object(m["d"])(e))}))},i=function e(){document.removeEventListener("mousemove",n),document.removeEventListener("touchmove",n),document.removeEventListener("mouseup",e),document.removeEventListener("touchend",e)};document.addEventListener("mousemove",n),document.addEventListener("touchmove",n),document.addEventListener("mouseup",i),document.addEventListener("touchend",i)}},mounted:function(){var e=this;this.$nextTick((function(){e.pickerRect=Object(p["a"])(Object(p["a"])({},e.$refs.canvas.getBoundingClientRect()),{},{width:e.$refs.canvas.clientWidth,height:e.$refs.canvas.clientHeight}),"wheel"===e.mode&&e.initWheel(),"square"===e.mode&&e.initSquare(),e.$nextTick((function(){e.handleValue(e.value)}))}))}},v=_,b=(n("e0d0"),n("2877")),g=Object(b["a"])(v,d,h,!1,null,null,null),y=g.exports,k=n("fa07"),C=n("7250"),O=n("1ea0"),E={name:"Verte",mixins:[O["a"]],components:{Dialog:C["a"],Picker:y,Slider:f["a"]},props:{picker:{type:String,default:"square",validator:Object(m["f"])("picker",["wheel","square"])},value:{type:String,default:"#000"},title:{type:String,default:"Colorpicker"},model:{type:String,default:"rgb",validator:Object(m["f"])("model",["rgb","hex","hsl"])},display:{type:String,default:"picker",validator:Object(m["f"])("display",["picker","widget"])},menuPosition:{type:String,default:"bottom",validator:Object(m["f"])("menuPosition",["top","bottom","left","right","center"])},showHistory:{type:Boolean,default:!0},showPalette:{type:Boolean,default:!0},colorHistory:{type:Array,default:null},enableAlpha:{type:Boolean,default:!0},rgbSliders:{type:Boolean,default:!1}},data:function(){return{rgb:Object(u["k"])("#000"),hex:Object(u["i"])("#000"),hsl:Object(u["j"])("#000"),delta:{x:0,y:0},type:"rgb",internalColorHistory:[]}},beforeDestroy:function(){document.getElementById("app").classList.remove("-picking-color")},computed:{colors:function(){return k["a"]},historySource:function(){return this.$store.state.settings.recentColors},currentColor:{get:function(){return this[this.model],"rgb"===this.model?Object(u["c"])(this[this.model]):"hsl"===this.model?Object(u["b"])(this[this.model]):"hex"===this.model?Object(u["a"])(this[this.model]):""},set:function(e){this.selectColor(e)}},typedColor:function(){return"rgb"===this.type?Object(u["c"])(this[this.type]):"hsl"===this.type?Object(u["b"])(this[this.type]):"hex"===this.type?Object(u["a"])(this[this.type]):this.currentColor},alpha:{get:function(){return this[this.model]?isNaN(this[this.model].alpha)?1:this[this.model].alpha:1},set:function(e){this[this.model].alpha=e,this.selectColor(this[this.model])}}},watch:{value:function(e,t){e!==t&&e!==this.currentColor&&this.selectColor(e)}},created:function(){this.selectColor(this.value||"#000",!0),document.getElementById("app").classList.add("-picking-color")},methods:{selectColor:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e;if("string"===typeof e&&6===e.length&&(e="#"+e),Object(u["e"])(e))n="string"===typeof e?e:Object(u["b"])(e);else if(Object(u["f"])(e))n="string"===typeof e?e:Object(u["c"])(e);else{if(!Object(u["d"])(e))return;n="string"===typeof e?e:Object(u["a"])(e)}this.rgb=Object(u["k"])(n),this.hex=Object(u["i"])(n),this.hsl=Object(u["j"])(n),t||this.$emit("input",this.currentColor)},switchModel:function(){var e=["hex","rgb","hsl"],t=e.indexOf(this.type);this.type=e[t+1]||e[0]},submit:function(){this.$emit("beforeSubmit",this.currentColor),this.addColorToHistory(this.currentColor),this.$emit("input",this.currentColor),this.$emit("submit",this.currentColor)},addColorToHistory:function(e){this.$store.dispatch("settings/addRecentColor",e)},inputChanged:function(e){this.selectColor(e),this.type=Object(u["l"])(e)}}},w=E,T=Object(b["a"])(w,c,l,!1,null,null,null),I=T.exports,x=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Dialog",{on:{clickOutside:e.close},scopedSlots:e._u([{key:"header",fn:function(){return[n("div",{staticClass:"title"},[e._v(e._s(e.title))])]},proxy:!0}])},[n("p",{staticClass:"mx0",domProps:{innerHTML:e._s(e.message)}}),n("footer",[e.cancel?n("a",{staticClass:"btn -text",attrs:{href:"javascript:void(0);"},domProps:{textContent:e._s(e.cancel)},on:{click:function(t){return e.close(!1)}}}):e._e(),n("button",{staticClass:"btn -green -large",on:{click:function(t){return e.close(!0)}}},[n("i",{staticClass:"icon-check mr4"}),e._v(" "+e._s(e.ok))])])])},S=[],A={props:{title:{type:String,default:"Confirmation"},message:{type:String,required:!0},ok:{type:String,default:"OK"},cancel:{type:String,default:"Cancel"}},mixins:[O["a"]],data:function(){return{}},methods:{}},R=A,j=Object(b["a"])(R,x,S,!1,null,null,null),P=j.exports,D=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Dialog",{on:{clickOutside:e.close},scopedSlots:e._u([{key:"header",fn:function(){return[n("div",{staticClass:"title"},[e._v(e._s(e.action))])]},proxy:!0}])},[e.question?n("p",{staticClass:"mx0"},[e._v(e._s(e.question))]):e._e(),n("form",{on:{submit:function(t){return t.preventDefault(),e.submit(t)}}},[n("div",{staticClass:"form-group"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"}],ref:"input",staticClass:"form-control",attrs:{type:"text"},domProps:{value:e.value},on:{input:function(t){t.target.composing||(e.value=t.target.value)}}})]),n("footer",[n("a",{staticClass:"btn -text",attrs:{href:"javascript:void(0);"},on:{click:function(t){return e.close(!1)}}},[e._v("Cancel")]),n("button",{staticClass:"btn -green -large",attrs:{type:"submit"}},[n("i",{staticClass:"icon-check mr4"}),e._v(" Submit")])])])])},M=[],L={props:{question:{type:String},action:{type:String,required:!0},input:{type:String,default:""}},mixins:[O["a"]],data:function(){return{value:""}},created:function(){this.input&&this.input.length&&(this.value=this.input)},mounted:function(){var e=this;this.$nextTick((function(){e.$refs.input.focus()}))},methods:{submit:function(){this.close(this.value)}}},N=L,B=Object(b["a"])(N,D,M,!1,null,null,null),U=B.exports,$=function(){function e(){Object(r["a"])(this,e),this.mountedComponents={}}return Object(a["a"])(e,[{key:"createComponent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0,a=s["default"].extend(Object.assign({store:o["b"]},e)),c=new a(Object.assign({},{propsData:Object.assign({},n),destroyed:function(){r&&t.mountedComponents[r]--,t.pickerInstance===c&&delete t.pickerInstance,"function"===typeof i&&i(c.output)}}));return r&&!this.mountedComponents[r]&&(this.mountedComponents[r]=0),this.mountedComponents[r]++,c}},{key:"openAsPromise",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){var n,i,r=this,a=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:{},i=a.length>2?a[2]:void 0,e.abrupt("return",new Promise((function(e){t=r.createComponent(t,n,e,i),r.mountDialog(t)})));case 3:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"open",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return e=this.createComponent(e,t,null,n),this.mountDialog(e),e}},{key:"mountDialog",value:function(e){var t=document.getElementById("app")||document.body;t.appendChild(e.$mount().$el)}},{key:"isDialogOpened",value:function(e){return!!this.mountedComponents[e]}},{key:"openPicker",value:function(e,t,n){return this.pickerInstance?(this.pickerInstance.selectColor(e,!0),"undefined"!==typeof n&&(this.pickerInstance.title=n),this.pickerInstance.$off("input")):this.pickerInstance=this.open(I,{value:e,title:n}),"function"===typeof t&&this.pickerInstance.$on("input",t),this.pickerInstance}},{key:"confirm",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:if("string"===typeof t&&(t={message:t}),t.message){e.next=5;break}return e.abrupt("return");case 5:return e.abrupt("return",this.openAsPromise(P,t));case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"prompt",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:if("string"===typeof t&&(t={action:t}),t.action){e.next=5;break}return e.abrupt("return");case 5:return e.abrupt("return",this.openAsPromise(U,t));case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}]),e}();t["a"]=new $},"14d8":function(e,t,n){},"15a7":function(e,t,n){"use strict";n("3596")},1974:function(e,t,n){},"1ea0":function(e,t,n){"use strict";n("d3b7");var i=n("7250");t["a"]={components:{Dialog:i["a"]},data:function(){return{preventClickOutside:!1,output:null}},created:function(){},methods:{close:function(e){if(this._isDestroyed,!this.preventClose){e&&(this.output=e),this.$destroy();try{this.$el.parentNode.removeChild(this.$el)}catch(t){}return Promise.resolve()}}}}},2818:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Dialog",{on:{clickOutside:e.close},scopedSlots:e._u([{key:"header",fn:function(){return[n("div",[n("div",{staticClass:"title"},[e._v("BUCKET")]),n("div",{staticClass:"subtitle"},[e._v(e._s(e.name))])]),n("dropdown",{staticClass:"form-control -left -center w-auto",attrs:{selected:e.type,label:"Type",options:e.availableTypes,placeholder:"type"},on:{output:function(t){return e.$store.dispatch(e.paneId+"/updateBucket",{id:e.bucketId,prop:"type",value:t})}}})]},proxy:!0}])},[n("div",{staticClass:"column mb8"},[n("div",{staticClass:"form-group  -fill"},[n("label",[e._v("Name")]),n("input",{staticClass:"form-control",attrs:{type:"text"},domProps:{value:e.name},on:{input:function(t){return e.$store.dispatch(e.paneId+"/renameBucket",{id:e.bucketId,name:t.target.value})}}})]),e.conditionnalColor?e._e():n("div",{ref:"colorContainer",staticClass:"form-group -end mtauto -tight"},[n("verte",{attrs:{picker:"square",menuPosition:"left",model:"rgb",value:e.color},on:{input:function(t){return e.$store.dispatch(e.paneId+"/updateBucket",{id:e.bucketId,prop:"color",value:t})}}})],1),"histogram"===e.type?n("div",{staticClass:"form-group -tight -end mtauto"},[n("label",{directives:[{name:"tippy",rawName:"v-tippy",value:{placement:"bottom"},expression:"{ placement: 'bottom' }"}],staticClass:"checkbox-control checkbox-control-input -auto flex-right",attrs:{title:"Enable onditionnal color"}},[n("input",{staticClass:"form-control",attrs:{type:"checkbox"},domProps:{checked:e.conditionnalColor},on:{change:function(t){return e.$store.commit(e.paneId+"/TOGGLE_BUCKET_COLOR_CONDITION",e.bucketId)}}}),n("div",{attrs:{on:"dynamic",off:"fixed"}})])]):e._e()]),e.conditionnalColor?n("div",{staticClass:"form-group mb8"},[n("label",{attrs:{for:""}},[e._v("Color condition "),n("span",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"icon-info",attrs:{title:"eg: value > 0 ? 'red' : 'white'"}})]),n("textarea",{staticClass:"form-control",attrs:{rows:"2",spellcheck:"false"},domProps:{value:e.color},on:{change:function(t){return e.$store.dispatch(e.paneId+"/updateBucket",{id:e.bucketId,prop:"color",value:t.target.value})}}})]):e._e(),n("div",{staticClass:"column"},[n("div",{staticClass:"form-group mb8"},[n("label",[e._v(" Window (m) "),n("span",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"icon-info",attrs:{title:"Sum over given interval (eg: 30s or 10m or 1h)"}})]),n("input",{staticClass:"form-control",attrs:{type:"text",placeholder:e.getHms(e.$store.state[e.paneId].window)+" (default)"},domProps:{value:e.window},on:{change:function(t){return e.$store.dispatch(e.paneId+"/updateBucket",{id:e.bucketId,prop:"window",value:t.target.value})}}})]),n("div",{staticClass:"form-group mb8"},[n("label",[e._v(" Precision "),n("span",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"icon-info",attrs:{title:"Decimal precision"}})]),n("editable",{staticClass:"form-control",attrs:{placeholder:"auto",content:e.precision},on:{output:function(t){return e.$store.dispatch(e.paneId+"/updateBucket",{id:e.bucketId,prop:"precision",value:t})}}})],1)]),n("div",{staticClass:"form-group"},[n("label",{attrs:{for:""}},[e._v("Value "),n("span",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"icon-info",attrs:{title:"/!\\Javascript syntax/!\\<br>use build in variable such as vbuy/vsell (volume) cbuy/csell (trade count) lbuy/lsell (liquidation volume)"}})]),n("textarea",{staticClass:"form-control",attrs:{rows:"5",spellcheck:"false"},domProps:{value:e.input},on:{change:function(t){return e.$store.dispatch(e.paneId+"/updateBucket",{id:e.bucketId,prop:"input",value:t.target.value})}}}),n("p",{staticClass:"help-text mt-8"},[e._v(" Sum "),n("code",[e._v(e._s(e.input))]),e._v(" over "+e._s(e.window)+" window ")])]),n("hr"),n("div",{staticClass:"column"},[n("div",{staticClass:"form-group"},[n("label",{directives:[{name:"tippy",rawName:"v-tippy",value:{placement:"bottom"},expression:"{ placement: 'bottom' }"}],staticClass:"checkbox-control",attrs:{title:e.enabled?"Disable":"Enable"},on:{change:function(t){return e.disable(e.bucketId,t)}}},[n("input",{staticClass:"form-control",attrs:{type:"checkbox"},domProps:{checked:e.enabled}}),n("div"),n("span",[e._v(" "+e._s(e.enabled?"Active":"Disabled")+" ")])])]),n("button",{staticClass:"btn -red",on:{click:e.remove}},[n("i",{staticClass:"icon-trash"})])])])},r=[],a=n("1da1"),s=(n("96cf"),n("b0c0"),n("0613")),o=n("28f3"),c=n("7250"),l=n("1ea0"),u={props:["paneId","bucketId"],mixins:[l["a"]],components:{Dialog:c["a"]},computed:{color:function(){return s["b"].state[this.paneId].buckets[this.bucketId].color},conditionnalColor:function(){return"undefined"===typeof s["b"].state[this.paneId].buckets[this.bucketId].conditionnalColor&&this.$set(s["b"].state[this.paneId].buckets[this.bucketId],"conditionnalColor",!1),s["b"].state[this.paneId].buckets[this.bucketId].conditionnalColor},enabled:function(){return s["b"].state[this.paneId].buckets[this.bucketId].enabled},name:function(){return s["b"].state[this.paneId].buckets[this.bucketId].name},type:function(){return s["b"].state[this.paneId].buckets[this.bucketId].type},input:function(){return s["b"].state[this.paneId].buckets[this.bucketId].input},precision:function(){return s["b"].state[this.paneId].buckets[this.bucketId].precision||null},window:function(){var e=s["b"].state[this.paneId].buckets[this.bucketId].window;return e?Object(o["m"])(e):null}},data:function(){return{availableTypes:{line:"Line",area:"Area",histogram:"Histogram"}}},methods:{getHms:function(e){return Object(o["m"])(e)},disable:function(e,t){this.$store.dispatch(this.paneId+"/updateBucket",{id:e,prop:"enabled",value:t.target.checked}),this.close()},remove:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.close();case 2:e.$store.commit(e.paneId+"/REMOVE_BUCKET",e.bucketId);case 3:case"end":return t.stop()}}),t)})))()}}},d=u,h=n("2877"),p=Object(h["a"])(d,i,r,!1,null,null,null);t["a"]=p.exports},"28f3":function(e,t,n){"use strict";n.d(t,"h",(function(){return o})),n.d(t,"d",(function(){return c})),n.d(t,"j",(function(){return l})),n.d(t,"a",(function(){return u})),n.d(t,"m",(function(){return d})),n.d(t,"r",(function(){return h})),n.d(t,"u",(function(){return p})),n.d(t,"k",(function(){return f})),n.d(t,"e",(function(){return m})),n.d(t,"t",(function(){return _})),n.d(t,"f",(function(){return v})),n.d(t,"s",(function(){return b})),n.d(t,"c",(function(){return g})),n.d(t,"l",(function(){return y})),n.d(t,"p",(function(){return k})),n.d(t,"q",(function(){return C})),n.d(t,"n",(function(){return E})),n.d(t,"g",(function(){return w})),n.d(t,"o",(function(){return T})),n.d(t,"b",(function(){return I})),n.d(t,"i",(function(){return x}));n("53ca");var i=n("1da1"),r=(n("96cf"),n("b680"),n("ac1f"),n("1276"),n("d3b7"),n("25f0"),n("498a"),n("fb6a"),n("4d63"),n("a15b"),n("5319"),n("d81d"),n("466d"),n("5cc6"),n("9a8c"),n("a975"),n("735e"),n("c1ac"),n("d139"),n("3a7b"),n("d5d6"),n("82f8"),n("e91f"),n("60bd"),n("5f96"),n("3280"),n("3fcc"),n("ca91"),n("25a1"),n("cd26"),n("3c5d"),n("2954"),n("649e"),n("219c"),n("170b"),n("b39a"),n("72f7"),n("3ca3"),n("ddb0"),n("2b3d"),n("0613")),a=document.getElementById("progress"),s=a.children[0];function o(e,t){var n=e<0;return e=Math.abs(e),e=e>=1e6?+(e/1e6).toFixed(isNaN(t)?1:t)+"M":e>=1e5?+(e/1e3).toFixed(isNaN(t)?0:t)+"K":e>=1e3?+(e/1e3).toFixed(isNaN(t)?1:t)+"K":+e.toFixed(4),n?"-"+e:e}function c(e){return Math.floor(e)===e?0:e.toString().split(".")[1].length||0}function l(e){return e=+e||0,r["b"].state.settings.decimalPrecision?e.toFixed(r["b"].state.settings.decimalPrecision):r["b"].state.app.optimalDecimal?e.toFixed(r["b"].state.app.optimalDecimal):e.toFixed(2)}function u(e){var t,n,i=Math.floor((+new Date-e)/1e3);return n=(t=Math.floor(i/31536e3))>1?t+"y":(t=Math.floor(i/2592e3))>=1?t+"m":(t=Math.floor(i/86400))>=1?t+"d":(t=Math.floor(i/3600))>=1?t+"h":(t=Math.floor(i/60))>=1?t+"m":Math.ceil(i)+"s",n}function d(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(isNaN(e)||null===e)return null;var n=e<0?"-":"";e=Math.abs(e);var i=Math.floor(e/1e3/3600),r=Math.floor(e/1e3%3600/60),a=Math.floor(e/1e3%3600%60),s="";return s+=t&&s.length||!(i>0)?"":n+i+"h"+(!t&&r?", ":""),s+=t&&s.length||!(r>0)?"":n+r+"m"+(!t&&a?", ":""),s+=t&&s.length||!(a>0)?"":n+a+"s",(!s.length||!t&&e<6e4&&e>1e3*a)&&(s+=(s.length?", ":"")+n+(e-1e3*a)+"ms"),s.trim()}function h(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"abcdefghijklmnopqrstuvwxyz0123456789",n="",i=t.length,r=0;r<e;r++)n+=t.charAt(Math.floor(Math.random()*i));return n}function p(e,t){var n=e.substr(),i=1;while(-1!==t.indexOf(e))e=n+ ++i;return e}function f(e){var t=new Date(1e3*e);return t.getDate()+"/"+(t.getMonth()+1)+" "+t.toTimeString().split(" ")[0]}var m=function e(t,n,i){if(1!==n.length){if(0===n.length)throw"error";return t[n[0]]||(t[n[0]]={}),e(t[n[0]],n.slice(1),i)}t[n[0]]=i},_=function(e){var t="Ã Ã¡Ã¢Ã¤Ã¦Ã£Ã¥ÄÄƒÄ…Ã§Ä‡ÄÄ‘ÄÃ¨Ã©ÃªÃ«Ä“Ä—Ä™Ä›ÄŸÇµá¸§Ã®Ã¯Ã­Ä«Ä¯Ã¬Å‚á¸¿Ã±Å„Ç¹ÅˆÃ´Ã¶Ã²Ã³Å“Ã¸ÅÃµÅ‘á¹•Å•Å™ÃŸÅ›Å¡ÅŸÈ™Å¥È›Ã»Ã¼Ã¹ÃºÅ«Ç˜Å¯Å±Å³áºƒáºÃ¿Ã½Å¾ÅºÅ¼Â·/_,:;",n="aaaaaaaaaacccddeeeeeeeegghiiiiiilmnnnnoooooooooprrsssssttuuuuuuuuuwxyyzzz------",i=new RegExp(t.split("").join("|"),"g");return e.toString().toLowerCase().replace(/\s+/g,"-").replace(i,(function(e){return n.charAt(t.indexOf(e))})).replace(/&/g,"-and-").replace(/[^\w-]+/g,"").replace(/--+/g,"-").replace(/^-+/,"").replace(/-+$/,"")},v=function(e,t){var n="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(e,null,2)),i=document.createElement("a");i.setAttribute("href",n),i.setAttribute("download",t+".json"),document.body.appendChild(i),i.click(),i.remove()};function b(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3;return new Promise((function(t){setTimeout((function(){return t()}),e)}))}function g(e){return e.charAt(0).toUpperCase()+e.slice(1)}function y(e){return e.map((function(e){return e.replace(/[^a-zA-Z]+/gi,"")})).sort((function(e,t){return e.localeCompare(t)})).join("")}function k(e){return e.match(/([^:]*):(.*)/).slice(1,3)}function C(e){return O.apply(this,arguments)}function O(){return O=Object(i["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("boolean"!==typeof t){e.next=3;break}return a.style.display=t?"flex":"none",e.abrupt("return");case 3:s.innerText=t;case 5:case"end":return e.stop()}}),e)}))),O.apply(this,arguments)}function E(e,t){for(var n=atob(e),i=new Array(n.length),r=0;r<n.length;r++)i[r]=n.charCodeAt(r);var a=new Uint8Array(i),s=new Blob([a],{type:t+";base64"}),o=URL.createObjectURL(s);window.open(o)}function w(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:/\(/,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:/\)/;if(!n.test(e[t]))throw new Error("No "+n.toString()+" at index "+t);for(var r=1,a=t+1;a<e.length;a++)if(i.test(e[a])){if(0==--r)return a}else n.test(e[a])&&r++;return-1}function T(e){var t,n=/\(|{|\[/g,i=0;do{if(t=n.exec(e)){i++;var r=w(e,t.index,/\(|{|\[/,/\)|}|\]/),a=e.slice(t.index+1,r).replace(/,/g,"#COMMA#");e=e.slice(0,t.index+1)+a+e.slice(r,e.length)}}while(t&&i<10);if(i>=10)throw new Error("maxiumum parseFunctionArguments iteration reached");return e.split(",").map((function(e){return e.trim().replace(/#COMMA#/g,",")}))}function I(e){return e.replace(/-([a-z])/g,(function(e){return e[1].toUpperCase()}))}function x(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(0===e)return"0 Bytes";var n=1024,i=t<0?0:t,r=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],a=Math.floor(Math.log(e)/Math.log(n));return parseFloat((e/Math.pow(n,a)).toFixed(i))+" "+r[a]}},"29d8":function(e,t,n){},"2da9":function(e,t,n){},3252:function(e,t,n){"use strict";n("2da9")},"32b6":function(e,t,n){"use strict";n("064f")},3596:function(e,t,n){},3642:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return SerieBuilder}));var _Users_kevin_www_SignificantTrades_client_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("2909"),_Users_kevin_www_SignificantTrades_client_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("ade3"),_Users_kevin_www_SignificantTrades_client_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("3835"),_Users_kevin_www_SignificantTrades_client_node_modules_babel_runtime_helpers_esm_typeof__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("53ca"),_Users_kevin_www_SignificantTrades_client_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("b85c"),_Users_kevin_www_SignificantTrades_client_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("d4ec"),_Users_kevin_www_SignificantTrades_client_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("bee2"),core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("ac1f"),core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_7__),core_js_modules_es_string_replace_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("5319"),core_js_modules_es_string_replace_js__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(core_js_modules_es_string_replace_js__WEBPACK_IMPORTED_MODULE_8__),core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("b0c0"),core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_9__),core_js_modules_es_array_slice_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("fb6a"),core_js_modules_es_array_slice_js__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(core_js_modules_es_array_slice_js__WEBPACK_IMPORTED_MODULE_10__),core_js_modules_es_string_split_js__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("1276"),core_js_modules_es_string_split_js__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(core_js_modules_es_string_split_js__WEBPACK_IMPORTED_MODULE_11__),core_js_modules_es_string_trim_js__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("498a"),core_js_modules_es_string_trim_js__WEBPACK_IMPORTED_MODULE_12___default=__webpack_require__.n(core_js_modules_es_string_trim_js__WEBPACK_IMPORTED_MODULE_12__),core_js_modules_es_string_match_js__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("466d"),core_js_modules_es_string_match_js__WEBPACK_IMPORTED_MODULE_13___default=__webpack_require__.n(core_js_modules_es_string_match_js__WEBPACK_IMPORTED_MODULE_13__),core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("99af"),core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_14___default=__webpack_require__.n(core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_14__),core_js_modules_es_array_join_js__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("a15b"),core_js_modules_es_array_join_js__WEBPACK_IMPORTED_MODULE_15___default=__webpack_require__.n(core_js_modules_es_array_join_js__WEBPACK_IMPORTED_MODULE_15__),core_js_modules_es_regexp_constructor_js__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("4d63"),core_js_modules_es_regexp_constructor_js__WEBPACK_IMPORTED_MODULE_16___default=__webpack_require__.n(core_js_modules_es_regexp_constructor_js__WEBPACK_IMPORTED_MODULE_16__),core_js_modules_es_regexp_to_string_js__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("25f0"),core_js_modules_es_regexp_to_string_js__WEBPACK_IMPORTED_MODULE_17___default=__webpack_require__.n(core_js_modules_es_regexp_to_string_js__WEBPACK_IMPORTED_MODULE_17__),core_js_modules_es_array_splice_js__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__("a434"),core_js_modules_es_array_splice_js__WEBPACK_IMPORTED_MODULE_18___default=__webpack_require__.n(core_js_modules_es_array_splice_js__WEBPACK_IMPORTED_MODULE_18__),core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__("b64b"),core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_19___default=__webpack_require__.n(core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_19__),core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__("d81d"),core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_20___default=__webpack_require__.n(core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_20__),core_js_modules_es_array_find_js__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__("7db0"),core_js_modules_es_array_find_js__WEBPACK_IMPORTED_MODULE_21___default=__webpack_require__.n(core_js_modules_es_array_find_js__WEBPACK_IMPORTED_MODULE_21__),core_js_modules_es_object_values_js__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__("07ac"),core_js_modules_es_object_values_js__WEBPACK_IMPORTED_MODULE_22___default=__webpack_require__.n(core_js_modules_es_object_values_js__WEBPACK_IMPORTED_MODULE_22__),core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__("4de4"),core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_23___default=__webpack_require__.n(core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_23__),_serieUtils__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__("68e0"),_store__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__("0613"),_utils_helpers__WEBPACK_IMPORTED_MODULE_26__=__webpack_require__("28f3"),_chartOptions__WEBPACK_IMPORTED_MODULE_27__=__webpack_require__("5a23"),VARIABLE_REGEX=/(?:^|\n)([a-zA-Z0_9_]+)\(?(\d*)\)?\s*=\s*([^;,]*)?/,VARIABLES_VAR_NAME="vars",FUNCTIONS_VAR_NAME="fns",SERIE_TYPES={candlestick:"ohlc",bar:"ohlc",line:"number",histogram:"number",area:"number",cloudarea:"range"},SerieBuilder=function(){function SerieBuilder(){Object(_Users_kevin_www_SignificantTrades_client_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_5__["a"])(this,SerieBuilder)}return Object(_Users_kevin_www_SignificantTrades_client_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_6__["a"])(SerieBuilder,[{key:"build",value:function(e,t,n){this.paneId=n,this.indicatorId=e.id,this.serieIndicatorsMap=t,this.markets=[];var i,r=Object(_Users_kevin_www_SignificantTrades_client_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_4__["a"])(_store__WEBPACK_IMPORTED_MODULE_25__["b"].state.panes.panes[this.paneId].markets);try{for(r.s();!(i=r.n()).done;){var a=i.value;-1===this.markets.indexOf(a)&&this.markets.push(a)}}catch(y){r.e(y)}finally{r.f()}var s,o=this.parse(e.script),c=Object(_Users_kevin_www_SignificantTrades_client_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_4__["a"])(o.functions);try{for(c.s();!(s=c.n()).done;){var l=s.value;this.determineFunctionState(l)}}catch(y){c.e(y)}finally{c.f()}var u,d=Object(_Users_kevin_www_SignificantTrades_client_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_4__["a"])(o.variables);try{for(d.s();!(u=d.n()).done;){var h=u.value;this.determineVariableState(h)}}catch(y){d.e(y)}finally{d.f()}var p,f=this.test(o,e.options),m=Object(_Users_kevin_www_SignificantTrades_client_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_4__["a"])(o.functions);try{for(m.s();!(p=m.n()).done;){var _=p.value;this.determineFunctionState(_)}}catch(y){m.e(y)}finally{m.f()}var v,b=Object(_Users_kevin_www_SignificantTrades_client_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_4__["a"])(o.variables);try{for(b.s();!(v=b.n()).done;){var g=v.value;this.determineVariableState(g)}}catch(y){b.e(y)}finally{b.f()}return{output:o.output,functions:o.functions,variables:o.variables,references:o.references,markets:o.markets,plots:o.plots,type:f}}},{key:"normalizeInput",value:function(e){return e=e.replace(/([^.])?\b(bar)\b/gi,"$1renderer"),e=e.replace(/([^.]|^)\b(vbuy|vsell|cbuy|csell|lbuy|lsell)\b/gi,"$1renderer.bar.$2"),e=e.replace(/([^.]|^)\b(time)\b\s*([^:])/gi,"$1renderer.localTimestamp$3"),e=e.replace(/[^\S\r\n]/g,""),e}},{key:"determineFunctionState",value:function(e){if(Object(_Users_kevin_www_SignificantTrades_client_node_modules_babel_runtime_helpers_esm_typeof__WEBPACK_IMPORTED_MODULE_3__["a"])(_serieUtils__WEBPACK_IMPORTED_MODULE_24__[e.name])&&"object"===Object(_Users_kevin_www_SignificantTrades_client_node_modules_babel_runtime_helpers_esm_typeof__WEBPACK_IMPORTED_MODULE_3__["a"])(_serieUtils__WEBPACK_IMPORTED_MODULE_24__[e.name])){e.persistence=[],e.state={};var t=["count","points","sum"];for(var n in _serieUtils__WEBPACK_IMPORTED_MODULE_24__[e.name]){try{e.state[n]=JSON.parse(JSON.stringify(_serieUtils__WEBPACK_IMPORTED_MODULE_24__[e.name][n]))}catch(i){e.state[n]=_serieUtils__WEBPACK_IMPORTED_MODULE_24__[e.name]}-1===t.indexOf(n)&&e.persistence.push(n)}}else e.state={}}},{key:"determineVariableState",value:function(e){e.length>1?e.state=[]:e.state=0}},{key:"parse",value:function(e){var t=[],n=[],i=[],r={},a=[],s=this.normalizeInput(e);return s=this.parseVariables(s,n),s=this.parseFunctions(s,t,i),s=this.parseMarkets(s,r),s=this.parseReferences(s,a,i),s=this.formatOutput(s),{output:s,functions:t,variables:n,plots:i,markets:r,references:a}}},{key:"formatOutput",value:function(e){var t,n=/\(|{|\[/g;do{if(t=n.exec(e)){var i="("===t[0],r=Object(_utils_helpers__WEBPACK_IMPORTED_MODULE_26__["g"])(e,t.index,/\(|{|\[/,/\)|}|\]/),a=e.slice(t.index+1,r).replace(/\n/g," ");e=e.slice(0,t.index)+e.slice(t.index,t.index+1)+a+e.slice(r,r+1)+(i?"\n":"")+e.slice(r+1,e.length),n.lastIndex=r}}while(t);for(var s=e.trim().split(/\n/),o=0;o<s.length;o++){var c=s[o].match(/renderer.sources\['[\w/:_-]+']\.\w+/g);c&&1===c.length&&(s[o]="if (".concat(c[0],") {\n          ").concat(s[o],"\n        }"))}return s.join("\n").replace(/\n\n/g,"\n")}},{key:"parseVariables",value:function(e,t){var n=null,i=0;do{if(n=VARIABLE_REGEX.exec(e)){i++;var r=n[1],a=+n[2]||1;e=e.replace(new RegExp("([^.]|^)\\b("+r+")\\b","ig"),"$1".concat(VARIABLES_VAR_NAME,"[").concat(t.length,"]"));var s={type:"unknown",length:a,name:r};t.push(s),e=e.replace(new RegExp("(".concat(VARIABLES_VAR_NAME,"\\[").concat(t.length-1,"\\])\\(").concat(s.length,"\\)\\s*=\\s*")),"$1=")}}while(n&&i<5);return e=this.determineVariablesType(e,t),e}},{key:"parseSerie",value:function(e,t,n){for(var i=t[1].replace(/^plot/,""),r=e.slice(t.index+t[1].length+1,Object(_utils_helpers__WEBPACK_IMPORTED_MODULE_26__["g"])(e,t.index+t[1].length)),a=t[1]+"("+r+")",s=Object(_utils_helpers__WEBPACK_IMPORTED_MODULE_26__["o"])(r),o={},c=0;c<s.length;c++)try{var l=s[c].match(/^(\w+)\s*=(.*)/),u=Object(_Users_kevin_www_SignificantTrades_client_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_2__["a"])(l,3),d=u[1],h=u[2];if(!d||!h.length)continue;var p=h.trim();try{p=JSON.parse(p)}catch(k){}o[d.trim()]=p,s.splice(c,1),c--}catch(k){continue}var f="renderer.indicators['".concat(this.indicatorId,"'].series[").concat(n.length,"]"),m="".concat(f," = "),_=SERIE_TYPES[i];if(1===s.length&&"{"===s[0][0]&&/time:/.test(s[0]))m+=s[0];else if("ohlc"===_)if(4===s.length)m+="{ time: renderer.localTimestamp, open: ".concat(s[0],", high: ").concat(s[1],", low: ").concat(s[2],", close: ").concat(s[3]," }");else{if(1!==s.length)throw new Error("invalid input for function ".concat(t[1],", expected a ohlc object or 4 number"));m+=s[0]}else if("range"===_){if(2!==s.length)throw new Error("invalid input for function ".concat(t[1],", expected 2 arguments (lowerValue and higherValue)"));m+="{ time: renderer.localTimestamp, lowerValue: ".concat(s[0],", higherValue: ").concat(s[1]," }")}else if("number"===_){if(1!==s.length)throw new Error("invalid input for function ".concat(t[1],", expected 1 value (number)"));m+="{ time: renderer.localTimestamp, value: ".concat(s[0]," }")}var v,b="series[".concat(n.length,"].update(renderer.indicators['").concat(this.indicatorId,"'].series[").concat(n.length,"])"),g=m+",";"histogram"===i?g+=f+".value&&":"line"===i?g+=f+".value !== null&&":"cloudarea"===i&&(g+=f+".lowerValue !== null&&"),g+=b,e=e.replace(a,g),"string"===typeof o.id&&o.id.length?(v=o.id,delete o.id):v=this.getPlotId(r);var y=Object.keys(this.serieIndicatorsMap).concat(n.map((function(e){return e.id})));return n.push({id:Object(_utils_helpers__WEBPACK_IMPORTED_MODULE_26__["u"])(v,y),type:_chartOptions__WEBPACK_IMPORTED_MODULE_27__["g"][i]||i,expectedInput:_,options:o}),e}},{key:"parseFunctions",value:function(e,t,n){var i=null,r=new RegExp("([a-zA-Z0_9_]+)\\(","g");do{if(i=r.exec(e)){var a=i[1],s=Object.prototype.hasOwnProperty.call(Math,a),o=SERIE_TYPES[a.replace(/^plot/,"")],c="."===e[i.index-1];if(s||o||c){r.lastIndex=i.index+i[0].length,o&&(e=this.parseSerie(e,i,n));continue}var l={name:a},u=_serieUtils__WEBPACK_IMPORTED_MODULE_24__[a+"$"];if(!u)throw new Error("function ".concat(a," doesn't exists"));var d=i.index,h=Object(_utils_helpers__WEBPACK_IMPORTED_MODULE_26__["g"])(e,d+i[1].length),p=Object(_utils_helpers__WEBPACK_IMPORTED_MODULE_26__["o"])(e.slice(d+i[1].length+1,h));2===p.length&&(l.arg=p[1]),"ohlc"!==a&&"cum_ohlc"!==a||1!==p.length||p.push("renderer.localTimestamp"),e="".concat(e.slice(0,d),"utils.").concat(a,"$(").concat(FUNCTIONS_VAR_NAME,"[").concat(t.length,"].state,").concat(p.join(","),")").concat(e.slice(h+1,e.length)),t.push(l)}}while(i);return e}},{key:"parseMarkets",value:function(e,t){if(!this.markets.length)return e;var n=/\b([A-Z_]{3,}:[a-zA-Z0-9/_-]{5,})(:[\w]{4,})?\.?([a-z]{4,})?\b/,i=null;do{if(i=n.exec(e)){var r=i[1]+(i[2]?i[2]:""),a=r.replace(":",""),s=i[3];t[a]||(t[a]=[]),s&&-1===t[a].indexOf(s)&&t[a].push(s),e=e.replace(new RegExp("([^.$])\\b("+r+")\\b","i"),"$1renderer.sources['".concat(a,"']"))}}while(i);return e}},{key:"parseReferences",value:function(e,t,n){var i=this,r=new RegExp("\\$([a-z_\\-0-9]+)\\b"),a=null;do{if(a=r.exec(e)){var s=a[1];try{(function(){var r=i.getSeriePath(s,n),a=Object(_Users_kevin_www_SignificantTrades_client_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_2__["a"])(r,2),o=a[0],c=a[1];t.find((function(e){return e.indicatorId===o&&e.plotIndex===c}))||t.push({indicatorId:o,serieId:s,plotIndex:c}),e=e.replace(new RegExp("\\$("+s+")\\b","ig"),"renderer.indicators['".concat(o,"'].series[").concat(c,"]"))})()}catch(o){throw{message:'The serie "'.concat(s,'" was not found in the current indicators'),status:"indicator-required",serieId:s}}}}while(a);return e}},{key:"getSeriePath",value:function(e,t){var n,i,r=t.find((function(t){return t.id===e||t.id.replace(/\W/g,"")===e.replace(/\W/g,"")}));if(r&&(n=this.indicatorId,i=t.indexOf(r)),!n&&this.serieIndicatorsMap[e]){var a=this.serieIndicatorsMap[e];n=a.indicatorId,i=a.plotIndex}if(n||-1===Object.values(this.serieIndicatorsMap).map((function(e){return e.indicatorId})).indexOf(e)||(n=e,i=0),n)return[n,i]}},{key:"determineVariablesType",value:function(e,t){var n,i=Object(_Users_kevin_www_SignificantTrades_client_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_4__["a"])(t);try{for(i.s();!(n=i.n()).done;){var r=n.value,a=t.indexOf(r),s=new RegExp("".concat(VARIABLES_VAR_NAME,"\\[").concat(a,"\\](?:\\[(\\d+)\\])?"),"g"),o=null;do{if(o=s.exec(e)){var c=o[1],l=o.index+o[0].length;if("undefined"===typeof c)e=e.substring(0,l)+".state[0]"+e.substring(l);else{var u=e.substring(0,o.index),d="".concat(VARIABLES_VAR_NAME,"[").concat(a,"].state[Math.min(").concat(VARIABLES_VAR_NAME,"[").concat(a,"].state.length-1,").concat(c,")]"),h=e.substring(o.index+o[0].length);e="".concat(u).concat(d).concat(h),s.lastIndex=u.length+d.length}r.length=Math.max(r.length,(+c||0)+1)}}while(o);if(!r.length)throw new Error("no length on var "+r.name);1===r.length?(r.type="number",e=e.replace(new RegExp("".concat(VARIABLES_VAR_NAME,"\\[").concat(a,"\\]\\.state\\[\\d+\\]"),"g"),"".concat(VARIABLES_VAR_NAME,"[").concat(a,"].state"))):r.type="array",e=e.replace(new RegExp("#".concat(VARIABLES_VAR_NAME,"\\[").concat(a,"\\]\\.state\\[\\d+\\]"),"g"),"".concat(VARIABLES_VAR_NAME,"[").concat(a,"].state"))}}catch(p){i.e(p)}finally{i.f()}return e}},{key:"test",value:function(e,t){var n,i=e.output,r=e.functions,a=e.variables,s=e.markets,o=e.plots,c=e.references;try{n=this.getAdapter(i)}catch(_){throw new Error("syntax error: ".concat(_.message))}for(var l=this.getFakeRenderer(null,r,a,s,c),u=o.map((function(){return{update:function(){}}})),d=0;d<3;d++){try{n(l,r,a,u,t,_serieUtils__WEBPACK_IMPORTED_MODULE_24__)}catch(_){throw new Error("syntax error: "+("string"===typeof _?_:_.message))}for(var h=0;h<l.indicators[this.indicatorId].series.length;h++){var p=l.indicators[this.indicatorId].series[h],f=o[h],m="undefined"!==typeof p.value?"number":"undefined"!==typeof p.open?"ohlc":"undefined"!==typeof p.higherValue?"range":null;if(isNaN(p.time))throw new Error("".concat(f.type,".time expected a valid timestamp (number of seconds since January 1, 1970) but got NaN"));if(p.time<l.timestamp)throw new Error("".concat(f.type,".time should be the same as the current bar timestamp ").concat(l.timestamp,", got ").concat(p.time));if(m!==f.expectedInput)throw new Error("plot ".concat(f.type," expected ").concat(f.expectedInput," but got ").concat(m));if(m!==f.expectedInput)throw new Error("plot ".concat(f.type," expected ").concat(f.expectedInput," but got ").concat(m));if("ohlc"===m){if(isNaN(p.open))throw new Error("".concat(f.type,".open expected value to be a number, got NaN"));if(isNaN(p.high))throw new Error("".concat(f.type,".high expected value to be a number, got NaN"));if(isNaN(p.low))throw new Error("".concat(f.type,".low expected value to be a number, got NaN"));if(isNaN(p.close))throw new Error("".concat(f.type,".close expected value to be a number, got NaN"))}if("number"===m&&isNaN(p.value))throw new Error("".concat(f.type," expected value to be a number, got NaN"))}l=this.getFakeRenderer(l,r,a,s,c),this.refreshSerieMeta(r,a)}}},{key:"refreshSerieMeta",value:function(e,t){for(var n=0;n<e.length;n++){var i=e[n];if("undefined"!==typeof i.state.count&&i.state.count++,"undefined"!==typeof i.state.points)i.state.points.push(i.state.output),i.state.sum+=i.state.output,i.state.count>i.arg&&(i.state.sum-=i.state.points.shift(),i.state.count--);else if("undefined"!==i.state.open)i.state.open=i.state.close,i.state.high=i.state.close,i.state.low=i.state.close;else if(i.persistence)for(var r=0;r<i.persistence.length;r++)i.state["_"+i.persistence[r]]=i.state[i.persistence[r]]}for(var a=0;a<t.length;a++){var s=t[a];"array"===s.type&&(s.state.unshift(s.state[0]),s.state.length>s.length&&s.state.pop())}}},{key:"getFakeRenderer",value:function(e,t,n,i,r){var a={open:58137,high:58137,low:58102,close:58112,pair:"BTCUSD",vbuy:3532,vsell:54550,cbuy:7,csell:15,lbuy:0,lsell:0},s=e||{timestamp:null,localTimestamp:null,length:1,bar:{vbuy:0,vsell:0,cbuy:0,csell:0,lbuy:0,lsell:0},sources:{},indicators:Object(_Users_kevin_www_SignificantTrades_client_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_1__["a"])({},this.indicatorId,{functions:t,variables:n,series:[],plotsOptions:[]})};if(e)s.timestamp=e.timestamp+10,s.localTimestamp=s.timestamp;else{s.timestamp=10*Math.floor(Math.round(+new Date/1e3)/10),s.localTimestamp=s.timestamp;var o,c=Object(_Users_kevin_www_SignificantTrades_client_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_4__["a"])(r);try{for(c.s();!(o=c.n()).done;){var l=o.value;s.indicators[l.indicatorId]||(s.indicators[l.indicatorId]={series:[],plotsOptions:[],functions:[],variables:[]},l.indicatorId===this.indicatorId&&(s.indicators[l.indicatorId].functions=t,s.indicators[l.indicatorId].variables=n)),s.indicators[l.indicatorId].series[l.plotIndex]={time:s.timestamp,value:1,open:2,high:2,low:2,close:2}}}catch(f){c.e(f)}finally{c.f()}}for(var u in i){var d=Object.assign({},a),h=(Math.random()-.5)/100,p=(Math.random()-.5)/100;e&&(d.open*=e.sources[u].close),d.close=Math.abs(d.close*h),d.high=Math.max(d.high,d.close),d.low=Math.min(d.low,d.close),d.vbuy=Math.abs(d.vbuy*p),d.vsell=Math.abs(d.vsell*p),d.cbuy=Math.abs(d.cbuy*p),d.csell=Math.abs(d.csell*p),d.lbuy=Math.abs(d.lbuy*p),d.lsell=Math.abs(d.lsell*p),s.bar.vbuy+=d.vbuy,s.bar.vsell+=d.vsell,s.bar.cbuy+=d.cbuy,s.bar.csell+=d.csell,s.bar.lbuy+=d.lbuy,s.bar.lsell+=d.lsell,s.sources[u]=d}return s}},{key:"getAdapter",value:function(e){return function(){return new Function("renderer",FUNCTIONS_VAR_NAME,VARIABLES_VAR_NAME,"series","options","utils",'"use strict"; '+e)}()}},{key:"getPlotId",value:function(e){e=e.replace(/options\.([a-zA-Z0-9_]+)/g,"");var t=e.match(new RegExp("\\b(".concat(this.markets.sort((function(e,t){return t.length-e.length})).join("|"),")\\b(?:\\.\\w+)"),"g"))||[],n=(e.match(/renderer\.bar\.([a-zA-Z0-9_]+)/g)||[]).map((function(e){return e.replace("renderer.bar.","")})).filter((function(e){return"bar"!==e})),i=(e.match(new RegExp("([a-zA-Z0_9_]+)\\(","g"))||[]).map((function(e){return e.trim().slice(0,-1)})).filter((function(e){return _serieUtils__WEBPACK_IMPORTED_MODULE_24__[e+"$"]})),r=[].concat(Object(_Users_kevin_www_SignificantTrades_client_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__["a"])(i),Object(_Users_kevin_www_SignificantTrades_client_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__["a"])(t),Object(_Users_kevin_www_SignificantTrades_client_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__["a"])(n)).filter((function(e,t,n){return n.indexOf(e)===t}));return Object(_utils_helpers__WEBPACK_IMPORTED_MODULE_26__["t"])(r.join("-"))}},{key:"parseScriptOptions",value:function parseScriptOptions(functions,plots,options){var minLength=0,_iterator8=Object(_Users_kevin_www_SignificantTrades_client_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_4__["a"])(functions),_step8;try{for(_iterator8.s();!(_step8=_iterator8.n()).done;){var instruction=_step8.value;if("undefined"!==typeof instruction.arg)try{instruction.arg=eval(instruction.arg),"number"===typeof instruction.arg&&(minLength=Math.max(minLength,instruction.arg))}catch(error){}}}catch(err){_iterator8.e(err)}finally{_iterator8.f()}options.minLength=minLength;var _iterator9=Object(_Users_kevin_www_SignificantTrades_client_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_4__["a"])(plots),_step9;try{for(_iterator9.s();!(_step9=_iterator9.n()).done;){var plot=_step9.value;for(var prop in plot.options)try{plot.options[prop]=eval(plot.options[prop])}catch(error){}}}catch(err){_iterator9.e(err)}finally{_iterator9.f()}}}]),SerieBuilder}()},"392d":function(e){e.exports=JSON.parse('{"price":{"name":"Price","script":"plotcandlestick(avg_ohlc(bar))","options":{"priceScaleId":"right","priceLineVisible":true,"lastValueVisible":true,"borderVisible":true,"upColor":"rgba(33, 150, 243, 0)","borderUpColor":"rgb(255, 255, 255)","wickUpColor":"rgba(255, 255, 255, .45)","downColor":"rgba(66, 165, 245, .47)","borderDownColor":"rgb(255, 255, 255, .33)","wickDownColor":"rgb(100, 181, 246, .53)"}},"smas":{"enabled":false,"name":"Smas {fastLength} {mediumLength} {slowLength}","displayName":"Smas 50 100 200","script":"plotline(sma($price.close, options.fastLength), color=options.fastColor)\\nplotline(sma($price.close, options.mediumLength), color=options.mediumColor)\\nplotline(sma($price.close, options.slowLength), color=options.slowColor)","options":{"priceScaleId":"right","fastLength":50,"mediumLength":100,"slowLength":200,"fastColor":"#42a5f5","mediumColor":"#64b5f6","slowColor":"#90caf9"}},"emas":{"enabled":false,"name":"Emas {fastLength} {mediumLength} {slowLength}","displayName":"Emas 50 100 200","script":"plotline(ema($price.close, options.fastLength), color=options.fastColor)\\nplotline(ema($price.close, options.mediumLength), color=options.mediumColor)\\nplotline(ema($price.close, options.slowLength), color=options.slowColor)","options":{"priceScaleId":"right","fastLength":50,"mediumLength":100,"slowLength":200,"fastColor":"#42a5f5","mediumColor":"#64b5f6","slowColor":"#90caf9"}},"cmas":{"enabled":false,"name":"Cmas {fastLength} {mediumLength} {slowLength}","displayName":"Cmas 50 100 200","script":"plotline(cma($price.close, options.fastLength), color=options.fastColor)\\nplotline(cma($price.close, options.mediumLength), color=options.mediumColor)\\nplotline(cma($price.close, options.slowLength), color=options.slowColor)","options":{"priceScaleId":"right","fastLength":50,"mediumLength":100,"slowLength":200,"fastColor":"#42a5f5","mediumColor":"#64b5f6","slowColor":"#90caf9"}},"volume":{"name":"Volume","script":"plothistogram(vbuy + vsell, id=totalvolume)","options":{"priceFormat":{"type":"volume"},"color":"rgba(255, 255, 255, .15)","priceScaleId":"volume","scaleMargins":{"top":0.91,"bottom":0}}},"volume_delta":{"name":"Volume Î”","script":"plothistogram({ time: time, value: Math.abs(vbuy-vsell), color: vbuy - vsell > 0 ? options.upColor : options.downColor})","options":{"priceFormat":{"type":"volume"},"upColor":"#3BCA6D","downColor":"#EB1E2F","priceScaleId":"volume","scaleMargins":{"top":0.91,"bottom":0}}},"liquidations":{"name":"Liquidations","script":"plothistogram(lbuy, color=options.upColor)\\nplothistogram(-lsell, color=options.downColor)","options":{"priceFormat":{"type":"volume"},"priceScaleId":"volume_liquidations","upColor":"rgba(103,58,183,0.69)","downColor":"rgba(255,235,59,0.79)","scaleMargins":{"top":0.81,"bottom":0.1}}},"cvd":{"name":"CVD","description":"Cumulative Volume Delta","script":"plotline(cum(vbuy - vsell))","options":{"priceScaleId":"cvd","priceFormat":{"type":"volume"},"color":"#ffe100"}},"btccvdperp":{"enabled":false,"name":"BTC CVD PERP","script":"plotline(cum((BITMEX:XBTUSD.vbuy + BITFINEX:BTCF0:USTF0.vbuy + OKEX:BTC-USD-SWAP.vbuy + OKEX:BTC-USDT-SWAP.vbuy + BINANCE_FUTURES:btcusdt.vbuy + BINANCE_FUTURES:btcusd_perp.vbuy + HUOBI:BTC-USD.vbuy + KRAKEN:PI_XBTUSD.vbuy + DERIBIT:BTC-PERPETUAL.vbuy + FTX:BTC-PERP.vbuy + BYBIT:BTCUSD.vbuy) - (BITMEX:XBTUSD.vsell + BITFINEX:BTCF0:USTF0.vsell + OKEX:BTC-USD-SWAP.vsell + OKEX:BTC-USDT-SWAP.vsell + BINANCE_FUTURES:btcusdt.vsell + BINANCE_FUTURES:btcusd_perp.vsell + HUOBI:BTC-USD.vsell + KRAKEN:PI_XBTUSD.vsell + DERIBIT:BTC-PERPETUAL.vsell + FTX:BTC-PERP.vsell + BYBIT:BTCUSD.vsell)))","options":{"priceFormat":{"type":"volume"},"priceScaleId":"cvdperp","color":"#42a5f5"}},"btccvdspot":{"enabled":false,"name":"BTC CVD SPOT","script":"plotline(cum((BITFINEX:BTCUSD.vbuy+ BINANCE:btcusdt.vbuy+ OKEX:BTC-USDT.vbuy+ KRAKEN:XBT/USD.vbuy+ COINBASE:BTC-USD.vbuy+ POLONIEX:USDT_BTC.vbuy+ HUOBI:btcusdt.vbuy+ BITSTAMP:btcusd.vbuy) - (BITFINEX:BTCUSD.vsell +BINANCE:btcusdt.vsell +OKEX:BTC-USDT.vsell +KRAKEN:XBT/USD.vsell +COINBASE:BTC-USD.vsell +POLONIEX:USDT_BTC.vsell +HUOBI:btcusdt.vsell +BITSTAMP:btcusd.vsell)))","options":{"priceFormat":{"type":"volume"},"priceScaleId":"cvdspot","color":"#4caf50"}},"ctd":{"enabled":false,"script":"plotline(cum(cbuy-csell))","name":"CTD","description":"Cumulative Trades Delta","options":{"priceScaleId":"ctd","lineStyle":4,"lineWidth":1}},"cld":{"enabled":false,"script":"plotline(cum(lbuy-lsell))","name":"CLD","description":"Cumulative Liquidations Delta","options":{"priceFormat":{"type":"volume"},"color":"rgb(156,39,176)","priceScaleId":"ctd","lineWidth":1}},"linregcurve":{"enabled":false,"script":"plotline(linreg($price.close, 50))\\nplotline(linreg($price.close, 100))\\nplotline(linreg($price.close, 200))","name":"Linear Regression","options":{"priceScaleId":"right","lineStyle":4,"lineWidth":1}},"allmarkets":{"enabled":false,"script":"plotline(BITFINEX:BTCUSD.close, color=#97c554, title=Bitfinex.spot)\\nplotline(BINANCE:btcusdt.close, color=#f3ba2f, title=Binance.spot)\\nplotline(OKEX:BTC-USDT.close, color=#5894f2, title=Okex.spot)\\nplotline(KRAKEN:XBT/USD.close, color=#5841d8, title=Kraken.spot)\\nplotline(COINBASE:BTC-USD.close, color=#0e70e2, title=Coinbase.spot)\\nplotline(POLONIEX:USDT_BTC.close, color=#858b8f, title=Poloniex.spot)\\nplotline(HUOBI:btcusdt.close, color=#2ca6e0, title=Huobi.spot)\\nplotline(BITSTAMP:btcusd.close, color=#169f4a, title=Bitstamp.spot)\\nplotline(BITMEX:XBTUSD.close, color=#595fb5, title=Bitmex.perp)\\nplotline(BITFINEX:BTCF0:USTF0.close, color=#97c554, title=Bitfinex.perp)\\nplotline(OKEX:BTC-USD-SWAP.close, color=#5894f2, title=Okex.perp)\\nplotline(BINANCE_FUTURES:btcusdt.close, color=#f3ba2f, title=Binance.perp)\\nplotline(BINANCE_FUTURES:btcusd_perp.close, color=#f3ba2f, title=Binance.perp)\\nplotline(HUOBI:BTC-USD.close, color=#2ca6e0, title=Huobi.perp)\\nplotline(KRAKEN:PI_XBTUSD.close, color=#5841d8, title=Kraken.perp)\\nplotline(DERIBIT:BTC-PERPETUAL.close, color=#2dae9a, title=Deribit.perp)\\nplotline(FTX:BTC-PERP.close, color=#02a6c2, title=Ftx.perp)\\nplotline(BYBIT:BTCUSD.close, color=#f9b600, title=Bybit.perp)","name":"All markets","options":{"priceScaleId":"right","spotColor":"#81c784","futuresColor":"#ec407a"}}}')},"3e57":function(e){e.exports=JSON.parse('{"preferQuoteCurrencySize":true,"aggregateTrades":true,"disableAnimations":true,"calculateSlippage":null,"decimalPrecision":null,"theme":"dark","backgroundColor":"rgb(23,27,41)","textColor":"","timezoneOffset":0,"useAudio":false,"audioVolume":1,"audioDelay":false,"audioPingPong":true,"audioCompressor":false,"audioFilter":true,"settings":["other","chart","stats","counters","audio"],"recentColors":[]}')},"3f50":function(e,t,n){"use strict";n("e0ff")},4150:function(e,t,n){"use strict";n("1974")},4902:function(e,t,n){"use strict";var i=n("3835"),r=n("1da1"),a=n("b85c"),s=n("d4ec"),o=n("bee2"),c=(n("4d63"),n("ac1f"),n("25f0"),n("fb6a"),n("a15b"),n("5319"),n("96cf"),n("2b0e")),l=n("6502"),u=n.n(l),d=n("0613"),h=n("28f3"),p=function(){function e(){Object(s["a"])(this,e),this.count=0,this.minTime=0,this._play=this.play.bind(this)}return Object(o["a"])(e,[{key:"connect",value:function(){var e=this;this.context||(this.minTime=0,this.count=0,c["default"].nextTick((function(){e.bindContext(),e.bindOutput()})))}},{key:"bindContext",value:function(){var e=this;this.context=new AudioContext;var t=!1;if("suspended"===this.context.state){var n=document.body;setTimeout((function(){n.focus()}),500);var i=function(r){t||(t=!0,e.context&&d["b"].state.settings.useAudio&&e.context.resume(),setTimeout((function(){d["b"].state.settings.useAudio&&"suspended"===e.context.state?"suspended"===e.context.state&&d["b"].dispatch("app/showNotice",{id:"audio",type:"error",title:"Browser prevented audio from starting ðŸ˜£<br>Click somewhere to retry."}):(d["b"].state.settings.useAudio&&d["b"].dispatch("app/showNotice",{id:"audio",type:"success",title:"Audio resumed successfully ðŸ”Š"}),window.removeEventListener("focus",i),window.removeEventListener("blur",i),n.removeEventListener("click",i)),t=!1}),500))}.bind(this);window.addEventListener("blur",i),window.addEventListener("focus",i),n.addEventListener("click",i)}else d["b"].dispatch("app/showNotice",{id:"audio",type:"success",title:"Audio enabled ðŸ”Š"});return this.context}},{key:"bindOutput",value:function(){if(this.context){this.output&&(this.output.disconnect(),this.output=null),this.tuna=new u.a(this.context);var e=[];if(d["b"].state.settings.audioPingPong&&e.push(new this.tuna.PingPongDelay({wetLevel:.6,feedback:.01,delayTimeLeft:175,delayTimeRight:100})),d["b"].state.settings.audioDelay&&e.push(new this.tuna.Delay({feedback:.3,delayTime:80,wetLevel:.3,dryLevel:.5,cutoff:2e3,bypass:1})),d["b"].state.settings.audioCompressor&&e.push(new this.tuna.Compressor({threshold:-1,makeupGain:1,attack:1,release:0,ratio:4,knee:5,automakeup:!0,bypass:0})),d["b"].state.settings.audioFilter&&e.push(new this.tuna.Filter({frequency:800,Q:10,gain:-10,filterType:"highpass",bypass:0})),e.length){var t,n,i=Object(a["a"])(e);try{for(i.s();!(n=i.n()).done;){var r=n.value;t&&t.connect(r),t=r}}catch(s){i.e(s)}finally{i.f()}t.connect(this.context.destination),this.output=e[0]}else this.output=this.context.destination}}},{key:"play",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,s,o,c,l,u,d,h,p=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=Object(i["a"])(t,6),r=n[0],a=n[1],s=n[2],o=n[3],c=n[4],l=n[5],"running"===this.context.state){e.next=3;break}return e.abrupt("return");case 3:u=this.context.createOscillator(),d=this.context.createGain(),a=Math.min(1,a),u.frequency.value=r,u.type=l||"triangle",u.onended=function(){u.disconnect(),d.disconnect(),p.count--},this.count++,d.connect(this.output),u.connect(d),c?(d.gain.value=1e-4,d.gain.exponentialRampToValueAtTime(a,this.context.currentTime+o+c),setTimeout((function(){d.gain.exponentialRampToValueAtTime(1e-4,p.context.currentTime+s)}),1e3*(o+c)),u.start(this.context.currentTime+o),u.stop(this.context.currentTime+o+c+s)):(this.minTime?(this.minTime=Math.max(this.minTime,this.context.currentTime),o||(this.minTime+=this.count>10?this.count>20?this.count>100?.01:.02:.04:.08)):this.minTime=this.context.currentTime,h=this.minTime+o,d.gain.setValueAtTime(a,h),d.gain.exponentialRampToValueAtTime(.001,h+s),u.start(h),u.stop(.2+h+s));case 13:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"reconnect",value:function(){this.disconnect(),this.connect()}},{key:"disconnect",value:function(){this.context&&"running"===this.context.state&&this.context.close(),this.output&&this.output.disconnect(),this.context=null,this.output=null,d["b"].dispatch("app/showNotice",{id:"audio",title:"Audio disabled ðŸ”‡"})}},{key:"buildAudioFunction",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];e="'use strict'; \n    \n    ".concat(e);var a=new RegExp("play\\([^[]","g"),s=null;null===i&&(i=d["b"].state.settings.audioVolume);do{if(s=a.exec(e)){var o=e.slice(s.index+s[0].length-1,Object(h["g"])(e,s.index+s[0].length-2)),c=Object(h["o"])(o);+c[0]&&n&&1!==n&&(c[0]*=n),i&&1!==i&&(+c[1]?c[1]*=i:c[1]=i+"*("+c[1]+")");var l=c.join(",");e=e.replace("("+o,"(["+l+"]")}}while(s);try{return new Function("play","ratio","side","level",e)}catch(u){if(r)throw u;return d["b"].dispatch("app/showNotice",{id:"audio-script-error",type:"error",title:"Please check that ".concat(t," audio script is syntactically correct. "),timeout:6e4}),new Function}}}]),e}();t["a"]=new p},"4d2a":function(e,t,n){"use strict";n("bbbc")},"4ee8":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAQ5JREFUeNrslz0KwjAUgJNCF3EoiIuniIu7eJF6BE9kLyLuLvYULiJ0EJdC8QWe4NA0eT91sQ9CWkj7ffnhJTHm38MKvs2hLPD5AaX9pcAHnuF7x5WwCnAjkbBKcLYERSBDeB5p16JEpymQCidL2BHgJAk7EjxZIiZQQJkJc80LSsMR0IBHJYYEVspZ90YVWArmvm8t3M0UU1AW4XO3uULllDj1/HRZhzJdKJxiR91Qqg1FpShQsVIxTMMRqlIKh+Hfc0bAx8HPn2Tu8R/87RhGwe8JZ8aa8PAt9L4RH0gYEklw0pGMIJEMJx9KQcKhRBFo0iC8FicihgQZzr6Y9Eiw4KKr2ZeE4cKn8PEWYACxq1U+/EnHbQAAAABJRU5ErkJggg=="},"5a23":function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return m})),n.d(t,"f",(function(){return _})),n.d(t,"e",(function(){return v})),n.d(t,"g",(function(){return b})),n.d(t,"b",(function(){return g}));var i=n("5530"),r=n("0613"),a=n("bea1"),s=n("8192"),o={crosshair:{vertLine:{color:"rgba(255, 255, 255, .5)",width:.5,style:2,visible:!0,labelVisible:!0},horzLine:{color:"rgba(255, 255, 255, .5)",width:.5,style:2,visible:!0,labelBackgroundColor:"white",labelVisible:!0},mode:0},watermark:{color:"rgba(255,255,255, 0.1)",visible:!1,text:"Loading",fontSize:24,horzAlign:"center",vertAlign:"center"},layout:{backgroundColor:"transparent",textColor:"white",fontFamily:"Barlow Semi Condensed"},grid:{horzLines:{visible:!1},vertLines:{visible:!1}},timeScale:{barSpacing:3,rightOffset:12,lockVisibleTimeRangeOnResize:!0,rightBarStaysOnScroll:!0,borderVisible:!0,borderColor:"rgba(255, 255, 255, .2)",visible:!0,timeVisible:!0,secondsVisible:!0},priceScale:{position:"right",mode:0,borderColor:"rgba(255, 255, 255, .2)",scaleMargins:{top:.1,bottom:.2}}},c={crosshairMarkerVisible:!1,lastValueVisible:!1,priceLineVisible:!1,priceFormat:{type:"price",minMove:"0.01",precision:2},scaleMargins:{top:.1,bottom:.2}},l={priceLineStyle:1,color:"white",lineWidth:1,lineStyle:0,lineType:0},u={priceLineColor:"rgba(255, 255, 255, .5)",borderVisible:!1,upColor:"#c3a87a",downColor:"#e53935",borderUpColor:"#c3a87a",borderDownColor:"#e53935",wickUpColor:"rgba(223, 195, 148, .8)",wickDownColor:"rgba(224, 91, 95, .8)"},d={color:"#c3a87a",scaleMargins:{top:.8,bottom:0}},h={topColor:"rgba(21, 146, 230, 0.4)",bottomColor:"rgba(21, 146, 230, 0)",lineColor:"rgba(21, 146, 230, 1)",lineStyle:0,lineWidth:2},p={positiveColor:"rgba( 76, 175, 80, 0.1)",negativeColor:"rgba( 255, 82, 82, 0.1)",higherLineColor:"#4CAF50",higherLineStyle:s["a"].Simple,higherLineWidth:3,lowerLineColor:"#FF5252",lowerLineStyle:s["a"].Simple,lowerLineWidth:3},f={thinBars:!1,upColor:"#a5d6a7",downColor:"#e57373",openVisible:!0},m=Object(i["a"])(Object(i["a"])({},o),{},{priceScale:{position:"none",mode:0},timeScale:{barSpacing:3,rightOffset:5,lockVisibleTimeRangeOnResize:!0,rightBarStaysOnScroll:!0,borderColor:"rgba(255, 255, 255, .2)",timeVisible:!0}});function _(e){var t=e;t||(t=r["b"].state.settings.textColor?r["b"].state.settings.textColor:"light"===r["b"].state.settings.theme?"#111111":"#f6f6f6");var n=Object(a["c"])(Object(i["a"])(Object(i["a"])({},Object(a["k"])(t)),{},{alpha:.2})),s="light"===r["b"].state.settings.theme?"rgba(0, 0, 0, .25)":"rgba(255, 255, 255, .25)",o={crosshair:{vertLine:{color:s},horzLine:{color:s}},layout:{textColor:t,borderColor:n},priceScale:{borderColor:n},timeScale:{borderColor:n}};return o}function v(e){var t=Object.assign({},e),n=_();for(var i in n)Object.assign(t[i],n[i]);return t}var b={cloudarea:"cloud-area"},g={line:l,area:h,candlestick:u,"cloud-area":p,bar:f,histogram:d}},"68e0":function(e,t,n){"use strict";function i(e,t){var n=0,i=!1;for(var r in"undefined"===typeof e.open&&(i=!0,e.open=0),e.high=0,e.low=0,e.close=0,t.sources)null!==t.sources[r].open&&(i&&(e.open+=t.sources[r].open),e.high+=t.sources[r].high,e.low+=t.sources[r].low,e.close+=t.sources[r].close,n++);return n||(n=1),i&&(e.open/=n),e.high/=n,e.low/=n,e.close/=n,{time:t.localTimestamp,open:e.open,high:e.high,low:e.low,close:e.close}}function r(e,t){var n=0;for(var i in e.close=0,t.sources)null!==t.sources[i].open&&(e.close+=t.sources[i].close,n++);return n||(n=1),e.close/=n,e.close}function a(e,t,n){return"undefined"===typeof e.open&&(e.open=t,e.high=t,e.low=t),e.high=Math.max(e.high,t),e.low=Math.min(e.low,t),e.close=t,{time:n,open:e.open,high:e.high,low:e.low,close:e.close}}function s(e,t,n){return"undefined"===typeof e.open?(e.open=t,e.high=t,e.low=t):t=e.open+t,e.high=Math.max(e.high,t),e.low=Math.min(e.low,t),e.close=t,{time:n,open:e.open,high:e.high,low:e.low,close:e.close}}function o(e,t){return"undefined"===typeof e.open&&(e.open=t),e.close=e.open+t,e.close}n.r(t),n.d(t,"avg_ohlc$",(function(){return i})),n.d(t,"avg_close$",(function(){return r})),n.d(t,"ohlc$",(function(){return a})),n.d(t,"cum_ohlc$",(function(){return s})),n.d(t,"cum$",(function(){return o})),n.d(t,"highest",(function(){return c})),n.d(t,"highest$",(function(){return l})),n.d(t,"lowest",(function(){return u})),n.d(t,"lowest$",(function(){return d})),n.d(t,"linreg",(function(){return h})),n.d(t,"linreg$",(function(){return p})),n.d(t,"avg$",(function(){return f})),n.d(t,"sma",(function(){return m})),n.d(t,"sma$",(function(){return _})),n.d(t,"cma",(function(){return v})),n.d(t,"cma$",(function(){return b})),n.d(t,"ema",(function(){return g})),n.d(t,"ema$",(function(){return y}));var c={count:0,points:[]};function l(e,t){return e.output=t,e.count?Math.max.apply(null,e.points):t}var u={count:0,points:[]};function d(e,t){return e.output=t,e.count?Math.min.apply(null,e.points):t}var h={count:0,sum:0,points:[]};function p(e,t,n){if(e.output=t,e.count<1)return null;for(var i=0,r=0,a=0,s=0,o=0,c=0,l=0;l<=e.points.length;l++){var u=l===e.points.length?t:e.points[l];r=l+1,a+=r,s+=u,o+=r*r,c+=u*r,i++}var d=(i*c-a*s)/(i*o-a*a),h=s/i,p=h-d*a/n+d;return p+d*(i-1)}function f(e,t){for(var n=0,i=0,r=0;r<t.length;r++)null!==t[r]&&(i+=t[r],n++);return i/n}var m={count:0,sum:0,points:[]};function _(e,t){var n=(e.sum+t)/(e.count+1);return e.output=t,n}var v={count:0,sum:0,points:[]};function b(e,t){return e.output=(e.sum+t)/(e.count+1),e.output}var g={count:0,sum:0,points:[]};function y(e,t,n){var i=2/(n+1);if(e.count){var r=e.points[e.points.length-1];e.output=(t-r)*i+r}else e.output=t;return e.output}},6904:function(e,t,n){},"6fa3":function(e,t,n){},"724c":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"e",(function(){return a})),n.d(t,"b",(function(){return s})),n.d(t,"g",(function(){return o})),n.d(t,"f",(function(){return c})),n.d(t,"d",(function(){return l}));n("13d5"),n("99af"),n("a15b"),n("d81d"),n("ac1f"),n("466d");function i(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(){var i=function(){t=null,n||e.apply(void 0,arguments)},r=n&&!t;window.cancelAnimationFrame(t),t=window.requestAnimationFrame(i),r&&e.apply(void 0,arguments)}}function r(e,t){return e.reduce((function(e,n){return Math.abs(n-t)<Math.abs(e-t)?n:e}))}function a(e,t){return{r:Math.sqrt(e*e+t*t),theta:180*Math.atan2(t,e)/Math.PI}}function s(e,t){return{x:e*Math.cos(t*Math.PI*2),y:e*Math.sin(t*Math.PI*2)}}function o(e){}function c(e,t){return function(e){var n=-1!==t.indexOf(e);return n}}function l(e){if(e.type.match(/^touch/i)){var t=e.touches[0];return{x:t.clientX,y:t.clientY}}return e.type.match(/^mouse/i)?{x:e.clientX,y:e.clientY}:{x:0,y:0}}},7250:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"dialog",class:{"-mask":e.mask},on:{click:e.clickOutside}},[n("div",{ref:"dialogContent",staticClass:"dialog-content",style:{transform:"translate("+e.delta.x+"px, "+e.delta.y+"px)"},on:{click:function(e){e.stopPropagation()},mousedown:e.onMouseDown}},[n("header",{style:{color:e.headerColor,background:e.headerBackground},on:{mousedown:e.handleDrag,touchstart:e.handleDrag}},[e._t("header"),n("div",{staticClass:"dialog-controls"},[e._t("controls"),n("a",{staticClass:"dialog-controls__close -link -text",attrs:{href:"javascript:void(0);"},on:{click:e.close,touchend:e.close}},[n("i",{staticClass:"icon-cross"})])],2)],2),n("div",{staticClass:"dialog-body hide-scrollbar"},[e._t("default")],2)])])},r=[],a=n("d4ec"),s=n("bee2"),o=n("262e"),c=n("2caf"),l=n("9ab4"),u=n("fa07"),d=n("60a3"),h=n("724c"),p=function(e){Object(o["a"])(n,e);var t=Object(c["a"])(n);function n(){var e;return Object(a["a"])(this,n),e=t.apply(this,arguments),e.delta={x:0,y:0},e.target={x:0,y:0},e.animating=!1,e}return Object(s["a"])(n,[{key:"headerColor",get:function(){if(this.headerBackground){var e=Object(u["d"])(Object(u["h"])(this.headerBackground));return e>150?"black":"white"}return null}},{key:"created",value:function(){this.clickOutsideClose=!0,this.startPosition&&(this.startPosition.x&&(this.delta.x=window.innerWidth*this.startPosition.x),this.startPosition.y&&(this.delta.y=window.innerHeight*this.startPosition.y))}},{key:"beforeDestroy",value:function(){this._handleRelease&&this._handleRelease()}},{key:"handleDrag",value:function(e){var t=this;if(2!==e.button&&!e.target.classList.contains("-no-grab")){e.preventDefault();var n=Object.assign({},this.delta),i=Object(h["d"])(e),r=this.$refs.dialogContent.offsetTop;this._handleDragging=function(e){var a=Object(h["d"])(e),s=n.x+a.x-i.x,o=Math.max(-1*r,n.y+a.y-i.y);t.target.x=s,t.target.y=o,t.animate()},this._handleRelease=function(){document.removeEventListener("mousemove",t._handleDragging),document.removeEventListener("mouseup",t._handleRelease),document.removeEventListener("touchmove",t._handleDragging),document.removeEventListener("touchend",t._handleRelease),delete t._handleRelease},document.addEventListener("mousemove",this._handleDragging),document.addEventListener("mouseup",this._handleRelease),document.addEventListener("touchmove",this._handleDragging),document.addEventListener("touchend",this._handleRelease)}}},{key:"onMouseDown",value:function(){var e=this;this.clickOutsideClose=!1;var t=function t(){document.removeEventListener("mouseup",t),setTimeout((function(){e.clickOutsideClose=!0}),100)};document.addEventListener("mouseup",t)}},{key:"animate",value:function(){this.delta.x=this.target.x,this.delta.y=this.target.y;var e=Math.abs(this.delta.x-this.target.x)+Math.abs(this.delta.y-this.target.y);if(e>10&&!this.animating)return this.animating=!0,requestAnimationFrame(this.animate);this.animating=!1}},{key:"clickOutside",value:function(){if(!this.clickOutsideClose)return!1;this.$emit("clickOutside")}},{key:"close",value:function(){this.$emit("clickOutside")}}]),n}(d["c"]);p=Object(l["a"])([Object(d["a"])({name:"Dialog",props:{open:{type:Boolean},small:{type:Boolean},medium:{type:Boolean},large:{type:Boolean},mask:{type:Boolean,default:!0},headerBackground:{required:!1},startPosition:{required:!1}}})],p);var f=p,m=f,_=n("2877"),v=Object(_["a"])(m,i,r,!1,null,null,null);t["a"]=v.exports},"7ab0":function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"wrapper",staticClass:"slider",class:{"-vertical":e.vertical,"-disabled":e.disabled}},[n("div",e._g({ref:"track",staticClass:"slider__track"},e.trackSlide?{mousedown:e.select,touchstart:e.select}:{}),[n("div",{ref:"fill",staticClass:"slider__fill"}),e.showCompletion&&e.handles[0]?n("div",{staticClass:"slider__completion",style:"width: "+e.handles[0].positionX+"px"}):e._e(),e._l(e.handles,(function(t,i){return n("div",{key:i,staticClass:"slider__handle",style:"transform: translate("+t.positionX+"px, "+t.positionY+"px); background-color: "+t.color+";",on:{mousedown:e.select,touchstart:e.select}},[e.label?n("div",{staticClass:"slider__label"},[e._t("tooltip",[e._v(" "+e._s(t.value)+" ")],{value:t.value})],2):e._e()])}))],2)])},r=[],a=n("2909"),s=(n("a9e3"),n("d3b7"),n("ddb0"),n("cb29"),n("d81d"),n("159b"),n("b680"),n("a434"),n("25f0"),n("ac1f"),n("1276"),n("bea1")),o=n("724c"),c={name:"VerteSlider",props:{gradient:Array,colorCode:{type:Boolean,default:!1},label:{type:Boolean,default:!1},trackSlide:{type:Boolean,default:!0},vertical:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},min:{type:Number,default:0},max:{type:Number,default:255},step:{type:Number,default:1},value:{type:Number,default:0},handlesValue:{type:Array,default:function(){return[0]}},showCompletion:{type:Boolean,default:!0}},data:function(){return{fill:{translate:0,scale:0},multiple:!1,currentValue:0,handles:[],values:[]}},watch:{gradient:function(e){this.initGradient(e),this.reloadHandlesColor()},values:function(){this.multiple=this.values.length>1,this.fill=!this.multiple&&(this.fill||{})},value:function(e,t){e!==t&&e!==this.currentValue&&this.updateValue(this.value,!0)}},methods:{init:function(){var e=this;this.$emitInputEvent=Object(o["a"])((function(){e.$emit("input",e.currentValue)})),this.multiple=this.values.length>1,this.values=this.handlesValue,this.handles=this.handlesValue.map((function(e){return{value:e,positionX:0,positionY:0,color:"#fff"}})),1===this.values.length&&(this.values[0]=Number(this.value)),this.values.sort(),this.initElements(),this.gradient&&this.initGradient(this.gradient),this.initEvents(),this.values.forEach((function(t,n){e.activeHandle=n,e.updateValue(t,!0)}))},initElements:function(){var e;(this.wrapper=this.$refs.wrapper,this.track=this.$refs.track,this.fill=this.$refs.fill,this.classes)&&(e=this.wrapper.classList).add.apply(e,Object(a["a"])(this.classes))},initGradient:function(e){e.length>1?this.fill.style.backgroundImage="linear-gradient(90deg, ".concat(e,")"):(this.fill.style.backgroundImage="",this.fill.style.backgroundColor=e[0],this.handles.forEach((function(t){t.style.color=e[0]})))},handleResize:function(){this.updateSize(),this.updateValue(this.currentValue,!0)},initEvents:function(){window.addEventListener("resize",this.handleResize)},select:function(e){var t=this;if(e.preventDefault(),e.stopPropagation(),2!==e.buttons){if(this.pendingDblClick)return this.pendingDblClick=!1,void this.$emit("reset");this.pendingDblClick=!0,this._dblClickTimeout=window.setTimeout((function(){t.pendingDblClick=!1}),300),this.updateSize(),this.track.classList.add("slider--dragging"),this.ticking=!1;var n=this.getStepValue(e);if(this.multiple){var i=Object(o["c"])(this.values,n);this.activeHandle=this.values.indexOf(i)}this.updateValue(n),this.tempDrag=this.dragging.bind(this),this.tempRelease=this.release.bind(this),document.addEventListener("mousemove",this.tempDrag),document.addEventListener("touchmove",this.tempDrag),document.addEventListener("touchend",this.tempRelease),document.addEventListener("mouseup",this.tempRelease)}},dragging:function(e){var t=this,n=this.getStepValue(e);this.ticking||(window.requestAnimationFrame((function(){t.updateValue(n),t.ticking=!1})),this.ticking=!0)},release:function(){this.track.classList.remove("slider--dragging"),document.removeEventListener("mousemove",this.tempDrag),document.removeEventListener("touchmove",this.tempDrag),document.removeEventListener("mouseup",this.tempRelease),document.removeEventListener("touchend",this.tempRelease)},getStepValue:function(e){var t,n=Object(o["d"])(e),i=n.x,r=n.y;if(this.vertical){var a=r-this.currentY,s=parseInt((this.height-a)/this.stepHeight+.5,10);t=s*this.step+this.min}else{var c=i-this.currentX,l=parseInt(c/this.stepWidth+.5,10);t=l*this.step+this.min}return this.decimalsCount?Number(t.toFixed(this.decimalsCount)):t},updateSize:function(){var e=this.track.getBoundingClientRect();this.vertical?(this.currentY=e.top,this.height=this.$el.clientHeight,this.height||(this.height=parseInt(this.track.parentElement.style.height)),!this.height&&e.height&&(this.height=e.height),this.stepHeight=this.height/(this.max-this.min)*this.step):(this.currentX=e.left,this.width=this.$el.clientWidth,this.width||(this.width=parseInt(this.track.parentElement.style.width)),!this.width&&e.width&&(this.width=e.width),this.stepWidth=this.width/(this.max-this.min)*this.step)},getPositionPercentage:function(e){return((e-this.min)/(this.max-this.min)).toFixed(2)},normalizeValue:function(e){if(isNaN(Number(e)))return this.value;if(this.multiple){var t=this.values[this.activeHandle-1]||this.min,n=this.values[this.activeHandle+1]||this.max;e=Math.min(Math.max(Number(e),t),n)}return Math.min(Math.max(Number(e),this.min),this.max)},addHandle:function(e){var t=Object(o["c"])(this.values,e),n=this.values.indexOf(t),i=this.values[n],r=i<=e?n+1:n;this.handles.splice(r,0,{value:e,positionX:0,positionY:0,color:"#fff"}),this.values.splice(r,0,e),this.activeHandle=r,this.currentValue=null,this.updateValue(e)},removeHandle:function(e){this.handles.splice(e,1),this.values.splice(e,1),this.activeHandle=0===e?e+1:e-1},getHandleColor:function(e){for(var t=this.gradient.length-1,n=e,i=1;i<=t;i++)if(n>=(i-1)/t&&n<=i/t){var r=(n-(i-1)/t)/(1/t);return Object(s["g"])(this.gradient[i-1],this.gradient[i],r)}return"rgb(0, 0, 0)"},reloadHandlesColor:function(){var e=this;this.handles.forEach((function(t,n){var i=e.getPositionPercentage(t.value),r=e.getHandleColor(i);e.handles[n].color=r.toString()}))},updateValue:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];window.requestAnimationFrame((function(){var i=t.normalizeValue(e),r=t.getPositionPercentage(i);if(t.fill&&(t.fill.translate=r*(t.vertical?t.height:t.width),t.fill.scale=1-r),t.values[t.activeHandle]=i,t.handles[t.activeHandle].value=i,t.vertical?t.handles[t.activeHandle].positionY=(1-r)*t.height:t.handles[t.activeHandle].positionX=r*t.width,t.currentValue=i,t.gradient){var a=t.getHandleColor(r);t.handles[t.activeHandle].color=a.toString(),t.colorCode&&(t.currentValue=a)}n||t.$emitInputEvent()}))}},created:function(){var e=this.step.toString().split(".")[1];this.currentValue=this.value,this.decimalsCount=e?e.length:0},mounted:function(){var e=this;this.init(),this.$nextTick((function(){e.updateSize(),e.updateValue(void 0,!0)}))},destroyed:function(){window.removeEventListener("resize",this.handleResize),this._updateSizeTimeout&&clearTimeout(this._updateSizeTimeout)}},l=c,u=(n("3252"),n("2877")),d=Object(u["a"])(l,i,r,!1,null,null,null);t["a"]=d.exports},"7e2d":function(e,t,n){"use strict";n("6904")},8219:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAS5JREFUeNrsljEOgjAUQIuEGJ1c3D0C3kDdTTyCB3F09wgewl2OIEdwN5o6SFQM+Jt8TAeV/t8fF2zyQ4D+/15bKCjV9BZwExebSQyHBE/Hy+k2/ZmABe/hJc2VCATgykciEIKzJQIC3EB3EIOarnuIIUhol7otAjxxgCvsk2CO/wxY8Jj4uKS4HJot4AF3lqhbgpUHXGHumvUMwOhN4lxgs5thLfIMSMBftUBiRBVIBQW0cL1/a8j/QB8iEuLkEAfqWxAJDjTi7AOZoMDl043wS9IV7/vOhBnImSMgIZHhJqS4ApVE27Gv3e4Qp7pOrkWpEjnCSymBkiBh4EeIwqUwZVpdJEhwxVhXI3GD6L7ZxAoqnCNgS3QsiQr+oBYLma9XYUmUCM//XzZOewowABKyYnH/TytxAAAAAElFTkSuQmCC"},8322:function(e,t,n){},"8b12":function(e,t,n){"use strict";n("09b7")},a914:function(e,t,n){"use strict";var i=n("3835"),r=n("1da1"),a=n("d4ec"),s=n("bee2"),o=n("262e"),c=n("2caf"),l=(n("96cf"),n("99af"),n("a15b"),n("a434"),n("d3b7"),n("0613")),u=n("28f3"),d=n("ba10"),h=n.n(d);function p(){return new Worker(n.p+"js/aggregator.worker.24c1c812.worker.js")}var f=n("06c2"),m=n("be31"),_=function(e){Object(o["a"])(n,e);var t=Object(c["a"])(n);function n(){var e;return Object(a["a"])(this,n),e=t.call(this),e.pending=0,e.worker=new p,e.worker.addEventListener("message",(function(t){e.emit(t.data.op,t.data.data,t.data.trackingId)})),e.listenUtilityEvents(),window.addEventListener("beforeunload",(function(){e.worker.postMessage({op:"unload"})})),e}return Object(s["a"])(n,[{key:"dispatch",value:function(e){this.worker.postMessage(e)}},{key:"connect",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,s,o,c,d;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.length){e.next=2;break}return e.abrupt("return");case 2:for(n=0;n<t.length;n++)if(r=Object(u["p"])(t[n]),a=Object(i["a"])(r,2),s=a[0],o=a[1],l["b"].state.exchanges[s].disabled){for(d in c=[],l["b"].state.panes.panes)-1!==l["b"].state.panes.panes[d].markets.indexOf(t[n])&&c.push(d);l["b"].dispatch("app/showNotice",{type:"warning",timeout:1e4,title:"âš ï¸ Not connecting to ".concat(s,":").concat(o," because ").concat(s," is disabled<br><small>Found market in ").concat(c.join(", "),".</small>")}),t.splice(n,1),n--}return e.next=5,this.dispatchAsync({op:"connect",data:t});case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"disconnect",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.length){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.dispatchAsync({op:"disconnect",data:t});case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"dispatchAsync",value:function(e){var t=this,n=Object(u["r"])(8);return this.pending,this.pending++,new Promise((function(i){var r=function n(r){var a=r.data;a.trackingId===e.trackingId&&(t.pending--,t.worker.removeEventListener("message",n),i(a.data))};t.worker.addEventListener("message",r),e.trackingId=n,t.worker.postMessage(e)}))}},{key:"listenUtilityEvents",value:function(){var e=this;this.once("hello",Object(r["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,m["a"].initialize();case 2:return e.next=4,m["a"].getCurrentWorkspace();case 4:t=e.sent,m["a"].setCurrentWorkspace(t);case 6:case"end":return e.stop()}}),e)})))),this.on("connection",(function(e){var t=e.exchange,n=e.pair;l["b"].commit("app/ADD_ACTIVE_MARKET",{exchange:t,pair:n})})),this.on("disconnection",(function(e){var t=e.exchange,n=e.pair;l["b"].commit("app/REMOVE_ACTIVE_MARKET",{exchange:t,pair:n})})),this.on("products",function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(n,i){var r,a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=n.exchange,a=n.endpoints,t.next=3,Object(f["a"])(r,a);case 3:s=t.sent,e.dispatch({op:"products",data:{exchange:r,data:s},trackingId:i});case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}())}}]),n}(h.a);t["a"]=new _},a97b:function(e,t,n){},bb78:function(e,t,n){"use strict";n("6fa3")},bbbc:function(e,t,n){},bc2e:function(e,t,n){},bd60:function(e,t,n){"use strict";var i=n("5530"),r=n("b85c"),a=n("1da1"),s=(n("96cf"),n("b64b"),n("b0c0"),n("a4d3"),n("e01a"),n("ac1f"),n("5319"),n("0c01")),o=n("be31"),c=n("28f3"),l=n("d951"),u=n("2b0e"),d={},h={indicatorsErrors:{},indicators:{},resizingIndicator:null,timeframe:10,refreshRate:500,showLegend:!0,showHorizontalGridlines:!1,horizontalGridlinesColor:"rgba(255,255,255,.1)",showVerticalGridlines:!1,verticalGridlinesColor:"rgba(255,255,255,.1)",showWatermark:!0,watermarkColor:"rgba(255,255,255,.1)"},p={boot:function(e){return Object(a["a"])(regeneratorRuntime.mark((function t(){var n,i,a,s,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=e.state,Object.keys(n.indicators).length){t.next=25;break}return t.next=4,o["a"].getIndicators();case 4:i=t.sent,a=Object(r["a"])(i),t.prev=6,a.s();case 8:if((s=a.n()).done){t.next=16;break}if(c=s.value,!1!==c.enabled){t.next=12;break}return t.abrupt("continue",14);case 12:c.series||(c.series=[]),u["default"].set(n.indicators,c.id,c);case 14:t.next=8;break;case 16:t.next=21;break;case 18:t.prev=18,t.t0=t["catch"](6),a.e(t.t0);case 21:return t.prev=21,a.f(),t.finish(21);case 24:Object(l["b"])(n);case 25:n._booted=!0;case 26:case"end":return t.stop()}}),t,null,[[6,18,21,24]])})))()},addIndicator:function(e,t){var n=e.commit;return t=Object(i["a"])(Object(i["a"])({script:"plotline(avg_close(bar))"},t),{},{options:Object(i["a"])({priceScaleId:t.priceScaleId||t.id},t.options)}),n("ADD_INDICATOR",t),t.id},toggleSerieVisibility:function(e,t){var n=e.commit,i=e.state;n("SET_INDICATOR_OPTION",{id:t,key:"visible",value:!(!i.indicators[t].options||"undefined"===typeof i.indicators[t].options.visible)&&!i.indicators[t].options.visible})},setIndicatorOption:function(e,t){var n=e.commit,i=e.state,r=t.id,a=t.key,s=t.value;try{s=JSON.parse(s)}catch(u){}if("scaleMargins"===a){var o=i.indicators[r].options.priceScaleId;if(o)for(var c in i.indicators){var l=i.indicators[c].options;r!==c&&l.priceScaleId===o&&n("SET_INDICATOR_OPTION",{id:c,key:a,value:s})}}i.indicators[r]&&i.indicators[r].options[a]===s||(n("SET_INDICATOR_OPTION",{id:r,key:a,value:s}),n("FLAG_INDICATOR_AS_UNSAVED",r),-1!==i.indicators[r].name.indexOf(a)&&n("UPDATE_INDICATOR_DISPLAY_NAME",r))},removeIndicator:function(e,t){return Object(a["a"])(regeneratorRuntime.mark((function n(){var i,r,a,o,l,u;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(i=e.state,r=e.commit,a=e.dispatch,o=t.id,l=t.confirm,u=void 0===l||l,n.t0=i.indicators[o].unsavedChanges&&u,!n.t0){n.next=7;break}return n.next=6,s["a"].confirm({message:'You have unsaved changes on "'.concat(o,'".<br>Save this indicator to workspace before remove ?'),cancel:"DISCARD",ok:"SAVE"});case 6:n.t0=n.sent;case 7:if(!n.t0){n.next=10;break}return n.next=10,a("saveIndicator",o);case 10:return r("REMOVE_INDICATOR",o),n.next=13,Object(c["s"])(100);case 13:case"end":return n.stop()}}),n)})))()},saveIndicator:function(e,t){return Object(a["a"])(regeneratorRuntime.mark((function n(){var i,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:i=e.state,r=e.commit,r("FLAG_INDICATOR_AS_SAVED",t),o["a"].saveIndicator(i.indicators[t]);case 3:case"end":return n.stop()}}),n)})))()},renameIndicator:function(e,t){return Object(a["a"])(regeneratorRuntime.mark((function n(){var r,a,s,o,l,u,d,h;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,a=e.state,s=e.dispatch,o=t.id,l=t.name,u=Object(c["u"])(Object(c["t"])(l),Object.keys(a.indicators)),d=JSON.parse(JSON.stringify(a.indicators[o])),h=Object(i["a"])(Object(i["a"])({},d),{},{name:l,id:u}),r("ADD_INDICATOR",h),s("removeIndicator",{id:o,confirm:!1}),n.abrupt("return",u);case 8:case"end":return n.stop()}}),n)})))()},resizeIndicator:function(e,t){var n=e.commit;n("TOGGLE_INDICATOR_RESIZE",t)}},f={SET_REFRESH_RATE:function(e,t){e.refreshRate=+t||0},TOGGLE_LEGEND:function(e){e.showLegend=!e.showLegend},SET_GRIDLINES:function(e,t){var n=t.type,i=t.value;"vertical"===n?"boolean"===typeof i?e.showVerticalGridlines=i:e.verticalGridlinesColor=i:"boolean"===typeof i?e.showHorizontalGridlines=i:e.horizontalGridlinesColor=i},SET_WATERMARK:function(e,t){var n=t.value;"boolean"===typeof n?e.showWatermark=n:e.watermarkColor=n},SET_INDICATOR_SERIES:function(e,t){var n=t.id,i=t.series;e.indicators[n].series=i},SET_INDICATOR_ERROR:function(e,t){var n=t.id,i=t.error;i?u["default"].set(e.indicatorsErrors,n,i):u["default"].set(e.indicatorsErrors,n,null)},SET_TIMEFRAME:function(e,t){e.timeframe=t},ADD_INDICATOR:function(e,t){u["default"].set(e.indicators,t.id,t)},UPDATE_DESCRIPTION:function(e,t){var n=t.id,i=t.description;u["default"].set(e.indicators[n],"description",i)},REMOVE_INDICATOR:function(e,t){u["default"].delete(e.indicators,t)},SET_INDICATOR_OPTION:function(e,t){var n=t.id,i=t.key,r=t.value;e.indicators[n]||(e.indicators[n]={}),e.indicators[n].options||(e.indicators[n].options={}),u["default"].set(e.indicators[n].options,i,r)},REMOVE_INDICATOR_OPTION:function(e,t){var n=t.id,i=t.key;e.indicators[n]&&u["default"].delete(e.indicators[n].options,i)},SET_INDICATOR_SCRIPT:function(e,t){var n=t.id,i=t.value;this.commit(e._id+"/FLAG_INDICATOR_AS_UNSAVED",n),u["default"].set(e.indicators[n],"script",i)},FLAG_INDICATOR_AS_UNSAVED:function(e,t){u["default"].set(e.indicators[t],"unsavedChanges",!0)},FLAG_INDICATOR_AS_SAVED:function(e,t){u["default"].set(e.indicators[t],"unsavedChanges",!1)},TOGGLE_INDICATOR_RESIZE:function(e,t){e.resizingIndicator!==t?e.resizingIndicator=t:e.resizingIndicator=null},UPDATE_INDICATOR_DISPLAY_NAME:function(e,t){var n=e.indicators[t].name.replace(/\{([\w\d_]+)\}/g,(function(n,i){return e.indicators[t].options[i]||""}));u["default"].set(e.indicators[t],"displayName",n)}},m={namespaced:!0,state:h,getters:d,actions:p,mutations:f},_=(n("d81d"),n("4de4"),n("2818")),v={},b={granularity:5e3,window:6e4,enableChart:!1,buckets:{trades:{id:"trades",name:"TRADES",input:"cbuy + csell",enabled:!0,color:"rgba(255, 255, 255, .25)",precision:2,type:"line"},vold:{id:"vold",name:"VOLUME Î”",input:"vbuy - vsell",enabled:!0,color:"#40d745",type:"area"},tradesd:{id:"tradesd",name:"TRADES Î”",input:"cbuy - csell",enabled:!0,color:"#2196f3",precision:2,type:"line"},"1hliq":{id:"1hliq",name:"1H LIQUIDATIONS Î”",window:36e5,input:"lbuy-lsell",enabled:!1,color:"value>0?'#43a047':'#f44336'",conditionnalColor:!0,type:"histogram"}}},g={boot:function(e){return Object(a["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=e.state,n._booted=!0;case 2:case"end":return t.stop()}}),t)})))()},createBucket:function(e){var t=e.state,n=e.commit,i=Object.keys(t.buckets),r=i.map((function(e){return t.buckets[e].name})),a=Object(c["u"])("Untitled Bucket",r),o=Object(c["u"])(Object(c["t"])(a),i);n("CREATE_BUCKET",{id:o,name:a}),s["a"].open(_["a"],{paneId:t._id,bucketId:o})},updateBucket:function(e,t){var n=e.commit,i=e.state,r=t.id,a=t.prop,s=t.value;if(i.buckets[r][a]!==s){var o="";o+="boolean"===typeof s?"TOGGLE_BUCKET":"SET_BUCKET_"+a.toUpperCase(),n(o,{id:r,value:s})}},renameBucket:function(e,t){var n=e.commit,i=e.state,r=t.id,a=t.name,s=Object.keys(i.buckets).filter((function(e){return e!==r})).map((function(e){return i.buckets[e].name}));a=Object(c["u"])(a,s),n("RENAME_BUCKET",{id:r,name:a})}},y={TOGGLE_BUCKET:function(e,t){var n=t.id,i=t.value,r=e.buckets[n];r.enabled=!!i,u["default"].set(e.buckets,n,r)},SET_BUCKET_INPUT:function(e,t){var n=t.id,i=t.value,r=e.buckets[n];r.input=i,u["default"].set(e.buckets,n,r)},RENAME_BUCKET:function(e,t){var n=t.id,i=t.name,r=e.buckets[n];r.name=i,u["default"].set(e.buckets,n,r)},SET_BUCKET_COLOR:function(e,t){var n=t.id,i=t.value,r=e.buckets[n];r.color=i,u["default"].set(e.buckets,n,r)},SET_BUCKET_TYPE:function(e,t){var n=t.id,i=t.value,r=e.buckets[n];r.type=i,r.conditionnalColor&&"histogram"!==i&&this.commit(e._id+"/TOGGLE_BUCKET_COLOR_CONDITION",n),u["default"].set(e.buckets,n,r)},TOGGLE_BUCKET_COLOR_CONDITION:function(e,t){var n=e.buckets[t];n.conditionnalColor=!n.conditionnalColor,n.conditionnalColor||this.commit(e._id+"/SET_BUCKET_COLOR",{id:t,value:this.state.settings.textColor}),u["default"].set(e.buckets,t,n)},SET_BUCKET_PRECISION:function(e,t){var n=t.id,i=t.value,r=e.buckets[n];i=parseInt(i),r.precision=isNaN(i)?null:i,u["default"].set(e.buckets,n,r)},SET_BUCKET_WINDOW:function(e,t){var n=t.id,i=t.value,r=e.buckets[n],a=parseInt(i);isNaN(a)?r.window=null:(/[\d.]+s/.test(i)?a*=1e3:/[\d.]+h/.test(i)?a*=36e5:a*=6e4,r.window=a),u["default"].set(e.buckets,n,r)},CREATE_BUCKET:function(e,t){var n=t.id,i=t.name;u["default"].set(e.buckets,n,{id:n,name:i,input:"vbuy + vsell",enabled:!1})},REMOVE_BUCKET:function(e,t){u["default"].delete(e.buckets,t)},SET_WINDOW:function(e,t){var n=parseInt(t)||0;/[\d.]+s/.test(t)?n*=1e3:/[\d.]+h/.test(t)?n*=36e5:n*=6e4,e.window=n},TOGGLE_CHART:function(e,t){e.enableChart=!!t}},k={namespaced:!0,state:b,getters:v,actions:g,mutations:y},C=n("53ca"),O=(n("498a"),n("7db0"),n("a434"),n("99af"),{getThreshold:function(e){return function(t){if("liquidations"===t)return e.liquidations;for(var n=0;n<e.thresholds.length;n++)if(e.thresholds[n].id===t)return e.thresholds[n]}}}),E={liquidations:{id:"liquidations",amount:1e5,buyColor:"rgb(103,58,183)",sellColor:"rgb(103,58,183)",buyAudio:"play(329.63, ratio, ratio * 2, 0, 0.1, 'sine')",sellAudio:"play(440, ratio, ratio * 2, 0, 0.1, 'sine')"},thresholds:[{id:"threshold",amount:1e5,buyColor:"rgba(119, 148, 92, 0.5)",sellColor:"rgba(239, 67, 82, 0.5)",buyAudio:"play(659.26, Math.sqrt(ratio) / 10, 0.1 + Math.sqrt(ratio) * 0.23, 0)",sellAudio:"play(493.88, Math.sqrt(ratio * 1.5) / 10, 0.1 + Math.sqrt(ratio) * 0.23, 0)"},{id:"significant",amount:25e4,buyColor:"rgb(100, 157, 102)",sellColor:"rgb(239, 67, 82)",buyAudio:"play(659.26, 0.05 + Math.sqrt(ratio) / 10, 0.1 + ratio * 0.23, 0);\nplay(830.6, 0.05 + Math.sqrt(ratio) / 10, 0.1 + ratio * 0.23, 0.08)",sellAudio:"play(493.88, 0.05 + Math.sqrt(ratio * 1.5) / 10, 0.1 + ratio * 0.1, 0);\nplay(392, 0.05 + Math.sqrt(ratio * 1.5) / 10, 0.1 + ratio * 0.23, 0.08)"},{id:"huge",amount:1e6,gif:"cash",buyColor:"rgb(59, 202, 109)",sellColor:"rgb(235, 30, 47)",buyAudio:"play(659.26, 0.05 + Math.sqrt(ratio) / 25, 0.1 + ratio * 0.23, 0);\nplay(830.6, 0.05 + Math.sqrt(ratio) / 25, 0.1 + ratio * 0.23, 0.08);\nplay(987.76, 0.05 + Math.sqrt(ratio) / 25, 0.1 + ratio * 0.23, 0.16);\nplay(1318.52, 0.05 + Math.sqrt(ratio) / 10, 0.1 + ratio * 0.23, 0.24)",sellAudio:"play(493.88, 0.05 + Math.sqrt(ratio) / 25, 0.1 + ratio * 0.23, 0);\nplay(369.99, 0.05 + Math.sqrt(ratio * 1.5) / 10, 0.2, 0.08);\nplay(293.66, 0.05 + Math.sqrt(ratio * 1.5) / 10, 0.2, 0.16);\nplay(246.94, 0.05 + Math.sqrt(ratio * 1.5) / 10, 0.1 + ratio * 0.23, 0.24)"},{id:"rare",amount:1e7,gif:"explosion",buyColor:"rgb(0, 255, 127)",sellColor:"rgb(217, 31, 28)",buyAudio:"play(659.26, 0.05 + Math.sqrt(ratio) / 25, 0.1 + ratio * 0.13, 0);\nplay(830.6, 0.05 + Math.sqrt(ratio) / 25, 0.1 + ratio * 0.13, 0.08);\nplay(987.76, 0.05 + Math.sqrt(ratio) / 25, 0.1 + ratio * 0.13, 0.16);\nplay(1318.52, 0.05 + Math.sqrt(ratio) / 10, 0.1 + ratio * 0.13, 0.24)",sellAudio:"play(493.88, 0.05 + Math.sqrt(ratio) / 25, 0.1 + ratio * 0.13, 0);\nplay(369.99, 0.05 + Math.sqrt(ratio * 1.5) / 10, 0.2, 0.08);\nplay(293.66, 0.05 + Math.sqrt(ratio * 1.5) / 10, 0.2, 0.16);\nplay(246.94, 0.05 + Math.sqrt(ratio * 1.5) / 10, 0.1 + ratio * 0.13, 0.24)"}],audioThreshold:null,multipliers:{},showThresholdsAsTable:!0,maxRows:100,muted:!1,audioPitch:null,audioVolume:null,showTradesPairs:!1,tradeType:"both",showLogos:!0,monochromeLogos:!0},w={boot:function(e){return Object(a["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=e.state,"boolean"===typeof n.liquidationsOnly&&(n.tradeType="liquidations",delete n.liquidationsOnly,Object(l["b"])(n)),n._booted=!0;case 3:case"end":return t.stop()}}),t)})))()},updateThreshold:function(e,t){var n=e.state,r=e.commit,a=t.index,s=t.prop,o=t.value,c=n.thresholds[a];if(!c)throw new Error("no threshold");var l={index:a};o&&"object"===Object(C["a"])(o)?l=Object(i["a"])(Object(i["a"])({},l),o):l.value=o,r("SET_THRESHOLD_"+s,l)},updateLiquidations:function(e,t){var n=e.state,i=e.commit,r=t.prop,a=t.value,s=n.liquidations;if(!s)throw new Error("no liquidation threshold");i("SET_LIQUIDATIONS_"+r,a)}},T={TOGGLE_TRADES_PAIRS:function(e){e.showTradesPairs=!e.showTradesPairs},SET_MAX_ROWS:function(e,t){e.maxRows=t},TOGGLE_LOGOS:function(e,t){e.showLogos=!!t},TOGGLE_MUTED:function(e){e.muted=!e.muted,e.muted||0!==e.audioVolume||(e.audioVolume=null)},SET_AUDIO_PITCH:function(e,t){"string"===typeof t&&(t=t.replace(/[^0-9-.]/g,"")),t=+t,e.audioPitch=t&&1!==t?t:null},SET_AUDIO_VOLUME:function(e,t){"string"===typeof t&&(t=t.replace(/[^0-9-.]/g,"")),isNaN(+t)||null===t?e.audioVolume=null:(e.audioVolume=+t,0!==e.audioVolume||e.muted?e.audioVolume>0&&e.muted&&(e.muted=!1):e.muted=!0)},TOGGLE_MONOCHROME_LOGOS:function(e,t){e.monochromeLogos=!!t},TOGGLE_TRADE_TYPE:function(e){var t=["both","liquidations","trades"],n=Math.max(0,t.indexOf(e.tradeType));e.tradeType=t[(n+1)%t.length]},TOGGLE_THRESHOLDS_TABLE:function(e,t){e.showThresholdsAsTable=!!t},SET_THRESHOLD_AMOUNT:function(e,t){var n=t.id,i=t.value,r=this.getters[e._id+"/getThreshold"](n);r&&("string"===typeof i&&/m|k$/i.test(i)&&(/m$/i.test(i)?r.amount=1e6*parseFloat(i):r.amount=1e3*parseFloat(i)),r.amount=+i,this.commit(e._id+"/UPDATE_THRESHOLD",r))},SET_THRESHOLD_MULTIPLIER:function(e,t){var n=t.identifier,i=t.multiplier;(isNaN(i)||i<0)&&(i=0),u["default"].set(e.multipliers,n,i)},SET_THRESHOLD_GIF:function(e,t){var n=this.getters[e._id+"/getThreshold"](t.id);n&&(t.value.trim().length?n.gif=t.value:(t.value=n.gif,t.isDeleted=!0,n.gif=null),this.commit(e._id+"/UPDATE_THRESHOLD",n))},SET_THRESHOLD_COLOR:function(e,t){var n=t.id,i=t.side,r=t.value,a=this.getters[e._id+"/getThreshold"](n);a&&(a[i]=r)},SET_THRESHOLD_AUDIO:function(e,t){var n=t.id,i=t.buyAudio,r=t.sellAudio,a=this.getters[e._id+"/getThreshold"](n);a&&(a["buyAudio"]=i,a["sellAudio"]=r)},ADD_THRESHOLD:function(e){var t=e.thresholds[e.thresholds.length-1],n="play(659.26, ratio, ratio, 0)",i="play(493.88, ratio, ratio, 0)";t&&(n=t.buyAudio,i=t.sellAudio),e.thresholds.push({id:Object(c["r"])(8),amount:2*e.thresholds[e.thresholds.length-1].amount,buyColor:"rgb(0, 255, 0)",sellColor:"rgb(255, 0, 0)",buyAudio:n,sellAudio:i})},DELETE_THRESHOLD:function(e,t){var n=e.thresholds.indexOf(e.thresholds.find((function(e){return e.id===t})));e.thresholds.splice(n,1)},UPDATE_THRESHOLD:function(e,t){if("liquidations"===t.id)e.liquidations=t;else{var n=e.thresholds.indexOf(e.thresholds.find((function(e){return e.id===t.id})));if(-1===n)return;u["default"].set(e.thresholds,n,t)}},SET_AUDIO_THRESHOLD:function(e,t){e.audioThreshold=t}},I={namespaced:!0,state:E,getters:O,actions:w,mutations:T},x={},S={animateSort:!0,showPairs:!1,boldFont:!1},A={boot:function(e){return Object(a["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=e.state,n._booted=!0;case 2:case"end":return t.stop()}}),t)})))()}},R={TOGGLE_SORT_ANIMATION:function(e){e.animateSort=!e.animateSort},TOGGLE_PAIRS:function(e){e.showPairs=!e.showPairs},TOGGLE_BOLD_FONT:function(e){e.boldFont=!e.boldFont}},j={namespaced:!0,state:S,getters:x,actions:A,mutations:R},P={},D={granularity:5e3,liquidationsOnly:!1,steps:[3e4,6e4,9e5,18e5],count:!1},M={boot:function(e){return Object(a["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=e.state,n._booted=!0;case 2:case"end":return t.stop()}}),t)})))()}},L={REPLACE_COUNTERS:function(e,t){e.steps=t.sort((function(e,t){return e-t}))},TOGGLE_COUNT:function(e){e.count=!e.count},TOGGLE_LIQUIDATIONS_ONLY:function(e){e.liquidationsOnly=!e.liquidationsOnly}},N={namespaced:!0,state:D,getters:P,actions:M,mutations:L};t["a"]={chart:m,stats:k,trades:I,prices:j,counters:N}},be31:function(e,t,n){"use strict";var i={};n.r(i),n.d(i,"v0",(function(){return h})),n.d(i,"v1",(function(){return p})),n.d(i,"v2",(function(){return f}));var r=n("5530"),a=n("1da1"),s=n("d4ec"),o=n("bee2"),c=(n("96cf"),n("d3b7"),n("07ac"),n("ddb0"),n("b0c0"),n("d81d"),n("99af"),n("392d")),l=n("0613"),u=n("28f3"),d=n("3f4f"),h=function(e){var t=e.createObjectStore("workspaces",{keyPath:"id"});t.createIndex("name","name");var n=e.createObjectStore("series",{keyPath:"id"});n.createIndex("name","name"),e.createObjectStore("products",{keyPath:"exchange"}),e.createObjectStore("gifs",{keyPath:"slug"})},p=function(e){e.deleteObjectStore("series");var t=e.createObjectStore("indicators",{keyPath:"id"});t.createIndex("name","name")},f=function(e){e.createObjectStore("presets",{keyPath:"name"})},m=function(){function e(){Object(s["a"])(this,e),this.urlStrategy="history",/github\.io/.test(window.location.hostname)&&(this.urlStrategy="hash")}return Object(o["a"])(e,[{key:"createDatabase",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t,n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){Object(d["b"])("aggr",2,{upgrade:function(e,r,s,o){t=new Promise((function(t){o.oncomplete=Object(a["a"])(regeneratorRuntime.mark((function i(){return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=3,n.insertDefault(e);case 3:t();case 4:case"end":return i.stop()}}),i)})))}));for(var c=r?r+1:r;c<=s;c++)i["v"+c](e)},blocked:function(){},blocking:function(){},terminated:function(){}}).then((function(n){return t?t.then((function(){return e(n)})):e(n)})).catch((function(e){}))})));case 2:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"initialize",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.createDatabase();case 2:if(this.db=e.sent,-1===Object.values(this.db.objectStoreNames).indexOf("series")){e.next=7;break}return e.next=6,this.reset();case 6:window.location.reload();case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"insertDefault",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,i,a,s,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=+new Date,i=t.transaction("indicators","readwrite"),e.next=4,i.store.getAllKeys();case 4:a=e.sent,0,e.t0=regeneratorRuntime.keys(c);case 7:if((e.t1=e.t0()).done){e.next=18;break}if(s=e.t1.value,o=c[s],-1===a.indexOf(s)){e.next=12;break}return e.abrupt("continue",7);case 12:return e.next=15,i.store.add(Object(r["a"])(Object(r["a"])({},o),{},{id:s,createdAt:n,updatedAt:null}));case 15:e.next=7;break;case 18:return e.next=21,i.done;case 21:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getCurrentWorkspace",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t="hash"===this.urlStrategy?location.hash.substring(1):location.pathname.substring(1),t.length&&/^[a-zA-Z0-9]{4}$/.test(t)||(t=localStorage.getItem("workspace")),e.t0=!t,e.t0){e.next=7;break}return e.next=6,this.getWorkspace(t);case 6:e.t0=!(n=e.sent);case 7:if(!e.t0){e.next=11;break}return e.next=10,this.createWorkspace();case 10:n=e.sent;case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"setCurrentWorkspace",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.workspace=t,"hash"===this.urlStrategy?location.hash=this.workspace.id:window.history.replaceState("Object","Title","/"+this.workspace.id),localStorage.setItem("workspace",this.workspace.id),e.next=5,Object(l["a"])(t);case 5:return e.abrupt("return",t);case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"saveState",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.workspace){e.next=2;break}throw new Error("There is no current workspace");case 2:return n=this.cleanState(n),this.workspace.states[t]=n,e.abrupt("return",this.saveWorkspace());case 5:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"cleanState",value:function(e){for(var t in e=JSON.parse(JSON.stringify(e)),e)"_"===t[0]&&"_id"!==t&&delete e[t];return e}},{key:"downloadWorkspace",value:function(){this.workspace.states.panes&&delete this.workspace.states.panes.marketsListeners,Object(u["f"])(this.workspace,this.workspace.id+"_"+Object(u["t"])(this.workspace.name))}},{key:"getState",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.workspace){e.next=2;break}throw new Error("There is no current workspace");case 2:if(!this.workspace.states[t]){e.next=5;break}return e.abrupt("return",this.workspace.states[t]);case 5:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"removeState",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.workspace){e.next=2;break}throw new Error("There is no current workspace");case 2:return delete this.workspace.states[t],this.workspace.states[t]&&delete this.workspace.states[t],e.abrupt("return",this.saveWorkspace());case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"importWorkspace",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=+new Date,e.next=3,this.makeUniqueWorkspace(t);case 3:return e.next=5,this.db.add("workspaces",Object(r["a"])(Object(r["a"])({},t),{},{createdAt:n,updatedAt:null}));case 5:return e.abrupt("return",this.getWorkspace(t.id));case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"makeUniqueWorkspace",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,i,r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getWorkspaces();case 2:n=e.sent,i=n.map((function(e){return e.name})),r=n.map((function(e){return e.id})),t.name||(t.name="Untitled"),t.name=Object(u["u"])(t.name,i),a=t.id;while(!a||-1!==r.indexOf(a))a=Object(u["r"])(4);t.id=a;case 10:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getWorkspace",value:function(e){return this.db.get("workspaces",e)}},{key:"createWorkspace",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=+new Date,n={createdAt:t,updatedAt:null,name:null,id:null,states:{}},e.next=4,this.makeUniqueWorkspace(n);case 4:return e.next=7,this.db.add("workspaces",n);case 7:return e.next=9,this.getWorkspace(n.id);case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"duplicateWorkspace",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=+new Date,n=JSON.parse(JSON.stringify(this.workspace)),n.createdAt=t,n.updatedAt=null,e.next=6,this.makeUniqueWorkspace(n);case 6:return e.next=9,this.db.add("workspaces",n);case 9:return e.t0=this,e.next=12,this.getWorkspace(n.id);case 12:return e.t1=e.sent,e.next=15,e.t0.setCurrentWorkspace.call(e.t0,e.t1);case 15:return e.abrupt("return",e.sent);case 16:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getWorkspaces",value:function(){return this.db.getAllFromIndex("workspaces","name")}},{key:"renameWorkspace",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.workspace){e.next=2;break}throw new Error("There is no current workspace");case 2:return this.workspace.name=t,e.abrupt("return",this.saveWorkspace());case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"saveWorkspace",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.workspace){e.next=2;break}throw new Error("There is no current workspace");case 2:return this.workspace.updatedAt=+new Date,e.abrupt("return",this.db.put("workspaces",JSON.parse(JSON.stringify(this.workspace))));case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"removeWorkspace",value:function(e){return this.db.delete("workspaces",e)}},{key:"saveProducts",value:function(e){return this.db.put("products",e)}},{key:"getProducts",value:function(e){return this.db.get("products",e)}},{key:"deleteProducts",value:function(e){return this.db.delete("products",e)}},{key:"saveGifs",value:function(e){return this.db.put("gifs",e)}},{key:"getGifs",value:function(e){return this.db.get("gifs",e)}},{key:"deleteGifs",value:function(e){return this.db.delete("gifs",e)}},{key:"saveIndicator",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=+new Date,t.createdAt?t.updatedAt=n:t.createdAt=n,l["b"].dispatch("app/showNotice",{type:"info",title:"Saved indicator ".concat(t.id)}),e.abrupt("return",this.db.put("indicators",t));case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getIndicator",value:function(e){return this.db.get("indicators",e)}},{key:"getIndicators",value:function(){return this.db.getAllFromIndex("indicators","name")}},{key:"deleteIndicator",value:function(e){return this.db.delete("indicators",e)}},{key:"savePreset",value:function(e){return this.db.put("presets",e)}},{key:"getPreset",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this.db.get("presets",t));case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"removePreset",value:function(e){return this.db.delete("presets",e)}},{key:"getPresetsKeysByType",value:function(e){return this.db.getAllKeys("presets",IDBKeyRange.bound(e,e+"|",!0,!0))}},{key:"reset",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.db.close(),this.db=null,this.workspace=null,localStorage.removeItem("workspace"),e.next=6,Object(d["a"])("aggr");case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),e}();t["a"]=new m},cb7c:function(e){e.exports=JSON.parse('{"a":{"_id":"panes","layout":[{"x":0,"y":0,"w":20,"h":24,"i":"chart","type":"chart"},{"x":20,"y":0,"w":4,"h":18,"i":"trades","type":"trades"},{"x":20,"y":20,"w":4,"h":6,"i":"liquidations","type":"trades"}],"panes":{"chart":{"id":"chart","name":"Chart","type":"chart","markets":["BITFINEX:BTCUSD","BINANCE:btcusdt","OKEX:BTC-USDT","KRAKEN:XBT/USD","COINBASE:BTC-USD","POLONIEX:USDT_BTC","HUOBI:btcusdt","BITSTAMP:btcusd","BITMEX:XBTUSD","BITFINEX:BTCF0:USTF0","OKEX:BTC-USD-SWAP","OKEX:BTC-USDT-SWAP","BINANCE_FUTURES:btcusdt","BINANCE_FUTURES:btcusd_perp","HUOBI:BTC-USD","KRAKEN:PI_XBTUSD","DERIBIT:BTC-PERPETUAL","FTX:BTC-PERP"]},"trades":{"id":"trades","name":"TRADES","type":"trades","markets":["BITFINEX:BTCUSD","BINANCE:btcusdt","OKEX:BTC-USDT","KRAKEN:XBT/USD","COINBASE:BTC-USD","POLONIEX:USDT_BTC","HUOBI:btcusdt","BITSTAMP:btcusd","BITMEX:XBTUSD","BITFINEX:BTCF0:USTF0","OKEX:BTC-USD-SWAP","OKEX:BTC-USDT-SWAP","BINANCE_FUTURES:btcusdt","BINANCE_FUTURES:btcusd_perp","HUOBI:BTC-USD","KRAKEN:PI_XBTUSD","DERIBIT:BTC-PERPETUAL","FTX:BTC-PERP"],"settings":{"tradeType":"trades","liquidations":{"amount":50000},"audioThreshold":25000}},"liquidations":{"id":"liquidations","name":"REKTS","type":"trades","markets":["BITMEX:XBTUSD","BITFINEX:BTCF0:USTF0","OKEX:BTC-USD-SWAP","OKEX:BTC-USDT-SWAP","BINANCE_FUTURES:btcusdt","BINANCE_FUTURES:btcusd_perp","HUOBI:BTC-USD","KRAKEN:PI_XBTUSD","DERIBIT:BTC-PERPETUAL","FTX:BTC-PERP","BYBIT:BTCUSD"],"settings":{"tradeType":"liquidations","thresholds":[{"id":"threshold","amount":10000,"buyColor":"rgba(236,64,122,0.5)","sellColor":"rgba(255,152,0,0.5)","buyAudio":"play(329.63, ratio / 10, ratio, 0.08, .1, \'sine\');","sellAudio":"play(440, ratio / 10, ratio, 0.08, .05, \'sine\');"},{"id":"significant","amount":25000,"buyColor":"rgba(236,64,122,0.6)","sellColor":"rgba(255,152,0,0.7)","buyAudio":"play(329.63, ratio / 10, ratio, 0.08, .1, \'sine\');","sellAudio":"play(440, ratio / 10, ratio, 0.08, .1, \'sine\');"},{"id":"huge","amount":100000,"gif":"rekt","buyColor":"rgba(236,64,122,0.7)","sellColor":"rgba(255,152,0,0.8)","buyAudio":"play(329.63, ratio / 10, ratio, 0.08, .1, \'sine\');","sellAudio":"play(440, ratio / 10, ratio, 0.08, .1, \'sine\');"},{"id":"rare","amount":1000000,"gif":"explosion","buyColor":"rgb(156,39,176)","sellColor":"rgb(255,235,59)","buyAudio":"play(329.63, ratio / 10, ratio, 0.08, .1, \'sine\');","sellAudio":"play(440, ratio / 10, ratio, 0.08, .1, \'sine\');"}]}}},"marketsListeners":{}},"b":{"_id":"panes","layout":[{"x":0,"y":0,"w":24,"h":24,"i":"trades","type":"trades"}],"panes":{"trades":{"id":"trades","name":"TRADES","type":"trades","markets":["BITFINEX:BTCUSD","BINANCE:btcusdt","OKEX:BTC-USDT","KRAKEN:XBT/USD","COINBASE:BTC-USD","POLONIEX:USDT_BTC","HUOBI:btcusdt","BITSTAMP:btcusd","BITMEX:XBTUSD","BITFINEX:BTCF0:USTF0","OKEX:BTC-USD-SWAP","OKEX:BTC-USDT-SWAP","BINANCE_FUTURES:btcusdt","BINANCE_FUTURES:btcusd_perp","HUOBI:BTC-USD","KRAKEN:PI_XBTUSD","DERIBIT:BTC-PERPETUAL","FTX:BTC-PERP","BYBIT:BTCUSD"]}},"marketsListeners":{}}}')},cd49:function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var i=n("2b0e"),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.isBooted?n("div",{class:{"-loading":e.isLoading,"-no-animations":e.disableAnimations,"-light":"light"===e.theme},attrs:{id:"app","data-prefered-sizing-currency":e.preferedSizingCurrency,"data-base":e.baseCurrency,"data-base-symbol":e.baseCurrencySymbol,"data-quote":e.quoteCurrency,"data-quote-symbol":e.quoteCurrencySymbol}},[n("Notices"),e.showSettings?n("Settings"):e._e(),n("div",{staticClass:"app__wrapper"},[n("Menu"),n("div",{staticClass:"app__layout"},[n("Panes")],1)],1)],1):e._e()},a=[],s=n("d4ec"),o=n("bee2"),c=n("262e"),l=n("2caf"),u=(n("b64b"),n("9ab4")),d=n("60a3"),h=n("a914"),p=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition-group",{staticClass:"notices",attrs:{name:e.transitionGroupName,tag:"div"},on:{beforeEnter:e.beforeEnter,enter:e.enter,afterEnter:e.afterEnter,beforeLeave:e.beforeLeave,leave:e.leave}},e._l(e.notices,(function(t){return n("div",{key:t.id,staticClass:"notice",class:"-"+t.type},[n("div",{staticClass:"notice__wrapper",on:{click:function(n){return e.$store.dispatch("app/hideNotice",t.id)}}},[t.icon?n("i",{staticClass:"notice__icon",class:t.icon}):e._e(),n("div",{staticClass:"notice__title",domProps:{innerHTML:e._s(t.title)}})])])})),0)},f=[],m=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(s["a"])(this,n),t.apply(this,arguments)}return Object(o["a"])(n,[{key:"notices",get:function(){return this.$store.state.app.notices}},{key:"disableAnimations",get:function(){return this.$store.state.settings.disableAnimations}},{key:"transitionGroupName",get:function(){return this.disableAnimations?null:"slide-notice"}},{key:"onButtonClick",value:function(e){var t=!0;"function"===typeof e.button.click&&(t=e.button.click()),!1!==t&&this.$store.dispatch("app/hideNotice",e.id)}},{key:"beforeEnter",value:function(e){e.style.height="0px"}},{key:"enter",value:function(e){var t=e.children[0],n=t.offsetHeight;n+=parseInt(window.getComputedStyle(t).getPropertyValue("margin-top")),n+=parseInt(window.getComputedStyle(t).getPropertyValue("margin-bottom")),n+="px",e.dataset.height=n,setTimeout((function(){e.style.height=n}),100)}},{key:"afterEnter",value:function(e){e.style.height=""}},{key:"beforeLeave",value:function(e){e.style.height=e.dataset.height}},{key:"leave",value:function(e){setTimeout((function(){e.style.height="0px"}))}}]),n}(d["c"]);m=Object(u["a"])([Object(d["a"])({name:"Notices"})],m);var _=m,v=_,b=n("2877"),g=Object(b["a"])(v,p,f,!1,null,null,null),y=g.exports,k=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"menu",class:{"-open":e.open},attrs:{id:"menu"}},[n("button",{staticClass:"menu__button btn",on:{click:e.toggleMenu}},[n("i",{staticClass:"icon-menu"})]),n("div",{staticClass:"menu__actions"},[n("button",{directives:[{name:"tippy",rawName:"v-tippy",value:{placement:"left",distance:20},expression:"{ placement: 'left', distance: 20 }"}],staticClass:"menu-action btn",attrs:{type:"button",title:"General settings"},on:{click:function(t){return e.$store.commit("app/TOGGLE_SETTINGS")}}},[n("span",{staticClass:"mr4"},[e._v("Settings")]),n("i",{staticClass:"icon-cog"})]),n("a",{directives:[{name:"tippy",rawName:"v-tippy",value:{placement:"left",distance:20},expression:"{ placement: 'left', distance: 20 }"}],staticClass:"menu-action btn",attrs:{type:"button",target:"_blank",href:"https://github.com/Tucsky/aggr",title:"Github"}},[n("span",{staticClass:"mr4"},[e._v("Github")]),n("i",{staticClass:"icon-external-link-square-alt"})]),e.isPopupMode?e._e():n("button",{directives:[{name:"tippy",rawName:"v-tippy",value:{placement:"left",distance:20},expression:"{ placement: 'left', distance: 20 }"}],staticClass:"menu-action btn",attrs:{type:"button",title:"Open as popup"},on:{click:e.openAsPopup}},[n("span",{staticClass:"mr4"},[e._v("Popup")]),n("i",{staticClass:"icon-external-link-square-alt"})]),n("tippy",{attrs:{to:"myTrigger",interactive:!0,delay:[0,400],distance:20,placement:"left",theme:"transparent"}},[n("div",{staticClass:"mt4 mb4 text-nowrap"},[n("slider",{staticStyle:{width:"100px"},attrs:{min:0,max:10,step:.1,label:!0,editable:!1,value:e.audioVolume},on:{input:function(t){return e.$store.dispatch("settings/setAudioVolume",t)},reset:function(t){return e.$store.dispatch("settings/setAudioVolume",1)}}})],1)]),n("button",{staticClass:"menu-action btn -volume",attrs:{type:"button",name:"myTrigger"},on:{click:function(t){return e.$store.commit("settings/TOGGLE_AUDIO",!e.useAudio)}}},[n("span",{staticClass:"mr4"},[e._v("Audio")]),e.useAudio?n("i",{staticClass:"icon-volume-medium",class:{"icon-volume-high":e.audioVolume>1}}):n("i",{staticClass:"icon-volume-off"})]),n("dropdown",{directives:[{name:"tippy",rawName:"v-tippy",value:{placement:"left",distance:20},expression:"{ placement: 'left', distance: 20 }"}],staticClass:"menu-action",attrs:{options:e.paneTypes,placeholder:"tf.",title:"Add pane to workspace"},on:{output:e.addPane},scopedSlots:e._u([{key:"selection",fn:function(){return[n("div",{staticClass:"btn -green"},[n("i",{staticClass:"icon-dashboard -center mr16"}),n("span",{staticClass:"mr4"},[e._v("Pane")]),n("i",{staticClass:"icon-plus"})])]},proxy:!0},{key:"option",fn:function(t){var i=t.value;return[n("span",[n("div",{staticClass:"dropdown-option__title"},[e._v(e._s(i.title))]),n("div",{staticClass:"dropdown-option__description"},[e._v(e._s(i.description))])]),n("i",{staticClass:"icon-plus mr4"})]}}])}),n("button",{directives:[{name:"tippy",rawName:"v-tippy",value:{placement:"left",distance:20},expression:"{ placement: 'left', distance: 20 }"}],staticClass:"menu-action btn",attrs:{type:"button",title:"Choose exchanges / pairs"},on:{click:function(t){return e.$store.dispatch("app/showSearch")}}},[n("span",{staticClass:"mr4"},[e._v("Search")]),n("i",{staticClass:"icon-search"})])],1)])},C=[],O=(n("a15b"),n("d81d"),n("7ab0")),E=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(s["a"])(this,n),e=t.apply(this,arguments),e.open=!1,e.isPopupMode=null!==window.opener,e.paneTypes={chart:{title:"Chart",description:"Live chart"},trades:{title:"Trades",description:"Trades feed"},stats:{title:"Stats",description:"Rolling metrics"},counters:{title:"Counters",description:"Buys/sells by intervals"},prices:{title:"Markets",description:"Tickers sorted by price"}},e}return Object(o["a"])(n,[{key:"useAudio",get:function(){return this.$store.state.settings.useAudio}},{key:"audioVolume",get:function(){return this.$store.state.settings.audioVolume}},{key:"openAsPopup",value:function(){var e=this.$store.state.app.activeMarkets.map((function(e){return e.pair})).join("+");window.open(window.location.href,"sig".concat(e),"toolbar=no,status=no,width=350,height=500"),setTimeout((function(){window.close()}),500)}},{key:"toggleMenu",value:function(){this.open=!this.open}},{key:"addPane",value:function(e){this.$store.dispatch("panes/addPane",{type:e})}}]),n}(d["c"]);E=Object(u["a"])([Object(d["a"])({name:"Header",components:{Slider:O["a"]}})],E);var w=E,T=w,I=(n("bb78"),Object(b["a"])(T,k,C,!1,null,null,null)),x=I.exports,S=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"settings__container stack__container",attrs:{id:"settings"},on:{mousedown:function(t){t.target===e.$el&&e.close()}}},[n("div",{staticClass:"stack__scroller background-200"},[n("div",{staticClass:"stack__wrapper"},[n("a",{staticClass:"stack__toggler icon-cross -text",attrs:{href:"#"},on:{click:e.close}}),e.workspace?n("section",{staticClass:"section"},[n("div",{staticClass:"form-group"},[n("div",{staticClass:"column"},[n("i",{staticClass:"icon-dashboard -center mr16"}),n("div",{staticClass:"-fill"},[n("div",{staticClass:"column"},[n("div",{staticClass:"-center"},[e._v(e._s(e.workspace.name))]),n("code",{staticClass:"-center"},[e._v(e._s(e.workspace.id))]),n("div",{staticClass:"-fill"})]),n("small",{staticClass:"text-muted"},[e._v("created "+e._s(e.workspace.createdAt)+" ago")])]),n("dropdown",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"ml8",attrs:{options:e.workspaceMenu,placeholder:"Workspaces",title:"Workspace tools"},scopedSlots:e._u([{key:"selection",fn:function(){return[n("button",{staticClass:"btn -blue"},[n("i",{staticClass:"icon-menu"})])]},proxy:!0},{key:"option",fn:function(t){var i=t.value;return[n("span",[e._v(e._s(i.label))]),n("i",{class:"icon-"+i.icon})]}}],null,!1,3115598936)})],1),e.workspaces.length>1?n("dropdown",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"-left mt16",attrs:{options:e.workspaces,placeholder:"Workspaces",title:"Load another workspace"},on:{output:e.loadWorkspace},scopedSlots:e._u([{key:"selection",fn:function(){return[n("button",{staticClass:"btn -blue -small",attrs:{type:"button",href:"javascript:void(0);"}},[n("i",{staticClass:"icon-search"}),n("span",{staticClass:"ml4"},[e._v("Load workspaces ("+e._s(e.workspaces.length)+") ")])])]},proxy:!0},{key:"option",fn:function(t){var i=t.value;return[n("i",{staticClass:"icon-trash -action mr16",on:{click:function(t){return t.stopPropagation(),e.removeWorkspace(i.id)}}}),n("div",{staticClass:"flex-grow-1"},[n("div",{staticClass:"dropdown-option__title"},[e._v(" "+e._s(i.name)+" "),n("code",[e._v(e._s(i.id))])]),i.updatedAt?n("div",{staticClass:"dropdown-option__description text-muted",domProps:{textContent:e._s("last used "+e.ago(i.updatedAt)+" ago")}}):e._e()]),n("i",{staticClass:"icon-external-link-square-alt ml4"})]}}],null,!1,2606623439)}):e._e()],1),n("div",{staticClass:"section__title"},[e._v(" Workspace ")])]):e._e(),n("section",{staticClass:"section"},[e.settings.indexOf("list")>-1?n("div",{staticClass:"settings-section settings-trades"},[n("div",{staticClass:"form-group mb8"},[n("label",{staticClass:"checkbox-control -aggr",on:{change:function(t){return e.$store.commit("settings/TOGGLE_AGGREGATION",t.target.checked)}}},[n("input",{staticClass:"form-control",attrs:{type:"checkbox"},domProps:{checked:e.aggregateTrades}}),n("div"),n("span",[e._v("Trades aggregation is "+e._s(e.aggregateTrades?"enabled":"disabled"))])])]),n("div",{staticClass:"form-group mb8"},[n("label",{directives:[{name:"tippy",rawName:"v-tippy",value:{placement:"left"},expression:"{ placement: 'left' }"}],staticClass:"checkbox-control -slippage",attrs:{title:"price"===e.calculateSlippage?"Show slippage in $":"bps"===e.calculateSlippage?"Show slippage in basis point (bps)":"Slippage disabled"}},[n("input",{staticClass:"form-control",attrs:{type:"checkbox"},domProps:{checked:e.calculateSlippage},on:{change:function(t){return e.$store.commit("settings/TOGGLE_SLIPPAGE")}}}),n("div"),"price"===e.calculateSlippage?n("span",[e._v(" Calculate slippage in price change ("),n("i",{staticClass:"icon-dollar"}),e._v(") ")]):e._e(),"bps"===e.calculateSlippage?n("span",[e._v(" Calculate slippage in bps "),n("i",{staticClass:"icon-bps"})]):e._e(),e.calculateSlippage?e._e():n("span",[e._v("Do not show slippage")])])]),n("div",{staticClass:"form-group"},[n("label",{directives:[{name:"tippy",rawName:"v-tippy",value:{placement:"left"},expression:"{ placement: 'left' }"}],staticClass:"checkbox-control checkbox-control-input -auto",attrs:{title:"Size display preference"}},[n("input",{staticClass:"form-control",attrs:{type:"checkbox"},domProps:{checked:e.preferQuoteCurrencySize},on:{change:function(t){return e.$store.commit("settings/SET_QUOTE_AS_PREFERED_CURRENCY",t.target.checked)}}}),n("span",[e._v("Size in")]),n("div",{attrs:{on:"quote currency",off:"base currency"}}),n("span",[e._v("("),n("i",{class:e.preferQuoteCurrencySize?"icon-quote":"icon-base"}),e._v(")")])])])]):e._e(),n("div",{staticClass:"section__title",on:{click:function(t){return e.$store.commit("settings/TOGGLE_SETTINGS_PANEL","list")}}},[e._v(" Trades list "),n("i",{staticClass:"icon-up"})])]),n("section",{staticClass:"section"},[e.settings.indexOf("audio")>-1?n("audio-settings"):e._e(),n("div",{staticClass:"section__title",on:{click:function(t){return e.$store.commit("settings/TOGGLE_SETTINGS_PANEL","audio")}}},[e._v(" Audio "),n("i",{staticClass:"icon-up"})])],1),n("section",{staticClass:"section"},[e.settings.indexOf("chart")>-1?n("div",{staticClass:"settings-section settings-chart"},[n("div",{staticClass:"form-group mb16"},[n("label",{staticClass:"checkbox-control flex-left"},[n("input",{staticClass:"form-control",attrs:{type:"checkbox"},domProps:{checked:!!e.timezoneOffset},on:{change:function(t){e.$store.commit("settings/SET_TIMEZONE_OFFSET",e.timezoneOffset?0:6e4*(new Date).getTimezoneOffset()*-1)}}}),n("div"),n("span",[e._v("Show local time")])])]),n("div",{staticClass:"form-group column mb8"},[n("verte",{attrs:{value:e.backgroundColor},on:{input:function(t){t!==e.backgroundColor&&e.$store.dispatch("settings/setBackgroundColor",t)}}}),n("label",{staticClass:"-fill -center ml8"},[e._v("Background color")])],1),n("div",{staticClass:"form-group column mb8"},[n("verte",{attrs:{picker:"square",menuPosition:"left",model:"rgb",value:e.textColor},on:{input:function(t){t!==e.textColor&&e.$store.commit("settings/SET_CHART_COLOR",t)}}}),n("label",{staticClass:"-fill -center ml8",attrs:{for:""}},[e._v("Text color "),n("a",[e.textColor?n("i",{staticClass:"icon-cross text-small",on:{click:function(t){return e.$store.commit("settings/SET_CHART_COLOR",null)}}}):e._e()])])],1)]):e._e(),n("div",{staticClass:"section__title",on:{click:function(t){return e.$store.commit("settings/TOGGLE_SETTINGS_PANEL","chart")}}},[e._v(" Chart "),n("i",{staticClass:"icon-up"})])]),n("section",{staticClass:"section"},[e.settings.indexOf("exchanges")>-1?n("div",{staticClass:"form-group"},[n("div",{staticClass:"settings-exchanges"},e._l(e.exchanges,(function(e){return n("Exchange",{key:e,attrs:{id:e}})})),1)]):e._e(),n("div",{staticClass:"section__title",on:{click:function(t){return e.$store.commit("settings/TOGGLE_SETTINGS_PANEL","exchanges")}}},[e._v(" Exchanges "),n("i",{staticClass:"icon-up"})])]),n("section",{staticClass:"section"},[e.settings.indexOf("other")>-1?n("other-settings"):e._e(),n("div",{staticClass:"section__title",on:{click:function(t){return e.$store.commit("settings/TOGGLE_SETTINGS_PANEL","other")}}},[e._v(" Other "),n("i",{staticClass:"icon-up"})])],1),n("section",{staticClass:"section mt16 settings__footer"},[n("div",{staticClass:"form-group"},[e.version?n("div",{staticClass:"column"},[n("div",{staticClass:"-grow"},[e._v(" v"+e._s(e.version)+" "),n("sup",{staticClass:"version-date"},[e._v(e._s(e.buildDate))])]),n("a",{attrs:{href:"javascript:void(0);"},on:{click:function(t){return e.reset()}}},[e._v("reset")]),n("i",{staticClass:"pipe"},[e._v("|")]),n("span",[n("dropdown",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"-top -text-left",attrs:{options:e.donationMenu,title:"Support the project"},scopedSlots:e._u([{key:"selection",fn:function(){return[n("a",{attrs:{href:"javascript:void(0);"}},[e._v(" donate ")])]},proxy:!0},{key:"option",fn:function(t){var i=t.value;return[n("i",{staticClass:"-fill",class:"icon-"+i.icon}),n("span",{staticClass:"ml4"},[e._v(e._s(i.label))])]}}],null,!1,189534827)})],1)]):e._e()])])])])])},A=[],R=n("1da1"),j=(n("b0c0"),n("7db0"),n("99af"),n("96cf"),n("28f3")),P=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"settings-exchange",class:{"-active":e.active,"-enabled":!e.settings.disabled,"-invisible":e.settings.hidden,"-expanded":e.expanded}},[n("div",{staticClass:"settings-exchange__header"},[n("div",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"settings-exchange__identity",attrs:{title:"Toggle "+e.id},on:{click:e.toggleExchange}},[n("div",{staticClass:"settings-exchange__name"},[e._v(e._s(e.name))])]),n("div",{staticClass:"settings-exchange__controls"},[n("button",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"settings-exchange__visibility",attrs:{title:e.settings.hidden?"Show":"Hide"},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.$store.dispatch("exchanges/toggleExchangeVisibility",e.id)}}},[n("i",{staticClass:"icon-visible"})]),n("button",{staticClass:"settings-exchange__more",on:{click:function(t){t.stopPropagation(),t.preventDefault(),e.expanded=!e.expanded}}},[n("i",{staticClass:"icon-down"})])])]),e.expanded?n("div",{staticClass:"settings-exchange__detail"},[e.markets.length?n("div",{staticClass:"form-group"},[n("small",{staticClass:"mb4 d-block"},[e._v("Connections")]),n("div",e._l(e.markets,(function(t){return n("div",{key:t.identifier,staticClass:"d-flex"},[n("div",{staticClass:"-fill -center"},[e._v(e._s(t.pair))]),n("div",{staticClass:"-center"},[e._v(e._s(e.prices[t.identifier]))])])})),0)]):e._e(),n("div",{staticClass:"form-group mt8"},[n("small",{staticClass:"mb4 d-block"},[e._v("Products : "),n("strong",[e._v(e._s(e.indexedProducts.length))])]),e.canRefreshProducts?n("button",{staticClass:"btn -red -small",on:{click:e.refreshProducts}},[e._v("Refresh")]):e._e()])]):e._e()])},D=[],M=(n("ac1f"),n("5319"),n("4de4"),n("be31")),L=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(s["a"])(this,n),e=t.apply(this,arguments),e.canRefreshProducts=!0,e.expanded=!1,e.prices={},e}return Object(o["a"])(n,[{key:"mounted",value:function(){h["a"].on("prices",this.updateMarketsPrices)}},{key:"beforeDestroy",value:function(){h["a"].off("prices",this.updateMarketsPrices)}},{key:"updateMarketsPrices",value:function(e){this.prices=e}},{key:"name",get:function(){return this.id.replace(/[\W_]+/g," ")}},{key:"settings",get:function(){return this.$store.state.exchanges[this.id]}},{key:"markets",get:function(){var e=this;return this.$store.state.app.activeMarkets.filter((function(t){return t.exchange===e.id})).sort((function(t,n){return e.prices[t.id]-e.prices[n.id]}))}},{key:"active",get:function(){return this.markets.length}},{key:"indexedProducts",get:function(){return this.$store.state.app.indexedProducts[this.id]||[]}},{key:"refreshProducts",value:function(){var e=Object(R["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.canRefreshProducts=!1,e.next=3,M["a"].deleteProducts(this.id);case 3:return e.next=5,h["a"].dispatch({op:"fetch-products",data:this.id});case 5:return setTimeout((function(){t.canRefreshProducts=!0}),3e3),h["a"].dispatch({op:"products",data:{exchange:this.id,data:null}}),e.next=9,this.$store.dispatch("exchanges/disconnect",this.id);case 9:return e.next=11,this.$store.dispatch("exchanges/connect",this.id);case 11:this.$store.dispatch("app/showNotice",{type:"success",title:"".concat(this.indexedProducts.length," products refreshed")});case 12:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"toggleExchange",value:function(){var e=Object(R["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$store.dispatch("exchanges/toggleExchange",this.id);case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"formatAmount",value:function(e){return Object(j["h"])(e)}},{key:"formatPrice",value:function(e){return Object(j["j"])(e)}}]),n}(d["c"]);L=Object(u["a"])([Object(d["a"])({name:"Exchange",components:{Slider:O["a"]},props:["id"]})],L);var N=L,B=N,U=(n("15a7"),Object(b["a"])(B,P,D,!1,null,null,null)),$=U.exports,G=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Dialog",{on:{clickOutside:e.close},scopedSlots:e._u([{key:"header",fn:function(){return[n("div",{staticClass:"title"},[e._v("Import settings")])]},proxy:!0}])},[n("div",{staticClass:"form-group"},[n("label",[e._v("Name")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.workspace.name,expression:"workspace.name"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:e.workspace.name},on:{input:function(t){t.target.composing||e.$set(e.workspace,"name",t.target.value)}}})]),n("div",{staticClass:"d-flex flex-middle mt8"},[n("i",{staticClass:"icon-info mr16"}),n("div",{staticClass:"mr16"},[n("small",{staticClass:"text-muted"},[e._v("Created at")]),n("div",[e._v(e._s(e.createdAt)+" ago")])]),n("div",[n("small",{staticClass:"text-muted"},[e._v("Updated at")]),n("div",[e._v(e._s(e.updatedAt)+" ago")])])]),e.panes.length?n("div",{staticClass:"form-group mt16"},[n("label",[e._v("Panes")]),e._l(e.panes,(function(t){return n("div",{key:t.id,staticClass:"column flex-middle"},[n("i",{staticClass:"icon-pile mr8"}),n("strong",[e._v(e._s(t.type.toUpperCase()))]),n("small",{staticClass:"ml4"},[n("code",[e._v(e._s(t.id))])])])}))],2):e._e(),e.panes.length?n("div",{staticClass:"form-group mt16"},[n("label",[e._v("Markets")]),e._l(e.markets,(function(t,i){return n("button",{key:i,staticClass:"btn -green -small mr4 mb4",attrs:{type:"button",disabled:""}},[e._v(" "+e._s(t)+" ")])}))],2):e._e(),n("footer",[n("a",{staticClass:"btn -text",attrs:{href:"javascript:void(0);"},on:{click:function(t){return e.close(!1)}}},[e._v("Cancel")]),n("button",{staticClass:"btn -large",on:{click:function(t){return e.close(e.workspace)}}},[e._v("IMPORT & LOAD")])])])},q=[],H=n("7250"),F=n("1ea0"),W={props:{workspace:{required:!0,type:Object}},mixins:[F["a"]],computed:{createdAt:function(){return Object(j["a"])(this.workspace.createdAt)},updatedAt:function(){return Object(j["a"])(this.workspace.updatedAt)},panes:function(){var e=this;return this.workspace.states.panes&&this.workspace.states.panes.panes?Object.keys(this.workspace.states.panes.panes).map((function(t){return{id:t,name:e.workspace.states.panes.panes[t].name,type:e.workspace.states.panes.panes[t].type}})):[]},markets:function(){return this.workspace.states.panes&&this.workspace.states.panes.marketsListeners?Object.keys(this.workspace.states.panes.marketsListeners):[]}},components:{Dialog:H["a"]},data:function(){return{}},methods:{}},K=W,V=Object(b["a"])(K,G,q,!1,null,null,null),z=V.exports,X=n("0c01"),Y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"settings-audio",class:{active:e.useAudio}},[n("div",{staticClass:"-fill"},[n("div",{staticClass:"column"},[n("div",{staticClass:"form-group -tight"},[n("label",{directives:[{name:"tippy",rawName:"v-tippy",value:{placement:"bottom"},expression:"{ placement: 'bottom' }"}],staticClass:"checkbox-control checkbox-control-input flex-right",attrs:{title:"Enable audio"}},[n("input",{staticClass:"form-control",attrs:{type:"checkbox"},domProps:{checked:e.useAudio},on:{change:function(t){return e.$store.commit("settings/TOGGLE_AUDIO",t.target.checked)}}}),n("div")])]),n("div",{staticClass:"form-group -fill -center"},[n("slider",{attrs:{min:0,max:10,step:.1,editable:!1,value:e.audioVolume},on:{input:function(t){return e.$store.dispatch("settings/setAudioVolume",t)},reset:function(t){return e.$store.dispatch("settings/setAudioVolume",1)}}})],1)]),e.useAudio?n("div",{staticClass:"column mt8"},[n("div",{staticClass:"form-group"},[n("label",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"checkbox-control checkbox-control-input -auto",attrs:{title:"A compressor has the ability to reduce the difference in order for the quiet notes to be louder and the peak notes to be quieter"}},[n("input",{staticClass:"form-control",attrs:{type:"checkbox"},domProps:{checked:e.audioCompressor},on:{change:function(t){return e.$store.commit("settings/TOGGLE_AUDIO_COMPRESSOR",t.target.checked)}}}),n("div",{attrs:{on:"compressor",off:"compressor"}})])]),n("div",{staticClass:"form-group"},[n("label",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"checkbox-control checkbox-control-input -auto",attrs:{title:"High-Pass Filter passes frequencies above its cutoff frequency and attenuates frequencies below its cutoff frequency"}},[n("input",{staticClass:"form-control",attrs:{type:"checkbox"},domProps:{checked:e.audioFilter},on:{change:function(t){return e.$store.commit("settings/TOGGLE_AUDIO_FILTER",t.target.checked)}}}),n("div",{attrs:{on:"filter",off:"filter"}})])]),n("div",{staticClass:"form-group"},[n("label",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"checkbox-control checkbox-control-input -auto",attrs:{title:"A delay effect is similar to an echo, in that the sound is repeated one or more times after the original sound"}},[n("input",{staticClass:"form-control",attrs:{type:"checkbox"},domProps:{checked:e.audioDelay},on:{change:function(t){return e.$store.commit("settings/TOGGLE_AUDIO_DELAY",t.target.checked)}}}),n("div",{attrs:{on:"delay",off:"delay"}})])]),n("div",{staticClass:"form-group"},[n("label",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"checkbox-control checkbox-control-input -auto",attrs:{title:"Ping Pong Delay is a time-sensitive delay that pans the delay to the left and right speakers one after the other"}},[n("input",{staticClass:"form-control",attrs:{type:"checkbox"},domProps:{checked:e.audioPingPong},on:{change:function(t){return e.$store.commit("settings/TOGGLE_AUDIO_PING_PONG",t.target.checked)}}}),n("div",{attrs:{on:"pingpong",off:"pingpong"}})])])]):e._e()])])},Q=[],J=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(s["a"])(this,n),t.apply(this,arguments)}return Object(o["a"])(n,[{key:"useAudio",get:function(){return this.$store.state.settings.useAudio}},{key:"audioVolume",get:function(){return this.$store.state.settings.audioVolume}},{key:"audioCompressor",get:function(){return this.$store.state.settings.audioCompressor}},{key:"audioFilter",get:function(){return this.$store.state.settings.audioFilter}},{key:"audioPingPong",get:function(){return this.$store.state.settings.audioPingPong}},{key:"audioDelay",get:function(){return this.$store.state.settings.audioDelay}}]),n}(d["c"]);J=Object(u["a"])([Object(d["a"])({components:{Slider:O["a"]},name:"AudioSettings"})],J);var Z=J,ee=Z,te=(n("32b6"),Object(b["a"])(ee,Y,Q,!1,null,"29998549",null)),ne=te.exports,ie=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"form-group mb8"},[n("label",{staticClass:"checkbox-control"},[n("input",{staticClass:"form-control",attrs:{type:"checkbox"},domProps:{checked:!!e.decimalPrecision},on:{change:function(t){return e.$store.commit("settings/SET_DECIMAL_PRECISION",e.decimalPrecision?null:2)}}}),n("div"),n("span",{on:{click:function(e){return e.stopPropagation(),e.preventDefault(),e.currentTarget.children[0].focus()}}},[e._v(" Round up to "),n("editable",{attrs:{placeholder:"auto",content:e.decimalPrecision},on:{output:function(t){return e.$store.commit("settings/SET_DECIMAL_PRECISION",t)}}}),e._v(" decimal(s) ")],1)])]),n("div",{staticClass:"form-group mb8"},[n("label",{staticClass:"checkbox-control -animations"},[n("input",{staticClass:"form-control",attrs:{type:"checkbox"},domProps:{checked:e.disableAnimations},on:{change:function(t){return e.$store.commit("settings/TOGGLE_ANIMATIONS")}}}),n("div"),n("span",[e._v("Animation are "+e._s(e.disableAnimations?"disabled globally ðŸš€":"enabled âœ¨"))])])])])},re=[],ae=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(s["a"])(this,n),t.apply(this,arguments)}return Object(o["a"])(n,[{key:"decimalPrecision",get:function(){return this.$store.state.settings.decimalPrecision}},{key:"disableAnimations",get:function(){return this.$store.state.settings.disableAnimations}}]),n}(d["c"]);ae=Object(u["a"])([Object(d["a"])({name:"OtherSettings"})],ae);var se=ae,oe=se,ce=Object(b["a"])(oe,ie,re,!1,null,null,null),le=ce.exports,ue=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"dropdown"},[e.label?n("div",{staticClass:"dropdown__label",domProps:{innerHTML:e._s(e.label)},on:{click:e.toggle}}):e._e(),n("div",{staticClass:"dropdown__selected",on:{click:e.toggle}},[e._t("selection",[e._v(" "+e._s(e.alwaysShowPlaceholder&&e.options[e.selected]||e.placeholder||"Selection")+" ")],{item:e.options[e.selected],placeholder:e.placeholder})],2),n("transition",{attrs:{name:"scale"}},[e.isOpen?n("div",{ref:"options",staticClass:"dropdown__options"},[n("div",{staticClass:"dropdown__scroller hide-scrollbar"},e._l(e.options,(function(t,i){return n("div",{key:i,staticClass:"dropdown__option",class:{active:!e.alwaysShowPlaceholder&&i===e.selected},on:{click:function(t){return e.set(i,t)}}},[e._t("option",[e._v(" "+e._s(t)+" ")],{value:t,index:i})],2)})),0)]):e._e()])],1)},de=[],he=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(s["a"])(this,n),e=t.apply(this,arguments),e.isOpen=!1,e}return Object(o["a"])(n,[{key:"toggle",value:function(){this.isOpen?this.hide():this.show()}},{key:"show",value:function(){var e=this;this.isOpen=!0,this.$nextTick((function(){e.ajustPlacement()})),this.bindClickOutside(),this.$emit("open")}},{key:"hide",value:function(){this.isOpen=!1,this.unbindClickOutside(),this.$emit("close")}},{key:"bindClickOutside",value:function(){var e=this;this._clickOutsideHandler||(this._clickOutsideHandler=function(t){e.$el.contains(t.target)||e.hide()}.bind(this),document.addEventListener("mousedown",this._clickOutsideHandler))}},{key:"unbindClickOutside",value:function(){this._clickOutsideHandler&&(document.removeEventListener("mousedown",this._clickOutsideHandler),delete this._clickOutsideHandler)}},{key:"ajustPlacement",value:function(){if(this.$refs.options){var e=this.$refs.options,t=e.getBoundingClientRect();t.y+t.height>window.innerHeight&&e.classList.add("-upside-down")}}},{key:"set",value:function(e,t){this.options&&this.options[e]&&"function"===typeof this.options[e].click&&this.options[e].click(t,this.options[e]),t.defaultPrevented||(this.$emit("output",e),this.hide())}}]),n}(d["c"]);he=Object(u["a"])([Object(d["a"])({name:"Dropdown",props:{options:{required:!0},label:{required:!1},selected:{required:!1},placeholder:{required:!1},alwaysShowPlaceholder:{default:!0}}})],he);var pe=he,fe=pe,me=Object(b["a"])(fe,ue,de,!1,null,null,null),_e=me.exports,ve=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(s["a"])(this,n),e=t.apply(this,arguments),e.workspace=null,e.workspaces=[],e.donationMenu=[{label:"with Bitcoin",icon:"bitcoin",click:function(){return window.open("bitcoin:3PK1bBK8sG3zAjPBPD7g3PL14Ndux3zWEz")}},{label:"with Monero",icon:"xmr",click:function(){return window.open("monero:48NJj3RJDo33zMLaudQDdM8G6MfPrQbpeZU2YnRN2Ep6hbKyYRrS2ZSdiAKpkUXBcjD2pKiPqXtQmSZjZM7fC6YT6CMmoX6")}},{label:"with other coin",icon:"COINBASE",click:function(){return window.open("https://commerce.coinbase.com/checkout/c58bd003-5e47-4cfb-ae25-5292f0a0e1e8")}}],e.workspaceMenu=[{icon:"trash",label:"Remove",click:e.removeWorkspace},{icon:"edit",label:"Rename",click:e.renameWorkspace},{icon:"download",label:"Download",click:e.exportWorkspace},{icon:"copy-paste",label:"Duplicate",click:e.duplicateWorkspace}],e}return Object(o["a"])(n,[{key:"exchanges",get:function(){return this.$store.getters["exchanges/getExchanges"]}},{key:"version",get:function(){return this.$store.state.app.version}},{key:"buildDate",get:function(){return this.$store.state.app.buildDate}},{key:"settings",get:function(){return this.$store.state.settings.settings}},{key:"timezoneOffset",get:function(){return this.$store.state.settings.timezoneOffset}},{key:"backgroundColor",get:function(){return this.$store.state.settings.backgroundColor}},{key:"textColor",get:function(){return this.$store.state.settings.textColor}},{key:"aggregateTrades",get:function(){return this.$store.state.settings.aggregateTrades}},{key:"preferQuoteCurrencySize",get:function(){return this.$store.state.settings.preferQuoteCurrencySize}},{key:"calculateSlippage",get:function(){return this.$store.state.settings.calculateSlippage}},{key:"created",value:function(){var e=Object(R["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getWorkspaces();case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"mounted",value:function(){this.bindDrop()}},{key:"beforeDestroy",value:function(){this.unbindDrop()}},{key:"bindDrop",value:function(){document.body.addEventListener("drop",this.handleDrop),document.body.addEventListener("dragover",this.handleDrop)}},{key:"unbindDrop",value:function(){document.body.removeEventListener("drop",this.handleDrop),document.body.removeEventListener("dragover",this.handleDrop)}},{key:"handleDrop",value:function(e){var t=this;if(e.preventDefault(),"drop"!==e.type)return!1;var n=e.dataTransfer.files;if(n&&n.length){var i=new FileReader;i.onload=function(){var e=Object(R["a"])(regeneratorRuntime.mark((function e(n){var i,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(i=n.target,r=t.validateWorkspaceImport(i.result),r){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,M["a"].getWorkspace(r.id);case 6:if(e.t0=e.sent,!e.t0){e.next=11;break}return e.next=10,X["a"].confirm({message:"Workspace ".concat(r.id," already exists"),ok:"Import anyway",cancel:"Annuler"});case 10:e.t0=!e.sent;case 11:if(!e.t0){e.next=13;break}return e.abrupt("return");case 13:return e.next=15,X["a"].openAsPromise(z,{workspace:r});case 15:if(!e.sent){e.next=17;break}t.importWorkspace(r);case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),i.readAsText(n[0])}}},{key:"importWorkspace",value:function(){var e=Object(R["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.t0=M["a"],e.next=3,M["a"].importWorkspace(t);case 3:return e.t1=e.sent,e.next=6,e.t0.setCurrentWorkspace.call(e.t0,e.t1);case 6:this.getWorkspaces();case 7:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getWorkspaces",value:function(){var e=Object(R["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,M["a"].getWorkspaces();case 2:t=e.sent,this.workspaces=t,n=M["a"].workspace,this.workspace={name:n.name,id:n.id,updatedAt:Object(j["a"])(n.updatedAt),createdAt:Object(j["a"])(n.createdAt),states:null};case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"close",value:function(){this.$store.commit("app/TOGGLE_SETTINGS")}},{key:"validateWorkspaceImport",value:function(e){var t=null;try{t=JSON.parse(e)}catch(n){return void this.$store.dispatch("app/showNotice",{type:"error",title:"The workspace you provided couldn't be parsed<br>".concat(n.message)})}if(t.id)if(t.name){if(t.states&&0!==Object.keys(t.states).length)return t;this.$store.dispatch("app/showNotice",{type:"error",title:"The workspace you provided is empty"})}else this.$store.dispatch("app/showNotice",{type:"error",title:"The workspace you provided has no name"});else this.$store.dispatch("app/showNotice",{type:"error",title:"The workspace you provided has no ID"})}},{key:"loadWorkspace",value:function(){var e=Object(R["a"])(regeneratorRuntime.mark((function e(t){var n,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=this.workspaces[t].id,e.next=3,M["a"].getWorkspace(n);case 3:return i=e.sent,e.next=6,M["a"].setCurrentWorkspace(i);case 6:this.getWorkspaces();case 7:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"removeWorkspace",value:function(){var e=Object(R["a"])(regeneratorRuntime.mark((function e(t){var n,i,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("string"!==typeof t){e.next=6;break}return e.next=3,M["a"].getWorkspace(t);case 3:n=e.sent,e.next=7;break;case 6:n=this.workspace;case 7:return i=this.workspace&&this.workspace.id===n.id,e.next=10,X["a"].confirm("Delete workspace ".concat(n.name," ?"));case 10:if(e.sent){e.next=12;break}return e.abrupt("return");case 12:return e.next=14,M["a"].removeWorkspace(n.id);case 14:if(!i){e.next=22;break}if(r=this.workspaces.find((function(e){return e.id!==n.id})),r){e.next=20;break}return e.next=19,M["a"].createWorkspace();case 19:r=e.sent;case 20:return e.next=22,M["a"].setCurrentWorkspace(r);case 22:return e.abrupt("return",this.getWorkspaces());case 23:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"createWorkspace",value:function(){var e=Object(R["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,M["a"].createWorkspace();case 2:return t=e.sent,e.next=5,M["a"].setCurrentWorkspace(t);case 5:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"exportWorkspace",value:function(){var e=Object(R["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:M["a"].downloadWorkspace();case 1:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"duplicateWorkspace",value:function(){var e=Object(R["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:M["a"].duplicateWorkspace();case 1:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"renameWorkspace",value:function(){var e=Object(R["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,X["a"].prompt({action:"Rename",input:this.workspace.name});case 2:if(t=e.sent,!t){e.next=6;break}return e.next=6,M["a"].renameWorkspace(t);case 6:this.getWorkspaces();case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"reset",value:function(){var e=Object(R["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,X["a"].confirm({title:"Reset ?",message:"This will remove your <strong>".concat(this.workspaces.length," workspace").concat(this.workspaces.length>1?"s":"","</strong>.<br>All associated data will be lost forever.")});case 2:if(!e.sent){e.next=6;break}return e.next=5,M["a"].reset();case 5:window.location.reload();case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"ago",value:function(e){return Object(j["a"])(e)}}]),n}(d["c"]);ve=Object(u["a"])([Object(d["a"])({name:"Settings",components:{Exchange:$,AudioSettings:ne,OtherSettings:le,Dropdown:_e}})],ve);var be=ve,ge=be,ye=(n("0859"),Object(b["a"])(ge,S,A,!1,null,null,null)),ke=ye.exports,Ce=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("grid-layout",{ref:"grid",attrs:{layout:e.layout,"row-height":e.rowHeight,"col-num":24,margin:[0,0],"is-draggable":e.draggable,"is-resizable":e.resizable,"vertical-compact":!0,"use-css-transforms":!0,responsive:!1},on:{"layout-updated":e.onLayoutUpdated,"layout-ready":function(t){e.layoutReady=!0}}},e._l(e.layout,(function(t){return n("grid-item",{key:t.i,attrs:{type:t.type,"drag-allow-from":".pane-header",x:t.x,y:t.y,w:t.w,h:t.h,i:t.i},on:{"container-resized":e.onContainerResized,resized:e.onPaneResized}},[e.layoutReady&&e.$store.state[t.i]._booted?n(t.type,{ref:"panes",refInFor:!0,tag:"component",staticClass:"pane",attrs:{paneId:t.i}}):e._e()],1)})),1)},Oe=[],Ee=n("2fe1"),we=n("7be8"),Te=n.n(we),Ie=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"pane-chart"},[e.hovered?n("pane-header",{attrs:{loading:e.loading,paneId:e.paneId,showTimeframe:!0}},[n("dropdown",{attrs:{options:{render:{label:"Render",click:e.renderChart},reset:{label:"Reset",click:e.resetChart}}},scopedSlots:e._u([{key:"option",fn:function(t){var i=t.value;return[n("div",[e._v(" "+e._s(i.label)+" ")])]}},{key:"selection",fn:function(){return[n("span",[e._v("Debug")])]},proxy:!0}],null,!1,1443387683)})],1):e._e(),n("div",{ref:"chartContainer",staticClass:"chart__container"}),n("div",{staticClass:"chart__indicators"},[e._l(e.indicators,(function(t,i){return n("IndicatorControl",{key:i,attrs:{indicatorId:i,paneId:e.paneId}})})),n("div",{staticClass:"column mt8"},[n("a",{directives:[{name:"tippy",rawName:"v-tippy",value:{placement:"bottom"},expression:"{ placement: 'bottom' }"}],staticClass:"mr4 -text",attrs:{href:"javascript:void(0);",title:"Add"},on:{click:e.addIndicator}},[n("i",{staticClass:"icon-plus"})])])],2),n("div",{staticClass:"chart__controls"},[n("button",{staticClass:"chart__screenshot btn -text",on:{click:e.takeScreenshot}},[n("i",{staticClass:"icon-add-photo"})])]),e.resizingIndicator?n("IndicatorResize",{attrs:{indicatorId:e.resizingIndicator,paneId:e.paneId}}):e._e()],1)},xe=[],Se=n("ade3"),Ae=(n("d3b7"),n("498a"),n("1276"),n("159b"),n("07ac"),n("2909")),Re=n("b85c"),je=n("3835"),Pe=(n("fb6a"),n("13d5"),n("a434"),new Date,/aggr.trade$/.test(window.location.hostname),1e3),De=100,Me=n("5a23"),Le=n("0613"),Ne=n("68e0"),Be=n("8192"),Ue=function(){function e(){Object(s["a"])(this,e),this.chunks=[],this.cacheRange={from:null,to:null}}return Object(o["a"])(e,[{key:"saveChunk",value:function(e){var t;if(!this.chunks.length||this.chunks[this.chunks.length-1].to<e.from)t=this.chunks.push(e)-1;else{if(!(this.chunks[0].from>e.to))return;this.chunks.unshift(e),t=0}return 0===t&&(this.cacheRange.from,this.cacheRange.from=e.from),t===this.chunks.length-1&&(this.cacheRange.to,this.cacheRange.to=e.to),e}},{key:"clear",value:function(){this.chunks.splice(0,this.chunks.length),this.cacheRange.from=this.cacheRange.to=null}},{key:"trim",value:function(){if(this.chunks.length>De){this.chunks[0].from;this.chunks.splice(0,this.chunks.length-De),this.cacheRange.from=this.chunks[0].from}}}]),e}(),$e=n("3642"),Ge=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Dialog",{staticClass:"serie-dialog -medium",attrs:{mask:!e.resizing},on:{clickOutside:e.close},scopedSlots:e._u([{key:"header",fn:function(){return[n("div",{staticClass:"title"},[n("div",{on:{dblclick:e.renameIndicator}},[e._v(e._s(e.name))]),e.description?n("div",{staticClass:"subtitle pl0",domProps:{textContent:e._s(e.description)},on:{dblclick:e.editDescription}}):n("code",{staticClass:"subtitle -filled",domProps:{textContent:e._s(e.indicatorId)},on:{dblclick:e.editDescription}})]),n("div",{staticClass:"column -center"})]},proxy:!0}])},[n("div",{staticClass:"d-flex mb16"},[e.unsavedChanges?n("button",{staticClass:"btn -text",attrs:{href:"javascript:void(0)"},on:{click:function(t){return e.$store.dispatch(e.paneId+"/saveIndicator",e.indicatorId)}}},[n("i",{staticClass:"icon-info mr4"}),e._v(" unsaved changes ")]):e._e(),n("button",{staticClass:"btn -text -white mlauto",on:{click:e.showHelp}},[e._v("doc "),n("i",{staticClass:"icon-external-link-square-alt ml4"})])]),n("div",{staticClass:"form-group mb16 mt16"},[n("div",{staticClass:"d-flex mb4"},[n("label",{staticClass:"mrauto -center",attrs:{for:""}},[e._v(" Input ")])]),n("textarea",{ref:"behaveInput",staticClass:"form-control",attrs:{rows:"10",spellcheck:"false"},domProps:{value:e.script},on:{blur:function(t){return e.updateScript(t.target.value)}}}),e.error?n("p",{staticClass:"form-feedback"},[n("i",{staticClass:"icon-warning mr4"}),e._v(" "+e._s(e.error))]):e._e()]),n("hr"),n("div",{staticClass:"column w-100"},[e.colorOptions.length?n("div",e._l(e.colorOptions,(function(t,i){return n("div",{key:i,staticClass:"column form-group -fill mr16 mb8"},[!1!==t.label?n("label",{staticClass:"-center  -nowrap mr16"},[e._v(e._s(t.label))]):e._e(),n("verte",{staticClass:"flex-grow-1",attrs:{picker:"square",menuPosition:"left",label:t.label,model:"rgb",value:e.currentValues[t.key]},on:{input:function(n){e.currentValues[t.key]!==n&&e.validate(t,n)}}})],1)})),0):e._e(),e.otherOptions.length?n("div",{staticClass:" -fill"},e._l(e.otherOptions,(function(t){return n("div",{key:t.key,staticClass:"form-group mb16"},[!1!==t.label?n("label",[e._v(" "+e._s(t.label)+" "),e.helps[t.key]?n("i",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"icon-info",attrs:{title:e.helps[t.key]}}):e._e()]):e._e(),"lineType"===t.key?n("dropdown",{staticClass:"form-control -left -center",attrs:{selected:e.currentValues[t.key],options:{0:"Simple",1:"with steps"},placeholder:"lineType"},on:{output:function(n){return e.validate(t,n)}}}):/linestyle$/i.test(t.key)?n("dropdown",{staticClass:"form-control -left -center",attrs:{selected:e.currentValues[t.key],options:{0:"Solid",1:"Dotted",2:"Dashed",3:"LargeDashed",4:"SparseDotted"},placeholder:"lineStyle"},on:{output:function(n){return e.validate(t,n)}}}):"string"===t.type||"number"===t.type?[n("editable",{staticClass:"form-control",attrs:{content:e.currentValues[t.key]},on:{output:function(n){return e.validate(t,n)}}})]:"boolean"===t.type?[n("label",{staticClass:"checkbox-control"},[n("input",{staticClass:"form-control",attrs:{type:"checkbox"},domProps:{checked:e.currentValues[t.key]},on:{change:function(n){return e.validate(t,n.target.checked)}}}),n("div")])]:e._e()],2)})),0):e._e()]),e.positionOption?n("section",{staticClass:"section"},[e.sections.indexOf("position")>-1?n("div",[n("div",{staticClass:"column"},[n("div",{staticClass:"form-group mb16"},[n("label",[e._v("top "),n("i",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"icon-info",attrs:{title:e.helps["scaleMargins.top"]}})]),n("editable",{staticClass:"form-control",attrs:{content:e.positionOption.value.top,step:.01},on:{output:function(t){return e.updateScale("top",t)}}})],1),n("div",{staticClass:"form-group"},[n("label",[e._v("bottom "),n("i",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"icon-info",attrs:{title:e.helps["scaleMargins.bottom"]}})]),n("editable",{staticClass:"form-control",attrs:{content:e.positionOption.value.bottom,step:.01},on:{output:function(t){return e.updateScale("bottom",t)}}})],1)]),n("button",{staticClass:"btn -green",on:{click:function(t){return e.$store.dispatch(e.paneId+"/resizeIndicator",e.indicatorId)}}},[n("i",{staticClass:"icon-resize-height mr4"}),e._v(" Resize on chart ")])]):e._e(),n("div",{staticClass:"section__title",on:{click:function(t){return e.toggleSection("position")}}},[e._v("Position in chart "),n("i",{staticClass:"icon-up"})])]):e._e(),e.formatOption?n("section",{staticClass:"section"},[e.sections.indexOf("format")>-1?n("div",[n("div",{staticClass:"form-group mb16"},[n("label",[e._v("price format")]),n("dropdown",{staticClass:"form-control -left -center",attrs:{selected:e.formatOption.value.type,options:{price:"Price",volume:"Volume",percent:"Percent"},placeholder:"lineType"},on:{output:function(t){return e.validate(e.formatOption,Object.assign({},e.formatOption.value,{type:t}))}}})],1),n("div",[n("div",{staticClass:"form-group mb16"},[n("label",[e._v("precision")]),n("editable",{staticClass:"form-control",attrs:{content:e.formatOption.value.precision},on:{output:function(t){return e.validate(e.formatOption,Object.assign({},e.formatOption.value,{precision:+t||1}))}}})],1),n("div",{staticClass:"form-group"},[n("label",[e._v("minMove")]),n("editable",{staticClass:"form-control",attrs:{content:e.formatOption.value.minMove,step:"0.01"},on:{output:function(t){e.validate(e.formatOption,Object.assign({},e.formatOption.value,{minMove:(t||.1).toString()}))}}})],1)])]):e._e(),n("div",{staticClass:"section__title",on:{click:function(t){return e.toggleSection("format")}}},[e._v("Price format "),n("i",{staticClass:"icon-up"})])]):e._e(),n("hr"),n("div",{staticClass:"form-group column"},[n("button",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"btn -blue mr16 mlauto",attrs:{title:"Duplicate"},on:{click:e.duplicateIndicator}},[n("i",{staticClass:"icon-copy-paste"})]),n("button",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"btn -red",attrs:{title:"Unload indicator"},on:{click:e.removeIndicator}},[n("i",{staticClass:"icon-cross"})])])])},qe=[],He=n("53ca"),Fe=n("5530"),We=(n("a4d3"),n("e01a"),n("466d"),n("5688")),Ke=n.n(We),Ve=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Dialog",{staticClass:"serie-dialog",attrs:{mask:!1,startPosition:{x:.33}},on:{clickOutside:e.close},scopedSlots:e._u([{key:"header",fn:function(){return[n("div",{staticClass:"title"},[e._v(" Documentation "),n("div",{staticClass:"subtitle"},[e._v("Indicators")])])]},proxy:!0}])},[n("section",{staticClass:"section"},[e.sections.indexOf("formula")>-1?n("div",{staticClass:"help-block"},[n("strong",[e._v("Writing script")]),n("br"),n("p",[e._v(" Use variables such as "),n("code",{directives:[{name:"tippy",rawName:"v-tippy"}],attrs:{title:"Current bar object"}},[e._v("bar")]),e._v(", "),n("code",{directives:[{name:"tippy",rawName:"v-tippy"}],attrs:{title:"Buy volume"}},[e._v("vbuy")]),e._v(", "),n("code",{directives:[{name:"tippy",rawName:"v-tippy"}],attrs:{title:"Sell volume"}},[e._v("vsell")]),e._v(", "),n("code",{directives:[{name:"tippy",rawName:"v-tippy"}],attrs:{title:"Buy liquidation (liquidated short)"}},[e._v("lbuy")]),e._v(", "),n("code",{directives:[{name:"tippy",rawName:"v-tippy"}],attrs:{title:"Sell liquidation (liquidated long)"}},[e._v("lsell")]),e._v(", "),n("code",{directives:[{name:"tippy",rawName:"v-tippy"}],attrs:{title:"Number of buy"}},[e._v("cbuy")]),e._v(", "),n("code",{directives:[{name:"tippy",rawName:"v-tippy"}],attrs:{title:"Number of sell"}},[e._v("csell")]),e._v(", "),n("code",{directives:[{name:"tippy",rawName:"v-tippy"}],attrs:{title:"Open price"}},[e._v("open")]),e._v(", "),n("code",{directives:[{name:"tippy",rawName:"v-tippy"}],attrs:{title:"High price"}},[e._v("high")]),e._v(", "),n("code",{directives:[{name:"tippy",rawName:"v-tippy"}],attrs:{title:"Low price"}},[e._v("low")]),e._v(" and "),n("code",{directives:[{name:"tippy",rawName:"v-tippy"}],attrs:{title:"Close price"}},[e._v("close")]),e._v(". ")]),n("p",[e._v(" Pass the variables to "),n("a",{attrs:{href:"https://github.com/Tucsky/aggr/blob/master/src/components/chart/serieUtils.ts",target:"_blank"}},[e._v("built-in functions")]),e._v(" such as "),n("code",[e._v("sma")]),e._v(", "),n("code",[e._v("ema")]),e._v(" or "),n("code",[e._v("ohlc")]),e._v(". ")]),n("p",[e._v(" Examples"),n("br"),n("code",{directives:[{name:"tippy",rawName:"v-tippy"}],attrs:{title:"Output moving average of the input number"}},[e._v("plotline(sma(BITMEX:XBTUSD.close, 50))")]),n("br"),n("code",{directives:[{name:"tippy",rawName:"v-tippy"}],attrs:{title:"Output exponential moving average of the input number"}},[e._v("plotline(ema(BITMEX:XBTUSD.close, 50))")]),n("br"),n("code",{directives:[{name:"tippy",rawName:"v-tippy"}],attrs:{title:"Average all sources in bar"}},[e._v("plotline(avg_close(bar))")]),n("br")])]):e._e(),n("div",{staticClass:"section__title",on:{click:function(t){return e.toggleSection("formula")}}},[e._v("Scripting "),n("i",{staticClass:"icon-up"})])]),n("section",{staticClass:"section"},[e.sections.indexOf("rendering")>-1?n("div",{staticClass:"help-block"},[n("strong",[e._v("Render data")]),n("br"),n("p",[e._v(" Use plot functions to render the data defined above. As of only 6 plot types are availables. This is due to the limitation of the underlying charting library used here (Lightweight Charts from TradingView)."),n("br")]),n("ul",[n("li",[n("code",[e._v("plotline")]),e._v(" Render line chart")]),n("li",[n("code",[e._v("plothistogram")]),e._v(" Render histogram")]),n("li",[n("code",[e._v("plotcandlestick")]),e._v(" Render candlestick chart")]),n("li",[n("code",[e._v("plotbar")]),e._v(" Bar chart")]),n("li",[n("code",[e._v("plotarea")]),e._v(" Area chart")]),n("li",[n("code",[e._v("plotcloudarea")]),e._v(" Channel area")])]),n("p",[e._v(" Examples"),n("br"),n("code",[e._v("plotcandlestick(avg_ohlc(bar))")]),n("br"),n("code",[e._v("plotline(cum(vbuy - vsell), color=yellow, lineWidth=2)")])]),n("p",[e._v("Use any plot function you want in a single indicator.")])]):e._e(),n("div",{staticClass:"section__title",on:{click:function(t){return e.toggleSection("rendering")}}},[e._v("Rendering "),n("i",{staticClass:"icon-up"})])]),n("section",{staticClass:"section"},[e.sections.indexOf("options")>-1?n("div",{staticClass:"help-block"},[n("strong",[e._v("Options")]),n("br"),n("p",[e._v(" You can access serie options with options."),n("code",[e._v("nameOfOption")]),e._v(". ")]),n("p",[e._v(" Example"),n("br"),n("code",{directives:[{name:"tippy",rawName:"v-tippy"}],attrs:{title:"Output simple moving average of the input number using length defined in option 'myCustomOption'"}},[e._v(" sma(avg_close(bar),options.myCustomOption) ")])]),n("p",[e._v(' This will create a new option below called "myCustomOption", just fill with a valid number for the serie to compile properly. ')])]):e._e(),n("div",{staticClass:"section__title",on:{click:function(t){return e.toggleSection("options")}}},[e._v("Options "),n("i",{staticClass:"icon-up"})])]),n("section",{staticClass:"section"},[e.sections.indexOf("sources")>-1?n("div",{staticClass:"help-block"},[n("strong",[e._v("Querying sources")]),n("br"),n("p",[e._v(" Using source bar object "),n("code",{directives:[{name:"tippy",rawName:"v-tippy"}],attrs:{title:"Reference an active market (active = connected to app, connected to pane, not hidden or anyting)"}},[e._v("BINANCE:btcusdt")]),e._v(" or any property of the source "),n("code",{directives:[{name:"tippy",rawName:"v-tippy"}],attrs:{title:"A market is just a bar object, which contain all the basic property described in the scripting section"}},[e._v("BINANCE:btcusdt.vbuy")]),e._v(", "),n("code",{directives:[{name:"tippy",rawName:"v-tippy"}],attrs:{title:"A market is just a bar object, which contain all the basic property described in the scripting section"}},[e._v("BINANCE:btcusdt.high")]),n("br"),n("br"),e._v(" Or by combining sources "),n("code",[e._v("avg_ohlc({sources:{BYBITBTCUSD:BYBIT:BTCUSD,BITMEXXBTUSD:BITMEX:XBTUSD}})")])]),n("p",[e._v(" Example"),n("br"),n("code",[e._v("plotline(BITFINEX:BTCUSD.close, color=#8bc34a)")]),n("br"),n("code",[e._v("plotline(BINANCE:btcusdt.close, color=#8bc34a)")]),n("br"),n("code",[e._v("plotline(OKEX:BTC-USDT.close, color=#8bc34a)")]),n("br"),n("code",[e._v("plotline(KRAKEN:XBT/USD.close, color=#8bc34a)")]),n("br"),n("code",[e._v("plotline(COINBASE:BTC-USD.close, color=#8bc34a)")]),n("br"),n("code",[e._v("plotline(POLONIEX:USDT_BTC.close, color=#8bc34a)")]),n("br"),n("code",[e._v("plotline(HUOBI:btcusdt.close, color=#8bc34a)")]),n("br"),n("code",[e._v("plotline(BITSTAMP:btcusd.close, color=#8bc34a)")]),n("br"),n("code",[e._v("plotline(BITMEX:XBTUSD.close, color=#ba68c8)")]),n("br"),n("code",[e._v("plotline(BITFINEX:BTCF0:USTF0.close, color=#ba68c8)")]),n("br"),n("code",[e._v("plotline(OKEX:BTC-USD-SWAP.close, color=#ba68c8)")]),n("br"),n("code",[e._v("plotline(BINANCE_FUTURES:btcusdt.close, color=#ba68c8)")]),n("br"),n("code",[e._v("plotline(BINANCE_FUTURES:btcusd_perp.close, color=#ba68c8)")]),n("br"),n("code",[e._v("plotline(HUOBI:BTC-USD.close, color=#ba68c8)")]),n("br"),n("code",[e._v("plotline(KRAKEN:PI_XBTUSD.close, color=#ba68c8)")]),n("br"),n("code",[e._v("plotline(DERIBIT:BTC-PERPETUAL.close, color=#ba68c8)")]),n("br"),n("code",[e._v("plotline(FTX:BTC-PERP.close, color=#ba68c8)")]),n("br"),n("code",[e._v("plotline(BYBIT:BTCUSD.close, color=#ba68c8)")])])]):e._e(),n("div",{staticClass:"section__title",on:{click:function(t){return e.toggleSection("sources")}}},[e._v("Sources "),n("i",{staticClass:"icon-up"})])]),n("section",{staticClass:"section"},[e.sections.indexOf("series")>-1?n("div",{staticClass:"help-block"},[n("strong",[e._v("Reference other serie")]),n("br"),n("p",[e._v("Make use of ID of the other serie in this code block to reference it's value.")]),n("strong",[e._v("If you care about performance, this is the way.")]),n("p",[e._v(" Given the serie with id "),n("code",[e._v("price")]),e._v(" that shows an ohlc, use "),n("code",{directives:[{name:"tippy",rawName:"v-tippy"}],attrs:{title:"Output a 50 simple moving average taking close property of another serie"}},[e._v("sma($price.close, 50)")]),e._v(" in a any new serie to show the 50 simple moving average of that. Note that a script itself can only output 1 serie on the chart (one line, one ohlc serie etc). ")])]):e._e(),n("div",{staticClass:"section__title",on:{click:function(t){return e.toggleSection("series")}}},[e._v("Series "),n("i",{staticClass:"icon-up"})])])])},ze=[],Xe={mixins:[F["a"]],data:function(){return{sections:[]}},methods:{toggleSection:function(e){var t=this.sections.indexOf(e);-1===t?this.sections.push(e):this.sections.splice(t,1)}}},Ye=Xe,Qe=Object(b["a"])(Ye,Ve,ze,!1,null,null,null),Je=Qe.exports,Ze=n("da81"),et=n.n(Ze),tt=["crosshairMarkerVisible","minLength","visible"],nt={props:["paneId","indicatorId"],mixins:[F["a"]],data:function(){return{types:[],sections:[],editor:null,currentValues:{},otherOptionsKeys:[],colorOptionsKeys:[],colorOptions:[],otherOptions:[],helps:{priceScaleId:"Use <u>right</u> for binding indicator to main price scale. Otherwise use it as an id to align multiple indicator on same scale (as overlay)",lastValueVisible:"Show last value on right axis",priceLineVisible:"Show horizontal line at current value",borderVisible:"Only for candlestick series, enable borders of candles",lineWidth:"Only for line and area series",lineStyle:"Only for line and area series",lineType:"Only for line and area series","scaleMargins.top":"Top margin (0 = stick at top)","scaleMargins.bottom":"Bottom margin (0 = stick to bottom)"}}},computed:{indicatorSettings:function(){return Le["b"].state[this.paneId].indicators[this.indicatorId]},displayName:function(){return this.indicatorSettings.displayName},description:function(){return this.indicatorSettings.description},unsavedChanges:function(){return this.indicatorSettings.unsavedChanges},error:function(){return Le["b"].state[this.paneId].indicatorsErrors[this.indicatorId]},name:function(){return this.indicatorSettings.displayName||this.indicatorSettings.name},script:function(){return this.indicatorSettings.script},positionOption:function(){return{key:"scaleMargins",label:"scaleMargins",value:this.getValue("scaleMargins"),type:"position"}},formatOption:function(){return{key:"priceFormat",label:"priceFormat",value:this.getValue("priceFormat"),type:"position"}},resizing:function(){return Le["b"].state[this.paneId].resizingIndicator===this.indicatorId}},created:function(){var e=this;this.$nextTick((function(){e.refreshPlotTypes(),e.refreshOptions()}))},mounted:function(){this.$nextTick((function(){this.createScriptEditor()}))},beforeDestroy:function(){this.editor&&this.editor.destroy()},methods:{getOptionType:function(e,t){var n="string";try{e=JSON.parse(e)}catch(i){}return"type"===t?n="type":"number"===typeof e?n="number":"boolean"===typeof e?n="boolean":/^rgba?/.test(e)||/^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/.test(e)?n="color":"scaleMargins"===t&&(n="position"),n},validate:function(e,t){var n="string"===typeof e?e:e.key;Le["b"].dispatch(this.paneId+"/setIndicatorOption",{id:this.indicatorId,key:n,value:t}),this.currentValues=Object(Fe["a"])(Object(Fe["a"])({},this.currentValues),{},Object(Se["a"])({},n,t))},getDefaultValue:function(e){var t,n,i=Object(Re["a"])(this.types);try{for(i.s();!(n=i.n()).done;){var r=n.value;if("undefined"!==typeof Me["b"][r][e])return Me["b"][r][e]}}catch(a){i.e(a)}finally{i.f()}return"undefined"===typeof t&&"undefined"!==typeof Me["c"][e]?Me["c"][e]:"undefined"===typeof t&&/length$/i.test(e)?14:"undefined"===typeof t&&/color$/i.test(e)?"#c3a87a":"undefined"===typeof t&&/width$/i.test(e)?1:"undefined"===typeof t&&"scaleMargins"===e?{top:.1,bottom:.2}:t},getValue:function(e){if(!this.indicatorSettings)return null;var t;"undefined"!==typeof this.indicatorSettings.options[e]&&(t=this.indicatorSettings.options[e]);var n=this.getDefaultValue(e),i="";return"undefined"!==typeof t?i=t&&"object"===Object(He["a"])(t)&&n&&"object"===Object(He["a"])(n)?Object.assign({},n,t):t:"undefined"!==typeof n&&(i=n),this.currentValues[e]=i,this.currentValues[e]},updateScript:function(e){this.refreshPlotTypes(),this.refreshOptions(e),this.$store.commit(this.paneId+"/SET_INDICATOR_SCRIPT",{id:this.indicatorId,value:e})},updateScale:function(e,t){var n=this.positionOption,i={top:n.value.top,bottom:n.value.bottom};i[e]=+t||0,i.top+i.bottom>1&&(i[e]=1-i["top"===e?"bottom":"top"]),this.validate(n,i)},getScriptOptions:function(e){var t,n=[],i=/options\.([a-zA-Z0-9_]+)/g;do{(t=i.exec(e))&&n.push(t[1])}while(t);return n},removeOption:function(e){this.$store.commit(this.paneId+"/REMOVE_INDICATOR_OPTION",{id:this.indicatorId,key:e});for(var t=0,n=[this.colorOptions,this.otherOptions];t<n.length;t++){var i=n[t],r=i.find((function(t){return t.key===e}));if(r){i.splice(i.indexOf(r),1);break}}},refreshPlotTypes:function(){this.types=(this.script.match(/plot(\w+)/g)||[]).map((function(e){return e.replace(/^plot/,"")})).map((function(e){return Me["g"][e]||e})).filter((function(e,t,n){return n.indexOf(e)===t&&Me["b"][e]}))},refreshOptions:function(e){for(var t=Object.keys(this.indicatorSettings.options),n=this.getScriptOptions(e||this.script),i=Object.keys(Me["c"]),r=this.types.length-1;r>=0;r--)for(var a in Me["b"][this.types[r]])i.push(a);var s,o=[].concat(Object(Ae["a"])(t),Object(Ae["a"])(n),Object(Ae["a"])(i)).filter((function(e,t,n){return-1===tt.indexOf(e)&&n.indexOf(e)==t})),c=o.filter((function(e){return/color/i.test(e)})),l=o.filter((function(e){return!/color/i.test(e)})),u=Object(Re["a"])(c);try{for(u.s();!(s=u.n()).done;){var d=s.value;if(-1===this.colorOptionsKeys.indexOf(d)){var h=this.getValue(d);if(h&&"object"===Object(He["a"])(h))continue;this.colorOptions.push({key:d,label:d,type:this.getOptionType(h,d)}),-1!==n.indexOf(d)&&-1===t.indexOf(d)&&this.validate(this.colorOptions[this.colorOptions.length-1],h)}}}catch(g){u.e(g)}finally{u.f()}var p,f=Object(Re["a"])(l);try{for(f.s();!(p=f.n()).done;){var m=p.value;if(-1===this.otherOptionsKeys.indexOf(m)){var _=this.getValue(m);if(_&&"object"===Object(He["a"])(_))continue;this.otherOptions.push({key:m,label:m,type:this.getOptionType(_,m)}),-1!==n.indexOf(m)&&-1===t.indexOf(m)&&this.validate(this.otherOptions[this.otherOptions.length-1],_)}}}catch(g){f.e(g)}finally{f.f()}this.colorOptionsKeys=c,this.otherOptionsKeys=l;for(var v=0;v<this.otherOptions.length;v++)-1===this.otherOptionsKeys.indexOf(this.otherOptions[v].key)&&(this.otherOptions.splice(this.otherOptions.indexOf(this.otherOptions[v]),1),v--);for(var b=0;b<this.colorOptions.length;b++)-1===this.colorOptionsKeys.indexOf(this.colorOptions[b].key)&&(this.colorOptions.splice(this.colorOptions.indexOf(this.colorOptions[b]),1),b--)},removeIndicator:function(){var e=this;return Object(R["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.close();case 2:Le["b"].dispatch(e.paneId+"/removeIndicator",{id:e.indicatorId});case 3:case"end":return t.stop()}}),t)})))()},renameIndicator:function(){var e=this;return Object(R["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,X["a"].prompt({action:"Rename",input:e.indicatorSettings.name});case 2:if(n=t.sent,!n||n===e.name){t.next=8;break}return t.next=6,e.close();case 6:return t.next=8,Le["b"].dispatch(e.paneId+"/renameIndicator",{id:e.indicatorId,name:n});case 8:case"end":return t.stop()}}),t)})))()},editDescription:function(){var e=this;return Object(R["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,X["a"].prompt({action:"Description",input:e.description});case 2:if(n=t.sent,n===e.description){t.next=6;break}return t.next=6,Le["b"].commit(e.paneId+"/UPDATE_DESCRIPTION",{id:e.indicatorId,description:n});case 6:case"end":return t.stop()}}),t)})))()},duplicateIndicator:function(){var e=this;return Object(R["a"])(regeneratorRuntime.mark((function t(){var n,i,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=et()({},e.indicatorSettings),n.id+="-copy",n.name+=" copy",delete n.updatedAt,delete n.createdAt,t.next=7,M["a"].saveIndicator(n);case 7:return i=t.sent,t.next=10,M["a"].getIndicator(i);case 10:return r=t.sent,e.$store.dispatch(e.paneId+"/addIndicator",r),t.next=14,e.close();case 14:X["a"].open(at,{paneId:e.paneId,indicatorId:i},"serie");case 15:case"end":return t.stop()}}),t)})))()},toggleSection:function(e){var t=this.sections.indexOf(e);-1===t?this.sections.push(e):this.sections.splice(t,1)},showHelp:function(){X["a"].open(Je)},createScriptEditor:function(){var e=this;setTimeout((function(){e.editor=new Ke.a({textarea:e.$refs.behaveInput,replaceTab:!0,softTabs:!0,tabSize:2,autoOpen:!0,overwrite:!0,autoStrip:!0,autoIndent:!0,fence:!1})}))}}},it=nt,rt=Object(b["a"])(it,Ge,qe,!1,null,null,null),at=rt.exports,st=function(){function e(t){Object(s["a"])(this,e),this.loadedIndicators=[],this.renderedRange={from:null,to:null},this.timezoneOffset=0,this.queuedTrades=[],this.seriesIndicatorsMap={},this.paneId=t,this.chartCache=new Ue,this.serieBuilder=new $e["a"],this.setMarkets(Le["b"].state.panes.panes[this.paneId].markets),this.setTimezoneOffset(Le["b"].state.settings.timezoneOffset)}return Object(o["a"])(e,[{key:"setMarkets",value:function(e){var t=e.filter((function(e){var t=Object(j["p"])(e),n=Object(je["a"])(t,1),i=n[0];return!Le["b"].state.exchanges[i]||!Le["b"].state.exchanges[i].disabled}));this.watermark=t.slice(0,3).join(" + ")+(e.length-3>0?" + "+(e.length-3)+" others":""),this.markets=e.reduce((function(e,t){return e[t.replace(":","")]=!0,e}),{}),this.updateWatermark()}},{key:"setTimezoneOffset",value:function(e){var t=this.timezoneOffset;this.timezoneOffset=e/1e3;var n=this.timezoneOffset-t;this.activeRenderer&&(this.activeRenderer.localTimestamp+=n)}},{key:"createChart",value:function(e){var t=Object(Me["e"])(Me["a"]);Le["b"].state[this.paneId].showVerticalGridlines&&(t.grid.vertLines.visible=Le["b"].state[this.paneId].showVerticalGridlines,t.grid.vertLines.color=Le["b"].state[this.paneId].verticalGridlinesColor),Le["b"].state[this.paneId].showHorizontalGridlines&&(t.grid.horzLines.visible=Le["b"].state[this.paneId].showHorizontalGridlines,t.grid.horzLines.color=Le["b"].state[this.paneId].horizontalGridlinesColor),Le["b"].state[this.paneId].showWatermark&&(t.watermark.visible=Le["b"].state[this.paneId].showWatermark,t.watermark.color=Le["b"].state[this.paneId].watermarkColor),this.chartInstance=Be["b"](e,t),this.chartElement=e,this.addEnabledSeries(),this.updateWatermark()}},{key:"removeChart",value:function(){if(this.chartInstance){while(this.loadedIndicators.length)this.removeIndicator(this.loadedIndicators[0]);this.chartInstance.remove(),this.chartInstance=null}}},{key:"getLoadedIndicator",value:function(e){for(var t=0;t<this.loadedIndicators.length;t++)if(this.loadedIndicators[t].id===e)return this.loadedIndicators[t]}},{key:"setIndicatorOption",value:function(e,t,n){var i=this.getLoadedIndicator(e);if(i){var r=t;if(-1!==t.indexOf(".")){var a=t.split(".");Object(j["e"])(i.options,a,n),r=a[0]}else i.options[r]=n;for(var s=0;s<i.apis.length;s++){var o=i.options[r];this.activeRenderer&&"undefined"!==typeof this.activeRenderer.indicators[e].plotsOptions[s][t]&&(o=this.activeRenderer.indicators[e].plotsOptions[s][t]),i.apis[s].applyOptions(Object(Se["a"])({},r,o))}this.optionRequiresRedraw(r)&&this.redrawIndicator(e)}}},{key:"optionRequiresRedraw",value:function(e){var t=/upColor|downColor|wickDownColor|wickUpColor|borderDownColor|borderUpColor/i;if(t.test(e))return!0;var n=/color|priceFormat|scaleMargins|linetype|width|style|visible/i;return!n.test(e)}},{key:"rebuildIndicator",value:function(e){this.removeIndicator(this.getLoadedIndicator(e)),this.addIndicator(e)&&this.redrawIndicator(e)}},{key:"getReferencedIndicators",value:function(e){return e.model.references.slice().map((function(e){return e.indicatorId})).filter((function(e,t,n){return n.indexOf(e)===t}))}},{key:"redrawIndicator",value:function(e){var t,n=[],i=Object(Re["a"])(this.chartCache.chunks);try{for(i.s();!(t=i.n()).done;){var r=t.value;n=n.concat(r.bars)}}catch(s){i.e(s)}finally{i.f()}var a=this.getReferencedIndicators(this.getLoadedIndicator(e));this.renderBars(n,[].concat(Object(Ae["a"])(a),[e]))}},{key:"getVisibleRange",value:function(){var e=this.chartInstance.timeScale().getVisibleRange();return e?(e.from-=this.timezoneOffset,e.to-=this.timezoneOffset,e):e}},{key:"addEnabledSeries",value:function(){for(var e in Le["b"].state[this.paneId].indicators)this.addIndicator(e)}},{key:"updateWatermark",value:function(){this.chartInstance&&this.chartInstance.applyOptions({watermark:{text:"Â Â Â Â Â Â Â ".concat(this.watermark,"Â Â Â Â Â Â Â "),visible:Le["b"].state[this.paneId].showWatermark,color:Le["b"].state[this.paneId].watermarkColor}})}},{key:"addIndicator",value:function(e,t){if(this.getLoadedIndicator(e))return!0;if(t>5)return!1;var n=Le["b"].state[this.paneId].indicators[e],i=n.options||{},r={id:e,options:JSON.parse(JSON.stringify(i)),script:n.script,model:null,adapter:null,apis:[],apisNoop:[]};try{this.prepareIndicator(r)}catch(a){return"indicator-required"!==a.status||this.resolveDependency(r.id,a.serieId,t||0)||X["a"].confirm({message:'"'.concat(r.id,'" indicator need the "').concat(a.serieId,'" serie but that one WAS NOT found anywhere in the current indicators.'),ok:"I see",cancel:!1}),a.status||X["a"].isDialogOpened("indicator")||X["a"].open(at,{paneId:this.paneId,indicatorId:r.id},"indicator"),!1}return this.loadedIndicators.push(r),this.bindIndicator(r,this.activeRenderer),!0}},{key:"resolveDependency",value:function(e,t,n){var i=Le["b"].state[this.paneId].indicators;for(var r in i)if(r!==e&&i[r].series&&-1!==i[r].series.indexOf(t))return!!this.addIndicator(r,n+1)&&(0===n&&this.addIndicator(e,n+1),!0);return!(!i[t]||!this.addIndicator(i[t].id,n+1))&&(0===n&&this.addIndicator(e,n+1),!0)}},{key:"prepareIndicator",value:function(e){try{var t=this.serieBuilder.build(e,this.seriesIndicatorsMap,this.paneId),n=t.output,i=t.functions,r=t.variables,a=t.references,s=t.markets,o=t.plots;Le["b"].state[this.paneId].indicatorsErrors[e.id]&&Le["b"].commit(this.paneId+"/SET_INDICATOR_ERROR",{id:e.id,error:null}),e.model={output:n,functions:i,variables:r,references:a,markets:s,plots:o};for(var c=[],l=0;l<e.model.plots.length;l++){var u=e.model.plots[l],d=Object(j["b"])("add-"+u.type+"-series"),h=Object.assign({},Me["c"],Me["b"][u.type]||{},e.options,u.options);if(!e.options.scaleMargins&&e.options.priceScaleId){var p=this.getPriceScaleMargins(e.options.priceScaleId);p&&(h.scaleMargins=p)}var f=this.chartInstance[d](h);f.id=u.id,this.seriesIndicatorsMap[u.id.replace(/\W/g,"")]={indicatorId:e.id,plotIndex:l},c.push(u.id),e.apis.push(f),e.apisNoop.push({update:function(){}})}Le["b"].commit(this.paneId+"/SET_INDICATOR_SERIES",{id:e.id,series:c})}catch(m){throw Le["b"].commit(this.paneId+"/SET_INDICATOR_ERROR",{id:e.id,error:m.message}),m}}},{key:"bindIndicator",value:function(e,t){if(t&&"undefined"===typeof t.indicators[e.id]&&e.model){var n=JSON.parse(JSON.stringify(e.model)),i=n.functions,r=n.variables,a=n.plots;this.serieBuilder.parseScriptOptions(i,a,e.options),t.indicators[e.id]={series:[],functions:i,variables:r,plotsOptions:a.map((function(e){return e.options}))};for(var s=0;s<t.indicators[e.id].plotsOptions.length;s++)e.apis[s].applyOptions(t.indicators[e.id].plotsOptions[s]);return e.adapter=this.serieBuilder.getAdapter(e.model.output),this.prepareRendererForIndicators(e.id,t),e}}},{key:"unbindIndicator",value:function(e,t){t&&"undefined"!==typeof t.indicators[e.id]&&delete t.indicators[e.id]}},{key:"removeIndicator",value:function(e){if("string"===typeof e&&(e=this.getLoadedIndicator(e)),e){for(var t=0;t<e.apis.length;t++)this.chartInstance.removeSeries(e.apis[t]);this.unbindIndicator(e,this.activeRenderer),this.loadedIndicators.splice(this.loadedIndicators.indexOf(e),1)}}},{key:"clearChart",value:function(){this.preventPan();var e,t=Object(Re["a"])(this.loadedIndicators);try{for(t.s();!(e=t.n()).done;){var n=e.value;this.clearIndicatorSeries(n)}}catch(i){t.e(i)}finally{t.f()}this.renderedRange.from=this.renderedRange.to=null}},{key:"clearData",value:function(){this.activeRenderer=null,this.activeChunk=null,this.queuedTrades.splice(0,this.queuedTrades.length)}},{key:"clear",value:function(){this.chartCache.clear(),this.clearData(),this.clearChart()}},{key:"destroy",value:function(){this.chartCache.clear(),this.clearData(),this.clearChart(),this.removeChart(),this.clearQueue()}},{key:"clearIndicatorSeries",value:function(e){for(var t=0;t<e.apis.length;t++)e.apis[t].setData([]),e.apis[t].setData([])}},{key:"setupQueue",value:function(){var e=this;this._releaseQueueInterval||(Le["b"].state[this.paneId].refreshRate?this._releaseQueueInterval=setInterval((function(){e._preventImmediateRender||e.releaseQueue()}),Le["b"].state[this.paneId].refreshRate):this._releaseQueueInterval=requestAnimationFrame((function(){return e.releaseQueue()})))}},{key:"clearQueue",value:function(){this._releaseQueueInterval&&(clearInterval(this._releaseQueueInterval),cancelAnimationFrame(this._releaseQueueInterval),delete this._releaseQueueInterval,this.releaseQueue())}},{key:"releaseQueue",value:function(){var e=this;this.queuedTrades.length&&!this.preventRender?(this.renderRealtimeTrades(this.queuedTrades),this.queuedTrades.splice(0,this.queuedTrades.length),Le["b"].state[this.paneId].refreshRate||(this._releaseQueueInterval=requestAnimationFrame((function(){return e.releaseQueue()})))):Le["b"].state[this.paneId].refreshRate||(this._releaseQueueInterval=requestAnimationFrame((function(){return e.releaseQueue()})))}},{key:"unlockRender",value:function(){this.preventRender=!1}},{key:"lockRender",value:function(){this.preventRender=!0}},{key:"queueTrades",value:function(e){Array.prototype.push.apply(this.queuedTrades,e)}},{key:"renderRealtimeTrades",value:function(e){if(e.length){for(var t=0;t<e.length;t++){var n=e[t],i=n.exchange+n.pair;if(this.markets[i]){var r=Math.floor(n.timestamp/1e3/Le["b"].state[this.paneId].timeframe)*Le["b"].state[this.paneId].timeframe;if(!this.activeRenderer||this.activeRenderer.timestamp<r){if(this.activeRenderer){for(var a in(!this.activeChunk||this.activeChunk.to<this.activeRenderer.timestamp&&this.activeChunk.bars.length>=Pe)&&(this.activeChunk||this.chartCache.cacheRange.to!==this.activeRenderer.timestamp?(this.activeChunk&&(this.activeChunk.active=!1),this.activeChunk=this.chartCache.saveChunk({from:this.activeRenderer.timestamp,to:this.activeRenderer.timestamp,active:!0,rendered:!0,bars:[]})):(this.chartCache.chunks[this.chartCache.chunks.length-1].active=!0,this.activeChunk=this.chartCache.chunks[this.chartCache.chunks.length-1],this.activeChunk.active=!0)),this.activeRenderer.bar.empty||this.updateBar(this.activeRenderer),this.activeRenderer.sources)!1===this.activeRenderer.sources[a].empty&&this.activeChunk.bars.push(this.cloneSourceBar(this.activeRenderer.sources[a],this.activeRenderer.timestamp));this.activeChunk.to=this.chartCache.cacheRange.to=this.activeRenderer.timestamp,this.renderedRange.to<this.activeRenderer.timestamp&&(this.renderedRange.to=this.activeRenderer.timestamp),this.nextBar(r,this.activeRenderer)}else this.activeRenderer=this.createRenderer(r);this.preventPan()}var s=n.price*n.size;this.activeRenderer.sources[i]&&"undefined"!==typeof this.activeRenderer.sources[i].pair||(this.activeRenderer.sources[i]={pair:n.pair,exchange:n.exchange,close:+n.price},this.resetBar(this.activeRenderer.sources[i])),this.activeRenderer.sources[i].empty=!1;var o=Le["b"].state.app.activeExchanges[n.exchange];n.liquidation?(this.activeRenderer.sources[i]["l"+n.side]+=s,o&&(this.activeRenderer.bar["l"+n.side]+=s,this.activeRenderer.bar.empty=!1)):(this.activeRenderer.sources[i].high=Math.max(this.activeRenderer.sources[i].high,+n.price),this.activeRenderer.sources[i].low=Math.min(this.activeRenderer.sources[i].low,+n.price),this.activeRenderer.sources[i].close=+n.price,this.activeRenderer.sources[i]["c"+n.side]+=n.count,this.activeRenderer.sources[i]["v"+n.side]+=s,o&&(this.activeRenderer.bar["v"+n.side]+=s,this.activeRenderer.bar["c"+n.side]+=n.count,this.activeRenderer.bar.empty=!1))}}this.activeRenderer&&(this.activeRenderer.bar.empty||(this.updateBar(this.activeRenderer),this.renderedRange.to<this.activeRenderer.timestamp&&(this.renderedRange.to=this.activeRenderer.timestamp)))}}},{key:"cloneSourceBar",value:function(e,t){return{pair:e.pair,exchange:e.exchange,timestamp:t||e.timestamp,open:e.open,high:e.high,low:e.low,close:e.close,vbuy:e.vbuy,vsell:e.vsell,cbuy:e.cbuy,csell:e.csell,lbuy:e.lbuy,lsell:e.lsell}}},{key:"renderBars",value:function(e,t){if(e.length){var n,i,r,a={},s=null,o=null;if(this.activeRenderer&&this.activeRenderer.timestamp>e[e.length-1].timestamp)for(var c=Object.values(this.activeRenderer.sources).filter((function(e){return!1===e.empty})),l=0;l<c.length;l++){var u=c[l];u.timestamp=this.activeRenderer.timestamp;for(var d=e.length-1;d>=0;d--){var h=e[d];if(h.timestamp<this.activeRenderer.timestamp){e.splice(d+1,0,u),c.splice(l,1),l--;break}if(h.exchange===u.exchange&&h.pair===u.pair){h.vbuy+=u.vbuy,h.vsell+=u.vsell,h.cbuy+=u.cbuy,h.csell+=u.csell,h.lbuy+=u.lbuy,h.lsell+=u.lsell,h.open=u.open,h.high=u.high,h.low=u.low,h.close=u.close,c.splice(l,1),l--;break}}}for(var p=0;p<=e.length;p++){var f=e[p];if(!f||!n||f.timestamp>n.timestamp){if(n&&!n.bar.empty)for(var m in null===s&&(s=n.timestamp),o=n.timestamp,i=this.computeBar(n,t),i)"undefined"===typeof a[m]&&(a[m]=[]),a[m].push(i[m]);if(!f)break;n?this.nextBar(f.timestamp,n):n=this.createRenderer(f.timestamp,t)}Le["b"].state.app.activeExchanges[f.exchange]&&this.markets[f.exchange+f.pair]&&(n.bar.empty=!1,n.bar.vbuy+=f.vbuy,n.bar.vsell+=f.vsell,n.bar.cbuy+=f.cbuy,n.bar.csell+=f.csell,n.bar.lbuy+=f.lbuy,n.bar.lsell+=f.lsell,n.sources[f.exchange+f.pair]=this.cloneSourceBar(f),n.sources[f.exchange+f.pair].empty=!1)}if(this.activeRenderer){for(var _ in n.indicators)this.activeRenderer.indicators[_]=n.indicators[_];for(var v in n.sources)this.activeRenderer.sources[v]=n.sources[v]}else this.activeRenderer=n;t&&t.length||(r=this.chartInstance.timeScale().scrollPosition(),this.clearChart(),e.length?(this.renderedRange.from=s,this.renderedRange.to=o):this.renderedRange.from=this.renderedRange.to=null),this.replaceData(a),r&&this.chartInstance.timeScale().scrollToPosition(r,!1)}}},{key:"renderAll",value:function(){this.chartCache.chunks.length&&this.chartInstance&&this.renderBars(this.chartCache.chunks.reduce((function(e,t){return e.concat(t.bars)}),[]),null)}},{key:"preventPan",value:function(){var e=this;if(!this.panPrevented){var t=1e3;"undefined"!==typeof this._releasePanTimeout&&clearTimeout(this._releasePanTimeout),this.panPrevented=!0,this._releasePanTimeout=window.setTimeout((function(){e.panPrevented&&(e.panPrevented=!1)}),t)}}},{key:"replaceData",value:function(e){this.preventPan();for(var t=0;t<this.loadedIndicators.length;t++)for(var n=0;n<this.loadedIndicators[t].apis.length;n++){var i=this.loadedIndicators[t].apis[n].id;e[i]&&this.loadedIndicators[t].apis[n].setData(e[i])}}},{key:"updateBar",value:function(e){for(var t=0;t<this.loadedIndicators.length;t++){var n=this.loadedIndicators[t],i=e.indicators[n.id];this.loadedIndicators[t].adapter(e,i.functions,i.variables,n.apis,n.options,Ne)}}},{key:"computeBar",value:function(e,t){var n,i={},r=Object(Re["a"])(this.loadedIndicators);try{for(r.s();!(n=r.n()).done;){var a=n.value;if(!t||-1!==t.indexOf(a.id)){var s=e.indicators[a.id];a.adapter(e,s.functions,s.variables,a.apisNoop,a.options,Ne);for(var o=0;o<s.series.length;o++)!s.series[o]||"undefined"!==typeof s.series[o].value&&null===s.series[o].value||"undefined"!==typeof s.series[o].lowerValue&&null===s.series[o].lowerValue||"histogram"===a.model.plots[o].type&&0===s.series[o].value||(i[a.apis[o].id]=s.series[o])}}}catch(c){r.e(c)}finally{r.f()}return i}},{key:"createRenderer",value:function(e,t){var n,i={timestamp:e,localTimestamp:e+this.timezoneOffset,length:1,indicators:{},sources:{},bar:{vbuy:0,vsell:0,cbuy:0,csell:0,lbuy:0,lsell:0,empty:!0}},r=Object(Re["a"])(this.loadedIndicators);try{for(r.s();!(n=r.n()).done;){var a=n.value;t&&-1===t.indexOf(a.id)||this.bindIndicator(a,i)}}catch(s){r.e(s)}finally{r.f()}return i}},{key:"nextBar",value:function(e,t){if(t.length++,!t.bar.empty)for(var n=0;n<this.loadedIndicators.length;n++){var i=t.indicators[this.loadedIndicators[n].id];if(i){for(var r=0;r<i.functions.length;r++){var a=i.functions[r];if("undefined"!==typeof a.state.count&&a.state.count++,"undefined"!==typeof a.state.points)a.state.points.push(a.state.output),a.state.sum+=a.state.output,a.state.count>a.arg&&(a.state.sum-=a.state.points.shift(),a.state.count--);else if("undefined"!==a.state.open)a.state.open=a.state.close,a.state.high=a.state.close,a.state.low=a.state.close;else if(a.persistence)for(var s=0;s<a.persistence.length;s++)a.state["_"+a.persistence[s]]=a.state[a.persistence[s]]}for(var o=0;o<i.variables.length;o++){var c=i.variables[o];c.length>1&&(c.state.unshift(c.state[0]),c.state.length>c.length&&c.state.pop())}}}t.timestamp=e,t.localTimestamp=e+this.timezoneOffset,this.resetRendererBar(t)}},{key:"resetRendererBar",value:function(e){if(e.bar={vbuy:0,vsell:0,cbuy:0,csell:0,lbuy:0,lsell:0,empty:!0},"undefined"!==typeof e.sources)for(var t in e.sources)this.resetBar(e.sources[t])}},{key:"resetBar",value:function(e){null!==e.close&&(e.open=e.close,e.high=e.close,e.low=e.close),e.vbuy=0,e.vsell=0,e.cbuy=0,e.csell=0,e.lbuy=0,e.lsell=0,e.empty=!0}},{key:"prepareRendererForIndicators",value:function(e,t){for(var n=0;n<this.loadedIndicators.length;n++)if(e&&this.loadedIndicators[n].id===e){for(var i=Object.keys(this.loadedIndicators[n].model.markets),r=0;r<i.length;r++){t.sources[i[r]]||(t.sources[i[r]]={open:null,high:null,low:null,close:null});var a=this.loadedIndicators[n].model.markets[i[r]];if(a.length)for(var s=0;s<a.length;s++)"undefined"===typeof t.sources[i[r]][a[s]]&&"open"!==a[s]&&"high"!==a[s]&&"low"!==a[s]&&"close"!==a[s]&&(t.sources[i[r]][a[s]]=0)}break}}},{key:"getPriceScaleMargins",value:function(e){for(var t=0;t<this.loadedIndicators.length;t++)if(this.loadedIndicators[t].options.priceScaleId===e&&this.loadedIndicators[t].options.scaleMargins)return this.loadedIndicators[t].options.scaleMargins}}]),e}(),ot=(n("25f0"),n("ba10")),ct=n.n(ot),lt=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(s["a"])(this,n),t.apply(this,arguments)}return Object(o["a"])(n,[{key:"getHistoricalMarktets",value:function(e){return e.filter((function(e){return-1!==Le["b"].state.app.historicalMarkets.indexOf(e)}))}},{key:"getApiUrl",value:function(e,t,n,i){var r=Le["b"].state.app.apiUrl;return r=r.replace(/\{from\}/,e),r=r.replace(/\{to\}/,t),r=r.replace(/\{timeframe\}/,(1e3*n).toString()),r=r.replace(/\{markets\}/,i.join("+")),r}},{key:"fetch",value:function(e){function t(t,n,i,r){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,t,n,i){var r=this,a=this.getApiUrl(e,t,n,i);return Le["b"].commit("app/TOGGLE_LOADING",!0),new Promise((function(n,s){fetch(a).then((function(e){return e.json()})).then((function(a){if(!a||"object"!==Object(He["a"])(a))return s("invalid-data");var o=a.format,c=a.results;if(!c.length)return s("no-more-data");switch(a.format){case"point":var l=r.normalisePoints(c,i);e=l.from,t=l.to,c=l.data;break;default:break}var u={format:o,data:c,from:e,to:t};n(u)})).catch((function(e){e&&Le["b"].dispatch("app/showNotice",{type:"error",title:"API error (".concat(e.response&&e.response.data&&e.response.data.error?e.response.data.error:e.message||"unknown error",")")}),s()})).then((function(){Le["b"].commit("app/TOGGLE_LOADING",!1)}))}))}))},{key:"normalisePoints",value:function(e,t){if(!e||!e.length)return e;var n=+new Date(e[0].time)/1e3;t=Object(Ae["a"])(t);for(var i={},r=0;r<e.length;r++){if(e[r].timestamp=+new Date(e[r].time)/1e3,"number"!==typeof i[e[r].market]&&(i[e[r].market]=e[r].open),e[r].timestamp===n){var a=t.indexOf(e[r].market);t.splice(a,1)}var s=e[r].market.split(":");e[r].exchange=s.shift(),e[r].pair=s.join(":"),delete e[r].market}t.length;var o,c=Object(Re["a"])(t);try{for(c.s();!(o=c.n()).done;){var l=o.value;i[l]}}catch(u){c.e(u)}finally{c.f()}return{data:e,from:e[0].timestamp,to:e[e.length-1].timestamp}}}]),n}(ct.a),ut=new lt,dt=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(s["a"])(this,n),e=t.apply(this,arguments),e.hovered=!1,e}return Object(o["a"])(n,[{key:"pane",get:function(){return this.$store.state.panes.panes[this.paneId]}},{key:"mounted",value:function(){var e=this;this.$el.addEventListener("mouseenter",this.showHeader),this.$el.addEventListener("touchstart",this.showHeader),this.refreshZoom(),this.$nextTick((function(){var t=e.$el.clientWidth;"function"===typeof e.onResize&&e.onResize(t,e.$el.clientHeight)}))}},{key:"beforeDestroy",value:function(){this.hovered&&this.hideHeader(),this.$el.removeEventListener("mouseenter",this.showHeader),this.$el.removeEventListener("touchstart",this.showHeader)}},{key:"showHeader",value:function(e){this.hovered||(this.hovered=!0,"touchstart"===e.type?document.addEventListener("touchstart",this.hideHeader):this.$el.addEventListener("mouseleave",this.hideHeader))}},{key:"hideHeader",value:function(e){if(this.hovered)if(e){if(this.$el.parentElement.classList.contains("-highlight"))return;if("touchstart"===e.type){if(this.$el.contains(e.target))return;this.hovered=!1,document.removeEventListener("touchstart",this.hideHeader)}else this.hovered=!1,this.$el.removeEventListener("mouseleave",this.hideHeader)}else this.hovered=!1,document.removeEventListener("touchstart",this.hideHeader),this.$el.removeEventListener("mouseleave",this.hideHeader)}},{key:"refreshZoom",value:function(){var e=this.$store.state.panes.panes[this.paneId].zoom;this.$el.style.fontSize=e?e+"rem":""}}]),n}(i["default"]);dt=Object(u["a"])([Object(Ee["b"])({props:{paneId:{required:!0,type:String}}})],dt);var ht=dt,pt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"pane-header toolbar",class:{"-loading":e.loading}},[n("div",{staticClass:"pane-header__loader"}),n("span",{staticClass:"ml4 mrauto",on:{dblclick:e.renamePane}},[e._v(e._s(e.name))]),e._t("default"),e.showSearch?n("button",{attrs:{type:"button"},on:{click:e.openSearch}},[n("i",{staticClass:"icon-search"})]):e._e(),e.showTimeframe?n("dropdown",{attrs:{options:e.timeframes,selected:e.timeframe,placeholder:"tf."},on:{output:function(t){return e.$store.commit(e.paneId+"/SET_TIMEFRAME",+t)}},scopedSlots:e._u([{key:"selection",fn:function(t){var i=t.item;return[n("span",[e._v(e._s(i))])]}}],null,!1,3872716513)}):e._e(),n("button",{attrs:{type:"button"},on:{click:e.openSettings}},[n("i",{staticClass:"icon-cog"})]),n("dropdown",{staticClass:"-text-left",attrs:{options:e.menu},on:{open:function(t){return e.highlightPane(!0)},close:function(t){return e.highlightPane(!1)}},scopedSlots:e._u([{key:"option",fn:function(t){var i=t.value;return[n("div",[n("i",{staticClass:"-lower",class:"icon-"+i.icon}),n("span",[e._v(e._s(i.label))])])]}},{key:"selection",fn:function(){return[n("i",{staticClass:"icon-more"})]},proxy:!0}])})],2)},ft=[],mt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Dialog",{staticClass:"pane-dialog",on:{clickOutside:e.close},scopedSlots:e._u([{key:"header",fn:function(){return[n("div",{staticClass:"title -editable",domProps:{textContent:e._s(e.name)},on:{dblclick:e.renamePane}}),n("div",{staticClass:"column -center"})]},proxy:!0}])},[n("counters-pane-settings",{attrs:{paneId:e.paneId}})],1)},_t=[],vt=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(s["a"])(this,n),t.apply(this,arguments)}return Object(o["a"])(n,[{key:"pane",get:function(){return this.$store.state.panes.panes[this.paneId]}},{key:"name",get:function(){return this.$store.state.panes.panes[this.paneId].name},set:function(e){this.$store.commit("panes/SET_PANE_NAME",{id:this.paneId,name:e})}},{key:"renamePane",value:function(){var e=Object(R["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,X["a"].prompt({action:"Rename",input:this.name});case 2:t=e.sent,t&&t!==this.name&&(this.name=t);case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"resetPane",value:function(){var e=Object(R["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.close();case 2:return e.next=4,this.$store.dispatch("panes/resetPane",{id:this.paneId,data:t});case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getPreset",value:function(){var e=Object(R["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,M["a"].getState(this.paneId);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),n}(i["default"]);vt=Object(u["a"])([Object(Ee["b"])({props:{paneId:{required:!0,type:String}}})],vt);var bt=vt,gt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"settings-counters"},[n("div",{staticClass:"column"},[n("div",{staticClass:"form-group -tight"},[n("label",{directives:[{name:"tippy",rawName:"v-tippy",value:{placement:"bottom"},expression:"{ placement: 'bottom' }"}],staticClass:"checkbox-control checkbox-control-input -auto flex-right",attrs:{title:"Sum amount of trades instead of volume"}},[n("input",{staticClass:"form-control",attrs:{type:"checkbox"},domProps:{checked:e.countersCount},on:{change:function(t){return e.$store.commit(e.paneId+"/TOGGLE_COUNT",t.target.checked)}}}),n("div",{attrs:{on:"count",off:"volume"}})])]),n("div",{staticClass:"form-group -fill"},[n("input",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"form-control",attrs:{title:"Counters step separed by a comma (ie: 1m, 5m, 10m, 15m)",type:"string",placeholder:"Enter a set of timeframe (ie 1m, 15m)"},domProps:{value:e.countersStepsStringified},on:{change:function(t){return e.replaceCounters(t.target.value)}}})])]),n("div",{staticClass:"form-group mt8"},[n("label",{staticClass:"checkbox-control -rip checkbox-control-input",on:{change:function(t){return e.$store.commit(e.paneId+"/TOGGLE_LIQUIDATIONS_ONLY",t.target.checked)}}},[n("input",{staticClass:"form-control",attrs:{type:"checkbox"},domProps:{checked:e.liquidationsOnly}}),n("div"),n("span",[e._v("Only show liquidations")])])])])},yt=[],kt=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(s["a"])(this,n),t.apply(this,arguments)}return Object(o["a"])(n,[{key:"countersCount",get:function(){return this.$store.state[this.paneId].count}},{key:"countersSteps",get:function(){return this.$store.state[this.paneId].steps}},{key:"liquidationsOnly",get:function(){return this.$store.state[this.paneId].liquidationsOnly}},{key:"countersStepsStringified",get:function(){var e=+new Date;return this.countersSteps.map((function(t){return Object(j["a"])(e-t)})).join(", ")}},{key:"replaceCounters",value:function(e){var t=e.split(",").map((function(e){return e=e.trim(),/[\d.]+s/.test(e)?1e3*parseFloat(e):/[\d.]+h/.test(e)?1e3*parseFloat(e)*60*60:1e3*parseFloat(e)*60})).filter((function(e,t,n){return n.indexOf(e)==t}));t.filter((function(e){return isNaN(e)})).length?this.$store.dispatch("app/showNotice",{type:"error",title:"Counters (".concat(e,") contains invalid steps.")}):this.$store.commit(this.paneId+"/REPLACE_COUNTERS",t)}}]),n}(d["c"]);kt=Object(u["a"])([Object(d["a"])({name:"CountersSettings",props:{paneId:{type:String,required:!0}}})],kt);var Ct=kt,Ot=Ct,Et=Object(b["a"])(Ot,gt,yt,!1,null,null,null),wt=Et.exports,Tt={components:{CountersPaneSettings:wt},mixins:[F["a"],bt],data:function(){return{renaming:!1}},methods:{}},It=Tt,xt=Object(b["a"])(It,mt,_t,!1,null,null,null),St=xt.exports,At=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Dialog",{staticClass:"pane-dialog -medium",on:{clickOutside:e.close,mousedown:function(t){e.clickOutsideClose=!1},mouseup:function(t){e.clickOutsideClose=!0}},scopedSlots:e._u([{key:"header",fn:function(){return[n("div",{staticClass:"title -editable",domProps:{textContent:e._s(e.name)},on:{dblclick:e.renamePane}}),n("div",{staticClass:"column -center"})]},proxy:!0}])},[n("trades-settings",{attrs:{paneId:e.paneId}}),n("footer",[n("presets",{staticClass:"-left -top",attrs:{type:"trades",adapter:e.getPreset},on:{apply:function(t){return e.resetPane(t)}}})],1)],1)},Rt=[],jt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"column mb16"},[n("div",{staticClass:"form-group -fill"},[n("label",[e._v(" Max rows "),n("span",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"icon-info",attrs:{title:"Numbers of trades to keep rendered"}})]),n("input",{staticClass:"form-control",attrs:{type:"number",min:"0",max:"1000",step:"1"},domProps:{value:e.maxRows},on:{change:function(t){return e.$store.commit(e.paneId+"/SET_MAX_ROWS",t.target.value)}}})]),n("div",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"form-group -tight",attrs:{title:"Show exchange's logo when available"}},[n("label",[e._v("Logo")]),n("label",{staticClass:"checkbox-control checkbox-control-input flex-right"},[n("input",{staticClass:"form-control",attrs:{type:"checkbox"},domProps:{checked:e.showLogos},on:{change:function(t){return e.$store.commit(e.paneId+"/TOGGLE_LOGOS",t.target.checked)}}}),n("div")])]),e.showLogos?n("div",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"form-group -tight",attrs:{title:"Show exchange's logo when available"}},[n("label",[e._v("Couleur")]),n("label",{staticClass:"checkbox-control -auto checkbox-control-input flex-right"},[n("input",{staticClass:"form-control",attrs:{type:"checkbox"},domProps:{checked:e.monochromeLogos},on:{change:function(t){return e.$store.commit(e.paneId+"/TOGGLE_MONOCHROME_LOGOS",t.target.checked)}}}),n("div",{attrs:{on:"monochrome",off:"original"}})])]):e._e()]),n("div",{staticClass:"form-group mb8"},[n("label",{directives:[{name:"tippy",rawName:"v-tippy",value:{placement:"left"},expression:"{ placement: 'left' }"}],staticClass:"checkbox-control",attrs:{title:"eg: BTC-USD"}},[n("input",{staticClass:"form-control",attrs:{type:"checkbox"},domProps:{checked:e.showTradesPairs},on:{change:function(t){return e.$store.commit(e.paneId+"/TOGGLE_TRADES_PAIRS")}}}),n("div"),n("span",[e._v("Trades symbols are "+e._s(e.showTradesPairs?"visible":"hidden"))])])]),n("div",{staticClass:"form-group mb8"},[n("label",{staticClass:"checkbox-control",class:{"-rip":"liquidations"===e.tradeType}},[n("input",{staticClass:"form-control",attrs:{type:"checkbox"},domProps:{checked:e.tradeType},on:{change:function(t){return e.$store.commit(e.paneId+"/TOGGLE_TRADE_TYPE")}}}),n("div"),"both"===e.tradeType?n("span",[e._v(" Show both trades and liquidations ")]):e._e(),"liquidations"===e.tradeType?n("span",[e._v(" Only show liquidations ")]):e._e(),"trades"===e.tradeType?n("span",[e._v("Only show trades")]):e._e()])]),n("section",{staticClass:"section"},[e.sections.indexOf("thresholds")>-1?n("div",[n("div",{staticClass:"column section__controls"},[n("button",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"btn -text -nowrap mr4",attrs:{type:"button",title:"Switch thresholds display"},on:{click:function(t){return e.$store.commit(e.paneId+"/TOGGLE_THRESHOLDS_TABLE",!e.showThresholdsAsTable)}}},[e._v(" "+e._s(e.showThresholdsAsTable?"table":"slider")+" ")]),n("presets",{directives:[{name:"tippy",rawName:"v-tippy"}],attrs:{type:"audio",adapter:e.getAudioPreset,label:"Presets",title:"Just the thresholds / audio"},on:{apply:function(t){return e.applyAudioPreset(t)}}})],1),n("thresholds",{attrs:{paneId:e.paneId,"show-liquidations-threshold":"both"===e.tradeType}}),n("div",{staticClass:"text-right mt8 mb8"},[n("a",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"btn ml4 -nowrap -text",attrs:{href:"javascript:void(0);",title:"Add a threshold"},on:{click:function(t){return e.$store.commit(e.paneId+"/ADD_THRESHOLD")}}},[e._v(" Add "),n("i",{staticClass:"icon-plus ml4 text-bottom"})])]),e.displayGifWarning?n("div",{staticClass:"d-flex help-text"},[n("p",{staticClass:"mt0 mb0 text-danger"},[n("i",{staticClass:"icon-info mr8"}),n("a",{attrs:{href:"javascript:void(0);"},on:{click:function(t){return e.$store.commit("settings/TOGGLE_ANIMATIONS")}}},[e._v("Enable animations to show gifs")])])]):e._e()],1):e._e(),n("div",{staticClass:"section__title",on:{click:function(t){return e.toggleSection("thresholds")}}},[e._v("THRESHOLDS ("+e._s(e.thresholds.length)+") "),n("i",{staticClass:"icon-up"})])]),n("section",{staticClass:"section"},[e.sections.indexOf("audio")>-1?n("div",{staticClass:"form-group"},[n("div",{staticClass:"column section__controls"}),n("div",{staticClass:"column mb16"},[n("div",{staticClass:"form-group text-nowrap"},[n("label",{staticClass:"checkbox-control"},[n("input",{staticClass:"form-control",attrs:{type:"checkbox",disabled:!e.useAudio},domProps:{checked:e.muted},on:{change:function(t){return e.$store.commit(e.paneId+"/TOGGLE_MUTED")}}}),n("div"),n("span",[e._v("Mute this pane")])])]),n("div",{staticClass:"-fill ml16"},[n("label",{staticClass:"mt8 d-block"},[e._v("Pane volume")]),n("div",{staticClass:"column"},[n("slider",{staticClass:"mrauto -fill mt8 mb8",attrs:{min:0,max:10,step:.1,label:!0,disabled:e.muted,value:e.audioVolume},on:{input:function(t){return e.$store.commit(e.paneId+"/SET_AUDIO_VOLUME",t)},reset:function(t){return e.$store.commit(e.paneId+"/SET_AUDIO_VOLUME",null)}},scopedSlots:e._u([{key:"tooltip",fn:function(){return[e._v("Ã— "+e._s(e.audioVolume))]},proxy:!0}],null,!1,1549576807)}),n("editable",{staticClass:"-center text-nowrap ml8",staticStyle:{"line-height":"1"},attrs:{content:"Ã— "+e.audioVolume},on:{output:function(t){return e.$store.commit(e.paneId+"/SET_AUDIO_VOLUME",t)}}})],1),n("label",{staticClass:"mt16 d-block"},[e._v("Pitch")]),n("div",{staticClass:"column"},[n("slider",{staticClass:"mrauto -fill mt8 mb8",attrs:{min:.001,max:5,step:.01,showCompletion:!1,disabled:e.muted,value:e.audioPitch},on:{input:function(t){return e.$store.commit(e.paneId+"/SET_AUDIO_PITCH",t)},reset:function(t){return e.$store.commit(e.paneId+"/SET_AUDIO_PITCH",null)}},scopedSlots:e._u([{key:"tooltip",fn:function(){return[e._v("Ã— "+e._s(e.audioPitch)+" ")]},proxy:!0}],null,!1,3360634946)}),n("editable",{staticClass:"-center text-nowrap ml8",staticStyle:{"line-height":"1"},attrs:{content:"Ã— "+e.audioPitch},on:{output:function(t){return e.$store.commit(e.paneId+"/SET_AUDIO_PITCH",t)}}})],1)])]),e.useAudio&&!e.muted?n("div",{staticClass:"form-group"},[n("label",[e._v(" Minimum for a trade to trigger a sound ")]),n("input",{staticClass:"form-control",attrs:{placeholder:e.audioThresholdPlaceholder},domProps:{value:e.audioThreshold},on:{change:function(t){return e.$store.commit(e.paneId+"/SET_AUDIO_THRESHOLD",t.target.value)}}})]):e._e(),e.useAudio?e._e():n("div",{staticClass:"d-flex help-text"},[n("p",{staticClass:"mt0 mb0 text-danger"},[n("i",{staticClass:"icon-info mr8"}),n("a",{attrs:{href:"javascript:void(0);"},on:{click:function(t){return e.$store.commit("settings/TOGGLE_AUDIO",!0)}}},[e._v("Enable audio to use this feature")])])])]):e._e(),n("div",{staticClass:"section__title",on:{click:function(t){return e.toggleSection("audio")}}},[e._v("Audio "),n("i",{staticClass:"icon-up"})])]),n("section",{staticClass:"section"},[e.sections.indexOf("multipliers")>-1?n("div",{staticClass:"form-group"},[n("label",[e._v(" Ajust threshold of specific markets ")]),e.multipliers.length?n("div",{staticClass:"multipliers"},e._l(e.multipliers,(function(t){return n("div",{key:t.identifier,staticClass:"d-flex multipliers-market",class:{"-disabled":1===t.multiplier}},[n("div",{staticClass:"multipliers-market__id",on:{dblclick:function(n){return e.$store.commit(e.paneId+"/SET_THRESHOLD_MULTIPLIER",{identifier:t.identifier,multiplier:1})}}},[n("div",{staticClass:"text-nowrap market-exchange"},[n("small",[e._v(e._s(t.exchange))])]),n("div",{staticClass:"text-nowrap market-pair"},[e._v(" "+e._s(t.pair)+" ")])]),n("div",{staticClass:"-fill -center ml16"},[n("slider",{staticStyle:{width:"100%","min-width":"150px"},attrs:{min:0,max:10,label:1!==t.multiplier,step:.01,showCompletion:!1,value:t.multiplier,editable:!1},on:{input:function(n){return e.$store.commit(e.paneId+"/SET_THRESHOLD_MULTIPLIER",{identifier:t.identifier,multiplier:n})},reset:function(n){return e.$store.commit(e.paneId+"/SET_THRESHOLD_MULTIPLIER",{identifier:t.identifier,multiplier:1})}},scopedSlots:e._u([{key:"tooltip",fn:function(t){var n=t.value;return[e._v(" "+e._s(e.thresholds[0].amount*n)+" ")]}}],null,!0)})],1)])})),0):n("a",{attrs:{href:"javascript:void(0);"},on:{click:function(t){return e.$store.dispatch("app/showSearch",{paneId:e.paneId})}}},[e._v(" Add markets to pane ")])]):e._e(),n("div",{staticClass:"section__title",on:{click:function(t){return e.toggleSection("multipliers")}}},[e._v(" THRESHOLD MULTIPLIER ("+e._s(e.mutipliersCount)+") "),n("i",{staticClass:"icon-up"})])])])},Pt=[],Dt=(n("b680"),n("bd60")),Mt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"thresholds",class:{"-dragging":e.dragging,"-rendering":e.rendering}},[e.showThresholdsAsTable?n("table",{staticClass:"table thresholds-table"},[n("transition-group",{attrs:{name:"flip-list",tag:"tbody"}},e._l(e.thresholdsRows,(function(t,i){return n("tr",{key:t.id,class:{"-divider":!!t.divider}},[t.divider?[n("td",{attrs:{colspan:"100%"},domProps:{textContent:e._s(t.divider)}})]:[n("td",{staticClass:"table-input"},[n("editable",{staticClass:"pr16 w-100",attrs:{placeholder:"Amount*",content:t.amount},on:{output:function(n){return e.$store.commit(e.paneId+"/SET_THRESHOLD_AMOUNT",{id:t.id,value:n})}}}),n("i",{staticClass:"icon icon-currency"})],1),n("td",{staticClass:"table-input"},[n("input",{attrs:{type:"text",placeholder:"Giphy"},domProps:{value:t.gif},on:{change:function(n){return e.$store.commit(e.paneId+"/SET_THRESHOLD_GIF",{id:t.id,value:n.target.value})}}})]),n("td",{staticClass:"table-action"},[n("verte",{attrs:{picker:"square",label:"Buy color",menuPosition:"left",model:"rgb",value:t.buyColor},on:{input:function(n){return e.$store.commit(e.paneId+"/SET_THRESHOLD_COLOR",{id:t.id,side:"buyColor",value:n})}}})],1),n("td",{staticClass:"table-action"},[n("verte",{attrs:{picker:"square",label:"Sell color",menuPosition:"left",model:"rgb",value:t.sellColor},on:{input:function(n){return e.$store.commit(e.paneId+"/SET_THRESHOLD_COLOR",{id:t.id,side:"sellColor",value:n})}}})],1),e.useAudio?n("td",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"thresholds-table__audio table-action",attrs:{title:"Configure threshold audio"},on:{click:function(n){return e.openThresholdAudio(t.id)}}},[n("button",{staticClass:"btn  -green"},[n("i",{staticClass:"icon-volume-high"})])]):e._e(),e.thresholds.length>2&&"liquidations"!==t.id&&i>1?n("td",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"table-action",attrs:{title:"Remove"},on:{click:function(n){return e.deleteThreshold(t.id)}}},[n("button",{staticClass:"btn  -red"},[n("i",{staticClass:"icon-cross"})])]):e._e()]],2)})),0)],1):n("div",{staticClass:"thresholds-slider"},[n("div",{staticClass:"thresholds-gradients"},[n("div",{ref:"buysGradient",staticClass:"thresholds-gradients__buys"}),n("div",{ref:"sellsGradient",staticClass:"thresholds-gradients__sells"})]),n("div",{ref:"thresholdContainer",staticClass:"thresholds-slider__bar"},e._l(e.thresholds,(function(t){return n("div",{key:t.id,staticClass:"thresholds-slider__handler",class:{"-selected":e.selectedThresholdId===t.id},attrs:{"data-id":t.id,"data-amount":e.formatAmount(t.amount,2)}})})),0),e.selectedThreshold?n("div",{ref:"thresholdPanel",staticClass:"threshold-panel",class:{"-minimum":0===e.thresholds.indexOf(e.selectedThreshold)},style:{transform:"translateX("+this.panelOffsetPosition+"px)"},on:{click:function(t){e.editing=!0}}},[n("div",{staticClass:"threshold-panel__caret",style:{transform:"translateX("+this.panelCaretPosition+"px)"}}),n("a",{staticClass:"threshold-panel__close icon-cross",attrs:{href:"#"},on:{click:function(t){e.selectedThresholdId=null,e.editing=!1}}}),n("div",{staticClass:"form-group mb8 threshold-panel__gif"},[n("label",[e._v("Show gif")]),n("input",{staticClass:"form-control",attrs:{type:"text"},domProps:{value:e.selectedThreshold.gif},on:{change:function(t){return e.$store.commit(e.paneId+"/SET_THRESHOLD_GIF",{id:e.selectedThreshold.id,value:t.target.value})}}}),e._m(0)]),n("div",{staticClass:"form-group mb8 threshold-panel__colors"},[n("label",[e._v("Custom colors")]),n("div",{staticClass:"column mt8"},[n("div",{directives:[{name:"tippy",rawName:"v-tippy",value:{placement:"bottom"},expression:"{ placement: 'bottom' }"}],staticClass:"form-group column flex-center",attrs:{title:"When buy"}},[n("p",{staticClass:"help-text -center mr16 mt0 mb0"},[e._v(" Buy ")]),n("verte",{attrs:{picker:"square",menuPosition:"left",label:"Buy color",model:"rgb",value:e.selectedThreshold.buyColor},on:{input:function(t){return e.$store.commit(e.paneId+"/SET_THRESHOLD_COLOR",{id:e.selectedThreshold.id,side:"buyColor",value:t})}}})],1),n("div",{directives:[{name:"tippy",rawName:"v-tippy",value:{placement:"bottom"},expression:"{ placement: 'bottom' }"}],staticClass:"form-group column flex-center",attrs:{title:"When sell"}},[n("p",{staticClass:"help-text -center mr16 mt0 mb0"},[e._v(" Sell ")]),n("verte",{attrs:{picker:"square",menuPosition:"left",label:"Sell color",model:"rgb",value:e.selectedThreshold.sellColor},on:{input:function(t){return e.$store.commit(e.paneId+"/SET_THRESHOLD_COLOR",{id:e.selectedThreshold.id,side:"sellColor",value:t})}}})],1)])])]):e._e()])])},Lt=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("small",{staticClass:"help-text mb4"},[e._v(" Le "),n("a",{attrs:{href:"https://tenor.com/",target:"_blank"}},[e._v("Tenor")]),e._v(" keyword ")])}],Nt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Dialog",{staticClass:"pane-dialog",on:{clickOutside:e.close,mousedown:function(t){e.clickOutsideClose=!1},mouseup:function(t){e.clickOutsideClose=!0}},scopedSlots:e._u([{key:"header",fn:function(){return[n("div",{staticClass:"title"},[n("div",[e._v("Threshold")]),n("div",{staticClass:"subtitle"},[e._v(e._s(e.thresholdId)+" "+e._s(e.formatAmount(e.threshold.amount)))])])]},proxy:!0}])},[n("div",{staticClass:"d-flex mb16"},[n("p",{staticClass:"help-text mx0 -center"},[n("i",{staticClass:"icon-info mr4"}),n("span",{domProps:{textContent:e._s("Play a song when a "+e.formatAmount(this.min)+" - "+e.formatAmount(this.max)+" trade occur.")}})]),n("button",{staticClass:"btn -text mlauto",on:{click:function(t){e.showHelp=!e.showHelp}}},[n("i",{staticClass:"icon-down",class:{"icon-up":this.showHelp}}),e._v(" help")])]),e.showHelp?n("div",{staticClass:"help-block mb16"},[e._v(" Write a sequence of sounds using the play() function "),n("blockquote",[n("code",[e._v(" play("),n("br"),n("span",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"ml8",attrs:{title:"Frequency (hz)"}},[e._v("frequency: number")]),e._v(","),n("br"),n("span",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"ml8",attrs:{title:"Gain (volume, 0 is muted and 1 is a loud)"}},[e._v("gain: number")]),e._v(","),n("br"),n("span",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"ml8",attrs:{title:"Duration (duration of the song in seconds)"}},[e._v("duration: number")]),e._v(","),n("br"),n("span",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"ml8",attrs:{title:"Delay song by n second"}},[e._v("wait?: number")]),e._v(","),n("br"),n("span",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"ml8",attrs:{title:"Fade in/out (duration in second)"}},[e._v("fadeInDuration?: number")]),e._v(","),n("br"),n("span",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"ml8",attrs:{title:"Oscillator type (default to sine, either sine, square, triangle, or sawtooth)"}},[e._v("oscillatorType?: 'sine' | 'triangle' | 'square' | 'sawtooth'")]),n("br"),e._v(" ) ")])]),n("br"),n("br"),e._v(" Example"),n("br"),n("blockquote",[e._v(" // trigger 2 different 600ms frequency sounds, 80ms at a time"),n("br"),n("code",[e._v("play("),n("span",{directives:[{name:"tippy",rawName:"v-tippy"}],attrs:{title:"Frequency"}},[e._v("659.26")]),e._v(", "),n("span",{directives:[{name:"tippy",rawName:"v-tippy"}],attrs:{title:"Calculated gain (from trade size relative to thresholds)"}},[e._v("gain * 0.5")]),e._v(", "),n("span",{directives:[{name:"tippy",rawName:"v-tippy"}],attrs:{title:"Calculated duration (from trade size relative to thresholds)"}},[e._v("duration")]),e._v(", "),n("span",{directives:[{name:"tippy",rawName:"v-tippy"}],attrs:{title:"Wait (.08s before playing)"}},[e._v("80")]),e._v(")")]),n("br"),n("code",[e._v("play("),n("span",{directives:[{name:"tippy",rawName:"v-tippy"}],attrs:{title:"Frequency"}},[e._v("830.6")]),e._v(", "),n("span",{directives:[{name:"tippy",rawName:"v-tippy"}],attrs:{title:"Calculated gain (from trade size relative to thresholds)"}},[e._v("gain * 1.25")]),e._v(", "),n("span",{directives:[{name:"tippy",rawName:"v-tippy"}],attrs:{title:"Calculated duration (from trade size relative to thresholds)"}},[e._v("duration")]),e._v(", "),n("span",{directives:[{name:"tippy",rawName:"v-tippy"}],attrs:{title:"Wait (.08s before playing)"}},[e._v("80")]),e._v(")")]),n("br")]),n("blockquote",[e._v(" // using js Math functions"),n("br"),n("code",[e._v("play(1256, Math.log(1 + gain / 10) , 1, 0, .1, 'square')")])])]):e._e(),n("div",{staticClass:"form-group mb16"},[n("label",{attrs:{for:""}},[e._v(" When buy ")]),n("div",{staticClass:"d-flex"},[n("textarea",{ref:"behaveBuy",staticClass:"form-control",attrs:{spellcheck:"false"},domProps:{value:e.buyAudio},on:{blur:function(t){return e.setInput(t.target.value,"buy")}}}),n("button",{staticClass:"btn -green",on:{click:function(t){return e.test("buy")}}},[n("i",{staticClass:"icon-volume-high"})])]),e.buyError?n("p",{staticClass:"form-feedback"},[n("i",{staticClass:"icon-warning mr4"}),e._v(" "+e._s(e.buyError))]):e._e()]),n("div",{staticClass:"form-group mb16"},[n("label",{attrs:{for:""}},[e._v(" When sell ")]),n("div",{staticClass:"d-flex"},[n("textarea",{ref:"behaveSell",staticClass:"form-control",attrs:{spellcheck:"false"},domProps:{value:e.sellAudio},on:{blur:function(t){return e.setInput(t.target.value,"sell")}}}),n("button",{staticClass:"btn -red",on:{click:function(t){return e.test("sell")}}},[n("i",{staticClass:"icon-volume-high"})])]),e.sellError?n("p",{staticClass:"form-feedback"},[n("i",{staticClass:"icon-warning mr4"}),e._v(" "+e._s(e.sellError))]):e._e()]),n("footer",[n("a",{staticClass:"btn -text",attrs:{href:"javascript:void(0);"},on:{click:function(t){return e.close(!1)}}},[e._v("Cancel")]),n("button",{staticClass:"btn -large",on:{click:function(t){return e.saveInputs()}}},[n("i",{staticClass:"icon-check mr4"}),e._v(" Save")])])])},Bt=[],Ut=n("4902"),$t={props:{paneId:{required:!0,type:String},thresholdId:{required:!0,type:String}},mixins:[F["a"]],data:function(){return{buyAudio:"",sellAudio:"",buyError:null,sellError:null,showHelp:!1}},computed:{threshold:function(){var e=this;return"liquidations"===this.thresholdId?this.$store.state[this.paneId].liquidations:this.$store.state[this.paneId].thresholds.find((function(t){return t.id===e.thresholdId}))},amounts:function(){return this.$store.state[this.paneId].thresholds.map((function(e){return e.amount}))},audioPitch:function(){return this.$store.state[this.paneId].audioPitch},audioVolume:function(){return this.$store.state[this.paneId].audioVolume},index:function(){return this.amounts.indexOf(this.threshold.amount)},min:function(){return this.threshold.amount},max:function(){return this.amounts[this.index+1]||2*this.amounts[this.index]}},created:function(){var e=this;if(this._behaves=[],!this.threshold)return this.$nextTick((function(){return e.close(!1)}));this.buyAudio=this.threshold.buyAudio||"",this.sellAudio=this.threshold.sellAudio||""},mounted:function(){var e=this;this.$nextTick((function(){return e.initBehave()}))},beforeDestroy:function(){var e,t=Object(Re["a"])(this._behaves);try{for(t.s();!(e=t.n()).done;){var n=e.value;n.destroy()}}catch(i){t.e(i)}finally{t.f()}},methods:{setInput:function(e,t){this[t+"Audio"]=e},saveInputs:function(){this.validate(!0)&&(this.$store.commit(this.paneId+"/SET_THRESHOLD_AUDIO",{id:this.thresholdId,buyAudio:this.buyAudio,sellAudio:this.sellAudio}),this.close(!0))},validate:function(){for(var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=0,n=["buy","sell"];t<n.length;t++){var i=n[t],r=this[i+"Audio"];try{this.getAdapter(r,i)}catch(a){return e&&X["a"].confirm({message:"Please check that ".concat(i," audio script is syntactically correct."),ok:"OK",cancel:!1}),!1}}return!0},test:function(e){for(var t,n,i,r=0;r<this.amounts.length;r++)if(!(this.amounts[r]<this.threshold.amount)){if(i&&i<this.amounts[r])break;var a=this.max-this.min;a?(i=this.min+Math.random()*a,t=i/this.amounts[1]):(i=this.min,t=1),n=r}if(i){var s=this[e+"Audio"],o=this.getAdapter(s,e);o(Ut["a"].play.bind(Ut["a"]),t,e,n),this.$store.dispatch("app/showNotice",{id:"testing-threshold-audio",type:"buy"===e?"success":"error",title:"NOW PLAYING : "+Object(j["h"])(i)+" "+e.toUpperCase()+" trade",timeout:1e3})}},formatAmount:function(e){return Object(j["h"])(e)},getAdapter:function(e,t){try{var n=Ut["a"].buildAudioFunction(e,t,this.audioPitch,this.audioVolume,!0);return this[t+"Error"]=null,n}catch(i){throw this[t+"Error"]=i.message,i}},initBehave:function(){for(var e=0,t=[this.$refs.behaveBuy,this.$refs.behaveSell];e<t.length;e++){var n=t[e];this._behaves.push(new Ke.a({textarea:n,replaceTab:!0,softTabs:!0,tabSize:2,autoOpen:!0,overwrite:!0,autoStrip:!0,autoIndent:!0,fence:!1}))}}}},Gt=$t,qt=Object(b["a"])(Gt,Nt,Bt,!1,null,null,null),Ht=qt.exports,Ft=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(s["a"])(this,n),e=t.apply(this,arguments),e.rendering=!0,e.dragging=null,e.editing=null,e.selectedThresholdId=null,e.selectedElement=null,e.panelCaretPosition=0,e.panelOffsetPosition=0,e._dragReference=null,e._minimum=null,e._maximum=null,e._offsetLeft=null,e}return Object(o["a"])(n,[{key:"thresholds",get:function(){return this.$store.state[this.paneId].thresholds}},{key:"selectedThreshold",get:function(){var e=this.$store.getters[this.paneId+"/getThreshold"](this.selectedThresholdId);return e}},{key:"showThresholdsAsTable",get:function(){return this.$store.state[this.paneId].showThresholdsAsTable}},{key:"preferQuoteCurrencySize",get:function(){return this.$store.state.settings.preferQuoteCurrencySize}},{key:"useAudio",get:function(){return this.$store.state.settings.useAudio}},{key:"thresholdsRows",get:function(){var e=[];return this.showLiquidationsThreshold&&(e=[{id:"divider-1",divider:"For liquidations"},this.$store.state[this.paneId].liquidations,{id:"divider-2",divider:"For trades"}]),e=[].concat(Object(Ae["a"])(e),Object(Ae["a"])(this.thresholds)),e}},{key:"created",value:function(){var e=this;this._onStoreMutation=this.$store.subscribe((function(t){switch(t.type){case e.paneId+"/TOGGLE_SETTINGS_PANEL":case e.paneId+"/TOGGLE_THRESHOLDS_TABLE":(t.type===e.paneId+"/TOGGLE_SETTINGS_PANEL"&&"thresholds"===t.payload||t.type===e.paneId+"/TOGGLE_THRESHOLDS_TABLE"&&!1===t.payload)&&(e.rendering=!0,e.refreshHandlers(),e.refreshGradients());break;case e.paneId+"/SET_THRESHOLD_AMOUNT":e.reorderThresholds(),e.refreshHandlers();break;case e.paneId+"/SET_THRESHOLD_COLOR":e.refreshGradients();break;case e.paneId+"/ADD_THRESHOLD":e.refreshHandlers();break}}))}},{key:"mounted",value:function(){this.showThresholdsAsTable||(this.refreshHandlers(),this.refreshGradients()),this._startDrag=this.startDrag.bind(this),this.$el.addEventListener("touchstart",this._startDrag,!1),this.$el.addEventListener("mousedown",this._startDrag,!1),this._doDrag=this.doDrag.bind(this),window.addEventListener("touchmove",this._doDrag,!1),window.addEventListener("mousemove",this._doDrag,!1),this._endDrag=this.endDrag.bind(this),window.addEventListener("touchend",this._endDrag,!1),window.addEventListener("mouseup",this._endDrag,!1),this._doResize=this.refreshHandlers.bind(this),window.addEventListener("resize",this._doResize,!1)}},{key:"beforeDestroy",value:function(){window.removeEventListener("touchmove",this._doDrag),window.removeEventListener("mousemove",this._doDrag),window.removeEventListener("touchend",this._endDrag),window.removeEventListener("mouseup",this._endDrag),window.removeEventListener("resize",this._doResize),this._onStoreMutation()}},{key:"startDrag",value:function(e){var t=this;if(e.target.classList.contains("thresholds-slider__handler")){var n=e.pageX;e.touches&&e.touches.length&&(n=e.touches[0].pageX),this.selectedThresholdId=e.target.getAttribute("data-id"),this.selectedThresholdId&&(this.selectedElement=e.target),this.$nextTick((function(){t.refreshCaretPosition(e.target),t._dragReference={timestamp:+new Date,position:n}}))}}},{key:"doDrag",value:function(e){var t=e.pageX;if(e.touches&&e.touches.length&&(t=e.touches[0].pageX),null!==this.selectedElement&&this._dragReference&&!(+new Date-this._dragReference.timestamp<1e3&&Math.abs(this._dragReference.position-t)<3)){this.dragging=!0;var n=Math.max(0,Math.log(this._minimum+1)||0),i=n/Math.log(this._maximum+1)*this._width,r=Math.max(this._width/3*-1,Math.min(1.5*this._width,t-this._offsetLeft)),a=Math.exp((i+r/this._width*(this._width-i))/this._width*Math.log(this._maximum+1))-1;t<this._offsetLeft?(a=this.selectedThreshold.amount-.1*(this.selectedThreshold.amount-a),r=0):t>this._offsetLeft+this._width&&(a=this.selectedThreshold.amount-.1*(this.selectedThreshold.amount-a),r=this._width),a<0&&(a=0),this.selectedElement.style.transform="translateX("+r+"px)",this.refreshCaretPosition(),this.$store.commit(this.paneId+"/SET_THRESHOLD_AMOUNT",{id:this.selectedThresholdId,value:+Object(j["j"])(a)})}}},{key:"endDrag",value:function(){this.selectedElement&&(this.selectedElement=null,this.reorderThresholds(),this.refreshHandlers(),this.refreshGradients()),this.dragging=!1}},{key:"refreshHandlers",value:function(){var e=Object(R["a"])(regeneratorRuntime.mark((function e(){var t,n,i,r,a,s,o,c,l,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(j["s"])(100);case 2:if(t=this.thresholds.map((function(e){return e.amount})),this._minimum=this.thresholds[0].amount,this._maximum=Math.max.apply(null,t),!this.showThresholdsAsTable){e.next=7;break}return e.abrupt("return");case 7:for(n=this.$refs.thresholdContainer.getBoundingClientRect(),this._offsetLeft=n.left,this._width=this.$refs.thresholdContainer.clientWidth,i=this.$refs.thresholdContainer.children,r=Math.max(0,Math.log(this._minimum+1)||0),a=Math.log(this._maximum+1)-r,s=0;s<this.thresholds.length;s++)o=i[s],c=this.thresholds[s],l=Math.log(c.amount+1)-r,u=this._width*(l/a),o.style.transform="translateX("+u+"px)";this.rendering=!1;case 15:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"refreshCaretPosition",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.selectedElement,t=parseFloat(e.style.transform.replace(/[^\d.]/g,""))||0,n=this.$refs.thresholdPanel.clientWidth,i=24,r=(this._width-n)/2+i;this.panelOffsetPosition=-r+2*r*(t/this._width),this.panelCaretPosition=i+(n-2*i)*(t/this._width)}},{key:"refreshGradients",value:function(){var e=Object(R["a"])(regeneratorRuntime.mark((function e(){var t,n,i,r,a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.showThresholdsAsTable){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Object(j["s"])(100);case 4:for(t=Math.max(0,Math.log(this._minimum+1)||0),n=Math.log(this._maximum+1),i=[],r=[],a=0;a<this.thresholds.length;a++)s=0===a?0:a===this.thresholds.length-1?100:((Math.log(this.thresholds[a].amount+1)-t)/(n-t)*100).toFixed(2),i.push("".concat(this.thresholds[a].buyColor," ").concat(s,"%")),r.push("".concat(this.thresholds[a].sellColor," ").concat(s,"%"));this.$refs.buysGradient.style.backgroundImage="linear-gradient(to right, ".concat(i.join(", "),")"),this.$refs.sellsGradient.style.backgroundImage="linear-gradient(to right, ".concat(r.join(", "),")");case 11:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"reorderThresholds",value:function(){this.$store.state[this.paneId].thresholds=this.thresholds.sort((function(e,t){return e.amount-t.amount}))}},{key:"deleteThreshold",value:function(e){this.thresholds.length<=2||this.$store.commit(this.paneId+"/DELETE_THRESHOLD",e)}},{key:"openThresholdAudio",value:function(e){X["a"].open(Ht,{paneId:this.paneId,thresholdId:e})}},{key:"formatAmount",value:function(e){return Object(j["h"])(e)}}]),n}(d["c"]);Ft=Object(u["a"])([Object(d["a"])({name:"Thresholds",props:{paneId:{type:String,required:!0},showLiquidationsThreshold:{type:Boolean,default:!0}}})],Ft);var Wt=Ft,Kt=Wt,Vt=(n("dd52"),Object(b["a"])(Kt,Mt,Lt,!1,null,null,null)),zt=Vt.exports,Xt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Dialog",{on:{clickOutside:e.close},scopedSlots:e._u([{key:"header",fn:function(){return[n("div",{staticClass:"title"},[e._v("Configure preset")])]},proxy:!0}])},[n("form",{on:{submit:function(t){return t.preventDefault(),e.submit(t)}}},[n("div",{staticClass:"form-group mb8"},[n("label",[e._v("Choose what to include in preset")]),n("label",{staticClass:"checkbox-control mt16"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.includeAmounts,expression:"includeAmounts"}],staticClass:"form-control",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.includeAmounts)?e._i(e.includeAmounts,null)>-1:e.includeAmounts},on:{change:function(t){var n=e.includeAmounts,i=t.target,r=!!i.checked;if(Array.isArray(n)){var a=null,s=e._i(n,a);i.checked?s<0&&(e.includeAmounts=n.concat([a])):s>-1&&(e.includeAmounts=n.slice(0,s).concat(n.slice(s+1)))}else e.includeAmounts=r}}}),n("div"),n("span",[e._v("Amounts")])])]),n("div",{staticClass:"form-group mb8"},[n("label",{staticClass:"checkbox-control"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.includeColors,expression:"includeColors"}],staticClass:"form-control",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.includeColors)?e._i(e.includeColors,null)>-1:e.includeColors},on:{change:function(t){var n=e.includeColors,i=t.target,r=!!i.checked;if(Array.isArray(n)){var a=null,s=e._i(n,a);i.checked?s<0&&(e.includeColors=n.concat([a])):s>-1&&(e.includeColors=n.slice(0,s).concat(n.slice(s+1)))}else e.includeColors=r}}}),n("div"),n("span",[e._v("Colors")])])]),n("div",{staticClass:"form-group mb8"},[n("label",{staticClass:"checkbox-control"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.includeAudio,expression:"includeAudio"}],staticClass:"form-control",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.includeAudio)?e._i(e.includeAudio,null)>-1:e.includeAudio},on:{change:function(t){var n=e.includeAudio,i=t.target,r=!!i.checked;if(Array.isArray(n)){var a=null,s=e._i(n,a);i.checked?s<0&&(e.includeAudio=n.concat([a])):s>-1&&(e.includeAudio=n.slice(0,s).concat(n.slice(s+1)))}else e.includeAudio=r}}}),n("div"),n("span",[e._v("Audio")])])]),n("footer",[n("a",{staticClass:"btn -text",attrs:{href:"javascript:void(0);"},on:{click:function(t){return e.close(!1)}}},[e._v("Cancel")]),n("button",{staticClass:"btn -large",attrs:{type:"submit"}},[n("i",{staticClass:"icon-check mr4"}),e._v(" Submit")])])])])},Yt=[],Qt={mixins:[F["a"]],data:function(){return{includeAmounts:!1,includeColors:!0,includeAudio:!0}},methods:{submit:function(){this.close({amounts:this.includeAmounts,colors:this.includeColors,audios:this.includeAudio})}}},Jt=Qt,Zt=Object(b["a"])(Jt,Xt,Yt,!1,null,null,null),en=Zt.exports,tn=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(s["a"])(this,n),e=t.apply(this,arguments),e.sections=["thresholds"],e}return Object(o["a"])(n,[{key:"useAudio",get:function(){return this.$store.state.settings.useAudio}},{key:"markets",get:function(){return this.$store.state.panes.panes[this.paneId].markets}},{key:"maxRows",get:function(){return this.$store.state[this.paneId].maxRows}},{key:"showLogos",get:function(){return this.$store.state[this.paneId].showLogos}},{key:"monochromeLogos",get:function(){return this.$store.state[this.paneId].monochromeLogos}},{key:"tradeType",get:function(){return this.$store.state[this.paneId].tradeType}},{key:"showTradesPairs",get:function(){return this.$store.state[this.paneId].showTradesPairs}},{key:"thresholds",get:function(){return this.$store.state[this.paneId].thresholds}},{key:"showThresholdsAsTable",get:function(){return this.$store.state[this.paneId].showThresholdsAsTable}},{key:"audioThresholdPlaceholder",get:function(){return"10% of minimum threshold ("+ +(.1*this.thresholds[0].amount).toFixed(2)+")"}},{key:"audioThreshold",get:function(){return this.$store.state[this.paneId].audioThreshold}},{key:"muted",get:function(){return this.$store.state[this.paneId].muted}},{key:"audioPitch",get:function(){return this.$store.state[this.paneId].audioPitch||1}},{key:"audioVolume",get:function(){var e=this.$store.state[this.paneId].audioVolume;return null===e?this.$store.state.settings.audioVolume:e}},{key:"multipliers",get:function(){var e=this;return this.markets.map((function(t){var n=Object(j["p"])(t),i=Object(je["a"])(n,2),r=i[0],a=i[1],s=e.$store.state[e.paneId].multipliers[r+a];return{exchange:r,pair:a,multiplier:isNaN(s)?1:s,identifier:r+a}}))}},{key:"mutipliersCount",get:function(){return this.multipliers.filter((function(e){return 1!==e.multiplier})).length}},{key:"disableAnimations",get:function(){return this.$store.state.settings.disableAnimations}},{key:"displayGifWarning",get:function(){return this.disableAnimations&&this.thresholds.filter((function(e){return!!e.gif})).length}},{key:"formatAmount",value:function(e){return Object(j["h"])(e)}},{key:"toggleSection",value:function(e){var t=this.sections.indexOf(e);-1===t?this.sections.push(e):this.sections.splice(t,1)}},{key:"getAudioPreset",value:function(){var e=Object(R["a"])(regeneratorRuntime.mark((function e(){var t,n,i,r,a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,X["a"].openAsPromise(en);case 2:if(t=e.sent,!t){e.next=10;break}if(t.amounts||t.audios||t.colors){e.next=7;break}return this.$store.dispatch("app/showNotice",{title:"You did not select anything to save in the preset !",type:"error"}),e.abrupt("return");case 7:for(n={},i=0,r=[].concat(Object(Ae["a"])(Object.keys(this.$store.state[this.paneId].thresholds)),["liquidations"]);i<r.length;i++)a=r[i],s=void 0,s="liquidations"===a?this.$store.state[this.paneId].liquidations:this.$store.state[this.paneId].thresholds[a],n[a]={},t.amounts&&(n[a].amount=s.amount),t.colors&&(n[a].buyColor=s.buyColor,n[a].sellColor=s.sellColor),t.audios&&(n[a].buyAudio=s.buyAudio,n[a].sellAudio=s.sellAudio);return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"applyAudioPreset",value:function(e){var t,n=JSON.parse(JSON.stringify(Dt["a"][this.$store.state.panes.panes[this.paneId].type].state));t=e?{thresholds:Object.keys(e).reduce((function(t,n){return"liquidations"===n||t.push(e[n]),t}),[]),liquidations:e.liquidations}:{thresholds:n.thresholds,liquidations:n.liquidations},et()(this.$store.state[this.paneId],t),"undefined"!==typeof t.liquidations.buyAudio&&this.$store.commit(this.paneId+"/SET_THRESHOLD_AUDIO",{id:"liquidations",buyAudio:t.liquidations.buyAudio,sellAudio:t.liquidations.sellAudio}),"undefined"!==typeof t.liquidations.buyColor&&this.$store.commit(this.paneId+"/SET_THRESHOLD_COLOR",{id:"liquidations",side:"buyColor",value:t.liquidations.buyColor}),"undefined"!==typeof t.liquidations.amount&&this.$store.commit(this.paneId+"/SET_THRESHOLD_AMOUNT",{id:"liquidations",value:t.liquidations.amount})}}]),n}(d["c"]);tn=Object(u["a"])([Object(d["a"])({components:{Thresholds:zt,Slider:O["a"]},name:"TradesSettings",props:{paneId:{type:String,required:!0}}})],tn);var nn=tn,rn=nn,an=(n("03ec"),Object(b["a"])(rn,jt,Pt,!1,null,"7c7ad2fb",null)),sn=an.exports,on={components:{TradesSettings:sn},mixins:[F["a"],bt],data:function(){return{renaming:!1}},methods:{}},cn=on,ln=Object(b["a"])(cn,At,Rt,!1,null,null,null),un=ln.exports,dn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Dialog",{staticClass:"pane-dialog",on:{clickOutside:e.close},scopedSlots:e._u([{key:"header",fn:function(){return[n("div",{staticClass:"title -editable",domProps:{textContent:e._s(e.name)},on:{dblclick:e.renamePane}}),n("div",{staticClass:"column -center"})]},proxy:!0}])},[n("chart-pane-settings",{attrs:{paneId:e.paneId}}),n("footer",[n("presets",{staticClass:"-left -top",attrs:{type:"chart",adapter:e.getPreset},on:{apply:function(t){return e.resetPane(t)}}})],1)],1)},hn=[],pn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"settings-chart"},[n("div",{staticClass:"form-group mb16"},[n("label",[e._v(" Refresh chart every "),n("strong",{domProps:{textContent:e._s(e.refreshRateHms)}})]),n("slider",{staticClass:"mt8",attrs:{min:0,max:1e4,step:100,editable:!1,"show-completion":!0,value:e.refreshRate},on:{input:function(t){return e.$store.commit(e.paneId+"/SET_REFRESH_RATE",t)},reset:function(t){return e.$store.commit(e.paneId+"/SET_REFRESH_RATE",500)}}})],1),e.refreshRate<500?n("p",{staticClass:"form-feedback"},[n("i",{staticClass:"icon-warning"}),e._v(" Low refresh rate can be very CPU intensive")]):e._e(),n("div",{staticClass:"form-group mb8"},[n("label",{staticClass:"checkbox-control"},[n("input",{staticClass:"form-control",attrs:{type:"checkbox"},domProps:{checked:e.showLegend},on:{change:function(t){return e.$store.commit(e.paneId+"/TOGGLE_LEGEND")}}}),n("div"),n("span",[e._v("Show legend")])])]),n("div",{staticClass:"form-group mb8"},[n("div",{staticClass:"form-group column"},[n("label",{staticClass:"checkbox-control",on:{change:function(t){return e.$store.commit(e.paneId+"/SET_GRIDLINES",{type:"vertical",value:t.target.checked})}}},[n("input",{staticClass:"form-control",attrs:{type:"checkbox",id:e.paneId+"showVerticalGridlines"},domProps:{checked:e.showVerticalGridlines}}),n("div",{staticClass:"mr8"})]),e.showVerticalGridlines?n("verte",{staticClass:"mr8",attrs:{picker:"square",menuPosition:"left",model:"rgb",value:e.verticalGridlinesColor},on:{input:function(t){t!==e.verticalGridlinesColor&&e.$store.commit(e.paneId+"/SET_GRIDLINES",{type:"vertical",value:t})}}}):e._e(),n("label",{staticClass:"-fill -center ",attrs:{for:e.paneId+"showVerticalGridlines"}},[e._v("Vertical grid lines")])],1)]),n("div",{staticClass:"form-group mb8"},[n("div",{staticClass:"form-group column"},[n("label",{staticClass:"checkbox-control",on:{change:function(t){return e.$store.commit(e.paneId+"/SET_GRIDLINES",{type:"horizontal",value:t.target.checked})}}},[n("input",{staticClass:"form-control",attrs:{type:"checkbox",id:e.paneId+"showHorizontalGridlines"},domProps:{checked:e.showHorizontalGridlines}}),n("div",{staticClass:"mr8"})]),e.showHorizontalGridlines?n("verte",{staticClass:"mr8",attrs:{picker:"square",menuPosition:"left",model:"rgb",value:e.horizontalGridlinesColor},on:{input:function(t){t!==e.horizontalGridlinesColor&&e.$store.commit(e.paneId+"/SET_GRIDLINES",{type:"horizontal",value:t})}}}):e._e(),n("label",{staticClass:"-fill -center ",attrs:{for:e.paneId+"showHorizontalGridlines"}},[e._v("Horizontal grid lines")])],1)]),n("div",{staticClass:"form-group"},[n("div",{staticClass:"form-group column"},[n("label",{staticClass:"checkbox-control",on:{change:function(t){return e.$store.commit(e.paneId+"/SET_WATERMARK",{value:t.target.checked})}}},[n("input",{staticClass:"form-control",attrs:{type:"checkbox"},domProps:{checked:e.showWatermark}}),n("div",{staticClass:"mr8"})]),e.showWatermark?n("verte",{attrs:{picker:"square",menuPosition:"left",model:"rgb",value:e.watermarkColor},on:{input:function(t){t!==e.watermarkColor&&e.$store.commit(e.paneId+"/SET_WATERMARK",{value:t})}}}):e._e(),n("label",{staticClass:"-fill -center ml8",attrs:{for:""}},[e._v("Watermark")])],1)])])},fn=[];function mn(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(isNaN(e)||null===e)return null;var n=e<0?"-":"";e=Math.abs(e);var i=Math.floor(e/1e3/3600),r=Math.floor(e/1e3%3600/60),a=Math.floor(e/1e3%3600%60),s="";return s+=t&&s.length||!(i>0)?"":n+i+"h"+(!t&&r?", ":""),s+=t&&s.length||!(r>0)?"":n+r+"m"+(!t&&a?", ":""),s+=t&&s.length||!(a>0)?"":n+a+"s",(!s.length||!t&&e<6e4&&e>1e3*a)&&(s+=(s.length?", ":"")+n+(e-1e3*a)+"ms"),s.trim()}var _n=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(s["a"])(this,n),t.apply(this,arguments)}return Object(o["a"])(n,[{key:"showLegend",get:function(){return this.$store.state[this.paneId].showLegend}},{key:"refreshRate",get:function(){return this.$store.state[this.paneId].refreshRate}},{key:"showVerticalGridlines",get:function(){return this.$store.state[this.paneId].showVerticalGridlines}},{key:"verticalGridlinesColor",get:function(){return this.$store.state[this.paneId].verticalGridlinesColor}},{key:"showHorizontalGridlines",get:function(){return this.$store.state[this.paneId].showHorizontalGridlines}},{key:"horizontalGridlinesColor",get:function(){return this.$store.state[this.paneId].horizontalGridlinesColor}},{key:"showWatermark",get:function(){return this.$store.state[this.paneId].showWatermark}},{key:"watermarkColor",get:function(){return this.$store.state[this.paneId].watermarkColor}},{key:"refreshRateHms",get:function(){return mn(this.refreshRate)}}]),n}(d["c"]);_n=Object(u["a"])([Object(d["a"])({components:{Slider:O["a"]},name:"ChartSettings",props:{paneId:{type:String,required:!0}}})],_n);var vn=_n,bn=vn,gn=Object(b["a"])(bn,pn,fn,!1,null,null,null),yn=gn.exports,kn={components:{ChartPaneSettings:yn},mixins:[F["a"],bt],methods:{}},Cn=kn,On=Object(b["a"])(Cn,dn,hn,!1,null,null,null),En=On.exports,wn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Dialog",{staticClass:"pane-dialog",on:{clickOutside:e.close},scopedSlots:e._u([{key:"header",fn:function(){return[n("div",{staticClass:"title -editable",domProps:{textContent:e._s(e.name)},on:{dblclick:e.renamePane}}),n("div",{staticClass:"column -center"})]},proxy:!0}])},[n("stats-pane-settings",{attrs:{paneId:e.paneId}})],1)},Tn=[],In=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"settings-stats settings-section"},[n("div",{staticClass:"column mb16"},[n("div",{staticClass:"form-group -fill"},[n("label",[e._v("Window "),n("i",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"icon-info",attrs:{title:"Interval in which data is summed (eg: 1m)"}})]),n("input",{staticClass:"form-control",attrs:{type:"text",placeholder:"Window (minutes)"},domProps:{value:e.statsWindowStringified},on:{change:function(t){return e.$store.commit(e.paneId+"/SET_WINDOW",t.target.value)}}})]),n("div",{staticClass:"form-group -tight"},[n("label",{attrs:{for:""}},[e._v("Graph")]),n("label",{directives:[{name:"tippy",rawName:"v-tippy",value:{placement:"bottom"},expression:"{ placement: 'bottom' }"}],staticClass:"checkbox-control checkbox-control-input flex-right",attrs:{title:"Enable graph"}},[n("input",{staticClass:"form-control",attrs:{type:"checkbox"},domProps:{checked:e.enableChart},on:{change:function(t){return e.$store.commit(e.paneId+"/TOGGLE_CHART",t.target.checked)}}}),n("div")])])]),n("div",{staticClass:"column"},[n("i",{staticClass:"icon-bucket -center mr4"}),n("span",{staticClass:"-fill"},[e._v("BUCKETS ("+e._s(e.buckets.length)+")")]),n("a",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"-nowrap -text",attrs:{href:"javascript:void(0);",title:"Add a stat"},on:{click:function(t){return e.$store.dispatch(e.paneId+"/createBucket")}}},[e._v(" Add "),n("i",{staticClass:"icon-plus ml4 -lower"})])]),e._l(e.buckets,(function(t){return n("div",{key:t.id,staticClass:"column mt8"},[n("div",{staticClass:"form-group -tight"},[n("label",{directives:[{name:"tippy",rawName:"v-tippy",value:{placement:"bottom"},expression:"{ placement: 'bottom' }"}],staticClass:"checkbox-control checkbox-control-input flex-right",attrs:{title:"Enable bucket"}},[n("input",{staticClass:"form-control",attrs:{type:"checkbox"},domProps:{checked:t.enabled},on:{change:function(n){return e.$store.dispatch(e.paneId+"/updateBucket",{id:t.id,prop:"enabled",value:n.target.checked})}}}),n("div")])]),n("div",{staticClass:"form-group -fill -center"},[e._v(" "+e._s(t.name)+" ")]),n("div",{staticClass:"form-group -tight"},[n("button",{staticClass:"btn -green",on:{click:function(n){return e.openStat(t.id)}}},[n("i",{staticClass:"icon-edit"})])])])}))],2)},xn=[],Sn=n("2818"),An=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(s["a"])(this,n),t.apply(this,arguments)}return Object(o["a"])(n,[{key:"enableChart",get:function(){return this.$store.state[this.paneId].enableChart}},{key:"buckets",get:function(){var e=this;return Object.keys(this.$store.state[this.paneId].buckets).map((function(t){return e.$store.state[e.paneId].buckets[t]}))}},{key:"window",get:function(){return this.$store.state[this.paneId].window}},{key:"statsWindowStringified",get:function(){return Object(j["m"])(this.window||0)}},{key:"openStat",value:function(e){X["a"].open(Sn["a"],{bucketId:e,paneId:this.paneId})}}]),n}(d["c"]);An=Object(u["a"])([Object(d["a"])({name:"StatsSettings",props:{paneId:{type:String,required:!0}}})],An);var Rn=An,jn=Rn,Pn=Object(b["a"])(jn,In,xn,!1,null,null,null),Dn=Pn.exports,Mn={components:{StatsPaneSettings:Dn},mixins:[F["a"],bt],data:function(){return{renaming:!1}},methods:{}},Ln=Mn,Nn=Object(b["a"])(Ln,wn,Tn,!1,null,null,null),Bn=Nn.exports,Un=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Dialog",{staticClass:"pane-dialog",on:{clickOutside:e.close,mousedown:function(t){e.clickOutsideClose=!1},mouseup:function(t){e.clickOutsideClose=!0}},scopedSlots:e._u([{key:"header",fn:function(){return[n("div",{staticClass:"title -editable",domProps:{textContent:e._s(e.name)},on:{dblclick:e.renamePane}}),n("div",{staticClass:"column -center"})]},proxy:!0}])},[n("prices-pane-settings",{attrs:{paneId:e.paneId}})],1)},$n=[],Gn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"form-group mb8"},[n("label",{directives:[{name:"tippy",rawName:"v-tippy",value:{placement:"left"},expression:"{ placement: 'left' }"}],staticClass:"checkbox-control",attrs:{title:"eg: BTC-USD"}},[n("input",{staticClass:"form-control",attrs:{type:"checkbox"},domProps:{checked:e.showPairs},on:{change:function(t){return e.$store.commit(e.paneId+"/TOGGLE_PAIRS")}}}),n("div"),n("span",[e._v("Ticker names are "+e._s(e.showPairs?"visible":"hidden"))])])]),n("div",{staticClass:"form-group mb8"},[n("label",{staticClass:"checkbox-control"},[n("input",{staticClass:"form-control",attrs:{type:"checkbox"},domProps:{checked:e.boldFont},on:{change:function(t){return e.$store.commit(e.paneId+"/TOGGLE_BOLD_FONT")}}}),n("div"),n("span",[e._v(e._s(e.boldFont?"Bold":"Thin")+" text")])])]),n("div",{staticClass:"form-group mb8"},[n("label",{staticClass:"checkbox-control"},[n("input",{staticClass:"form-control",attrs:{type:"checkbox"},domProps:{checked:e.animateSort},on:{change:function(t){return e.$store.commit(e.paneId+"/TOGGLE_SORT_ANIMATION")}}}),n("div"),n("span",[e._v("Order change animations are "+e._s(e.animateSort?"enabled":"disabled"))])])])])},qn=[],Hn=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(s["a"])(this,n),t.apply(this,arguments)}return Object(o["a"])(n,[{key:"showPairs",get:function(){return this.$store.state[this.paneId].showPairs}},{key:"boldFont",get:function(){return this.$store.state[this.paneId].boldFont}},{key:"animateSort",get:function(){return this.$store.state[this.paneId].animateSort}}]),n}(d["c"]);Hn=Object(u["a"])([Object(d["a"])({components:{Thresholds:zt,Slider:O["a"]},name:"TradesSettings",props:{paneId:{type:String,required:!0}}})],Hn);var Fn=Hn,Wn=Fn,Kn=Object(b["a"])(Wn,Gn,qn,!1,null,null,null),Vn=Kn.exports,zn={components:{PricesPaneSettings:Vn},mixins:[F["a"],bt],data:function(){return{renaming:!1}},methods:{}},Xn=zn,Yn=Object(b["a"])(Xn,Un,$n,!1,null,null,null),Qn=Yn.exports,Jn=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){var e,i;return Object(s["a"])(this,n),i=t.apply(this,arguments),i.timeframes=(e={1:"1s",3:"3s",5:"5s",10:"10s",30:"30s",60:"1m"},Object(Se["a"])(e,180,"3m"),Object(Se["a"])(e,300,"5m"),Object(Se["a"])(e,900,"15m"),Object(Se["a"])(e,1260,"21m"),Object(Se["a"])(e,3600,"1h"),Object(Se["a"])(e,7200,"2h"),Object(Se["a"])(e,14400,"4h"),Object(Se["a"])(e,28800,"8h"),Object(Se["a"])(e,86400,"1d"),e),i.menu=[{icon:"copy-paste",label:"Duplicate pane",click:i.duplicatePane},{icon:"plus",label:"Zoom in",click:i.zoomIn},{icon:"minus",label:"Zoom out",click:i.zoomOut},{icon:"trash",label:"Remove pane",click:i.removePane}],i}return Object(o["a"])(n,[{key:"name",get:function(){return this.$store.state.panes.panes[this.paneId].name||this.paneId}},{key:"zoom",get:function(){return this.$store.state.panes.panes[this.paneId].zoom||1}},{key:"type",get:function(){return this.$store.state.panes.panes[this.paneId].type}},{key:"timeframe",get:function(){return this.$store.state[this.paneId].timeframe}},{key:"openSettings",value:function(){switch(this.type){case"counters":X["a"].open(St,{paneId:this.paneId});break;case"stats":X["a"].open(Bn,{paneId:this.paneId});break;case"chart":X["a"].open(En,{paneId:this.paneId});break;case"trades":X["a"].open(un,{paneId:this.paneId});break;case"prices":X["a"].open(Qn,{paneId:this.paneId});break}}},{key:"openSearch",value:function(){this.$store.dispatch("app/showSearch",{paneId:this.paneId})}},{key:"zoomIn",value:function(e){this.$store.dispatch("panes/setZoom",{id:this.paneId,zoom:.1}),e.preventDefault(),e.stopPropagation()}},{key:"zoomOut",value:function(e){this.$store.dispatch("panes/setZoom",{id:this.paneId,zoom:-.1}),e.preventDefault(),e.stopPropagation()}},{key:"removePane",value:function(){this.$store.dispatch("panes/removePane",this.paneId)}},{key:"duplicatePane",value:function(){this.$store.dispatch("panes/duplicatePane",this.paneId)}},{key:"copySettings",value:function(){this.$store.dispatch("panes/copySettings",this.paneId)}},{key:"highlightPane",value:function(e){this.$el.parentElement.parentElement.classList[e?"add":"remove"]("-highlight"),e||(this.$el.parentElement.dispatchEvent(new MouseEvent("mouseleave",{view:window,bubbles:!0,cancelable:!0})),document.dispatchEvent(new MouseEvent("touchstart",{view:window,bubbles:!0,cancelable:!0})))}},{key:"pasteSettings",value:function(){var e;try{e=JSON.parse(this.$store.state.app.paneClipboard)}catch(t){return void this.$store.dispatch("app/showNotice",{title:"No pane settings to paste",type:"error"})}this.$store.dispatch("panes/applySettings",{id:this.paneId,settings:e})}},{key:"renamePane",value:function(){var e=Object(R["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,X["a"].prompt({action:"Rename",input:this.name});case 2:t=e.sent,t&&t!==this.name&&this.$store.commit("panes/SET_PANE_NAME",{id:this.paneId,name:t});case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),n}(i["default"]);Jn=Object(u["a"])([Object(Ee["b"])({name:"PaneHeader",props:{paneId:{type:String},showSearch:{type:Boolean,default:!0},showTimeframe:{type:Boolean,default:!1},loading:{type:Boolean,default:!1}}})],Jn);var Zn=Jn,ei=Zn,ti=Object(b["a"])(ei,pt,ft,!1,null,null,null),ni=ti.exports,ii=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"indicator-resize"},[n("div",{staticClass:"indicator-resize__wrapper",style:{top:e.top+"%",bottom:e.bottom+"%"}},[n("div",{staticClass:"indicator-resize__pane -top",on:{mousedown:e.handleMove,touchstart:e.handleMove}}),n("div",{staticClass:"indicator-resize__boundary -top",on:{mousedown:e.handleResize,touchstart:e.handleResize}}),n("div",{staticClass:"indicator-resize__boundary -bottom",on:{mousedown:e.handleResize,touchstart:e.handleResize}}),n("button",{staticClass:"indicator-resize__close -left btn -text",on:{click:function(t){return e.$store.dispatch(e.paneId+"/resizeIndicator")}}},[n("i",{staticClass:"icon-check mr4"}),e._v(" "),n("code",{domProps:{textContent:e._s(e.top)}}),e._v("% ")]),n("button",{staticClass:"indicator-resize__close -right btn -text",on:{click:function(t){return e.$store.dispatch(e.paneId+"/resizeIndicator")}}},[n("i",{staticClass:"icon-check mr4"}),e._v(" "),n("code",{domProps:{textContent:e._s(e.bottom)}}),e._v("% ")])])])},ri=[],ai=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"indicator",class:{"-error":!!e.error,"-disabled":!e.visible}},[n("div",{staticClass:"indicator__name",on:{click:e.edit}},[e._v(e._s(e.name))]),n("div",{staticClass:"indicator__controls"},[e.error?e._e():[n("button",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"btn -small",attrs:{title:e.visible?"Hide":"Show"},on:{click:e.toggleVisibility}},[n("i",{class:{"icon-visible":!e.visible,"icon-hidden":e.visible}})]),n("button",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"btn -small",attrs:{title:"Edit"},on:{click:e.edit}},[n("i",{staticClass:"icon-edit"})])],n("button",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"btn -small",attrs:{title:"Resize"},on:{click:e.resize}},[n("i",{staticClass:"icon-resize-height"})]),n("button",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"btn -small",attrs:{title:"Disable"},on:{click:e.remove}},[n("i",{staticClass:"icon-cross"})])],2),e.showLegend?n("div",{staticClass:"indicator__legend"},e._l(e.series,(function(t){return n("div",{key:t,attrs:{id:e.indicator.id+t}})})),0):e._e(),e.error?n("div",[n("i",{staticClass:"icon-warning ml4 mr8"}),e._v(" "+e._s(e.error)+" ")]):e._e()])},si=[],oi={props:["paneId","indicatorId"],computed:{indicator:function(){return this.$store.state[this.paneId].indicators[this.indicatorId]},series:function(){return this.indicator.series},showLegend:function(){return this.$store.state[this.paneId].showLegend},name:function(){return this.indicator.displayName?this.indicator.displayName:this.indicator.name?this.indicator.name:this.indicatorId},visible:function(){return!this.indicator.options||"undefined"===typeof this.indicator.options.visible||this.indicator.options.visible},error:function(){return this.$store.state[this.paneId].indicatorsErrors[this.indicatorId]}},methods:{edit:function(){X["a"].open(at,{paneId:this.paneId,indicatorId:this.indicatorId},"indicator")},toggleVisibility:function(){var e=this;this.$nextTick((function(){e.$store.dispatch(e.paneId+"/toggleSerieVisibility",e.indicatorId)}))},remove:function(){this.$store.dispatch(this.paneId+"/removeIndicator",{id:this.indicatorId})},resize:function(){this.$store.dispatch(this.paneId+"/resizeIndicator",this.indicatorId)}}},ci=oi,li=(n("f1f6"),Object(b["a"])(ci,ai,si,!1,null,null,null)),ui=li.exports,di=n("724c"),hi=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(s["a"])(this,n),e=t.apply(this,arguments),e.position={top:0,bottom:0},e}return Object(o["a"])(n,[{key:"top",get:function(){return+this.position.top.toFixed()}},{key:"bottom",get:function(){return+this.position.bottom.toFixed()}},{key:"indicatorIdChange",value:function(){this.setup()}},{key:"mounted",value:function(){this.setup(),document.body.classList.add("-unselectable")}},{key:"beforeDestroy",value:function(){document.body.classList.remove("-unselectable"),this.release()}},{key:"setup",value:function(){if(this.indicatorId){var e=this.$store.state[this.paneId].indicators[this.indicatorId].options,t=e.scaleMargins;t||(t=Me["a"].priceScale.scaleMargins);var n=100*t.top,i=100*t.bottom;this.position={top:n,bottom:i}}else this.position=null}},{key:"handleResize",value:function(e){var t=Object(di["d"])(e),n=e.currentTarget.classList.contains("-top")?"top":"bottom";this._reference={chartHeight:this.getChartHeight(),referenceY:t.y,targetSide:n,maxPercent:"top"===n?100-this.position.bottom:100-this.position.top},document.addEventListener("mousemove",this.resize),document.addEventListener("mouseup",this.release),document.addEventListener("touchmove",this.resize),document.addEventListener("touchend",this.release)}},{key:"handleMove",value:function(e){var t=Object(di["d"])(e);this._reference={chartHeight:this.getChartHeight(),referenceY:t.y,maxPercent:100-this.position.top-this.position.bottom},document.addEventListener("mousemove",this.move),document.addEventListener("mouseup",this.release),document.addEventListener("touchmove",this.move),document.addEventListener("touchend",this.release)}},{key:"release",value:function(){this._reference&&(this._reference.targetSide?(document.removeEventListener("mousemove",this.resize),document.removeEventListener("touchmove",this.resize)):(document.removeEventListener("mousemove",this.move),document.removeEventListener("touchmove",this.move)),document.removeEventListener("mouseup",this.release),document.removeEventListener("touchend",this.release),this._reference=null)}},{key:"resize",value:function(e){var t=Object(di["d"])(e);if(t.y!==this._reference.referenceY){var n;n="top"===this._reference.targetSide?t.y-this._reference.referenceY:this._reference.referenceY-t.y,n/=this._reference.chartHeight,this._reference.referenceY=t.y;var i=Math.min(this._reference.maxPercent,this.position[this._reference.targetSide]+100*n);i<0||i>100||(this.position[this._reference.targetSide]=i,this.update())}}},{key:"move",value:function(e){var t=Object(di["d"])(e),n=(t.y-this._reference.referenceY)/this._reference.chartHeight;this._reference.referenceY=t.y;var i=this.position.top+100*n,r=this.position.top-i,a=this.position.bottom+r;i<0||i>100||a<0||a>100||(this.position.top=i,this.position.bottom=a,this.update())}},{key:"update",value:function(){this.$store.dispatch(this.paneId+"/setIndicatorOption",{id:this.indicatorId,key:"scaleMargins",value:{top:+this.top/100,bottom:+this.bottom/100}})}},{key:"getChartHeight",value:function(){var e=parseFloat(this.$el.parentElement.clientHeight);return e}}]),n}(d["c"]);Object(u["a"])([Object(d["d"])("indicatorId")],hi.prototype,"indicatorIdChange",null),hi=Object(u["a"])([Object(d["a"])({name:"Chart",props:{paneId:{required:!0},indicatorId:{required:!0}},components:{IndicatorControl:ui,PaneHeader:ni}})],hi);var pi=hi,fi=pi,mi=(n("d2a1"),Object(b["a"])(fi,ii,ri,!1,null,null,null)),_i=mi.exports,vi=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Dialog",{staticClass:"-medium",on:{clickOutside:e.close},scopedSlots:e._u([{key:"header",fn:function(){return[n("div",{staticClass:"title"},[e._v("Add indicator")]),n("div",{staticClass:"column -center"})]},proxy:!0}])},[n("div",{staticClass:"d-flex mobile-dir-col-desktop-dir-row"},[e.indicators.length?[n("div",{staticClass:"form-group"},[n("label",[e._v("Choose from existing indicator")]),n("div",{staticClass:"d-flex mb4"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.query,expression:"query"}],staticClass:"form-control",attrs:{type:"text",placeholder:"search"},domProps:{value:e.query},on:{input:function(t){t.target.composing||(e.query=t.target.value)}}}),n("div",{staticClass:"-center text-muted ml16",domProps:{textContent:e._s(e.indicators.length)}})]),e.filteredIndicators.length?n("table",{staticClass:"table"},[n("thead",[n("tr",[n("th",[e._v("Name")]),n("th",[e._v("Updated")]),n("th")])]),n("tbody",e._l(e.filteredIndicators,(function(t){return n("tr",{directives:[{name:"tippy",rawName:"v-tippy",value:{placement:"right"},expression:"{ placement: 'right' }"}],key:t.id,staticClass:"-action",attrs:{title:t.description},on:{click:function(n){return e.selectIndicator(t)}}},[n("td",{staticClass:"table-input",domProps:{textContent:e._s(t.displayName||t.name)}}),n("td",{staticClass:"table-input",domProps:{textContent:e._s(t.updatedAt?e.ago(t.updatedAt)+" ago":"Never")}}),n("td",{staticClass:"table-action",on:{click:function(n){return n.stopPropagation(),e.removeIndicator(t)}}},[n("button",{staticClass:"btn  -red -small"},[n("i",{staticClass:"icon-cross"})])])])})),0)]):e._e()]),n("div",{staticClass:"divider -horizontal"},[e._v("Or")]),n("div",{staticClass:"divider -vertical"},[e._v("Or")])]:e._e(),n("div",{staticClass:"-unshrinkable"},[n("div",{staticClass:"form-group mb16"},[n("label",[e._v("Create indicator")]),n("input",{staticClass:"form-control",attrs:{placeholder:"Name of indicator / serie"},domProps:{value:e.name},on:{input:function(t){return e.getIndicatorId(t.target.value)}}}),n("p",[e._v(" ID: "),n("code",{staticClass:"-filled"},[e._v(e._s(e.indicatorId))])])]),n("div",{staticClass:"form-group mb16"},[n("label",[e._v("Scale with")]),n("dropdown",{staticClass:"form-control -left -center",attrs:{selected:e.priceScaleId,options:e.availableScales,placeholder:"Default scale"},on:{output:function(t){e.priceScaleId=t}}})],1)])],2),n("footer",[n("a",{staticClass:"btn -text mr16",attrs:{href:"javascript:void(0);"},on:{click:function(t){return e.close(!1)}}},[e._v("Cancel")]),n("button",{staticClass:"btn -large",on:{click:e.create}},[e._v("Create")])])])},bi=[],gi=(n("4d63"),{mixins:[F["a"]],props:{paneId:{type:String,required:!0}},components:{Dialog:H["a"]},data:function(){return{name:"",indicatorId:null,priceScaleId:"right",query:"",indicators:[]}},computed:{queryFilter:function(){return new RegExp(this.query.replace(/\W/,".*"),"i")},filteredIndicators:function(){var e=this;return this.indicators.filter((function(t){return!e.$store.state[e.paneId].indicators[t.id]&&(e.queryFilter.test(t.name)||e.queryFilter.test(t.displayName))}))},availableScales:function(){return this.indicators.map((function(e){return e.options&&e.options.priceScaleId})).reduce((function(e,t){return!t||e[t]||(e[t]=t),e}),{"":"Own scale",right:"Main scale (right)"})}},created:function(){var e=this;return Object(R["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getIndicators();case 2:case"end":return t.stop()}}),t)})))()},beforeDestroy:function(){this.editor&&this.editor.destroy()},methods:{getIndicators:function(){var e=this;return Object(R["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,M["a"].getIndicators();case 2:e.indicators=t.sent,e.getIndicatorId(e.name);case 4:case"end":return t.stop()}}),t)})))()},getIndicatorId:function(e){e&&e.length||(e=this.name&&this.name.lengt?this.name:"Untitled"),this.indicatorId=Object(j["u"])(Object(j["t"])(e),this.indicators.map((function(e){return e.id}))),this.name=e},create:function(){var e=this;return Object(R["a"])(regeneratorRuntime.mark((function t(){var n,i,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.name&&!(e.name.length<3)){t.next=2;break}return t.abrupt("return");case 2:return n=Object(j["t"])(e.name),t.next=5,M["a"].saveIndicator({id:e.indicatorId,name:e.name,priceScaleId:e.priceScaleId||n});case 5:return i=t.sent,t.next=8,M["a"].getIndicator(i);case 8:r=t.sent,e.$store.dispatch(e.paneId+"/addIndicator",r),X["a"].open(at,{paneId:e.paneId,indicatorId:r.id},"indicator"),e.close(null);case 12:case"end":return t.stop()}}),t)})))()},selectIndicator:function(e){this.$store.dispatch(this.paneId+"/addIndicator",e),this.close(null)},removeIndicator:function(e){var t=this;return Object(R["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,X["a"].confirm("Delete ".concat(e.name," permanently ?"));case 2:if(!n.sent){n.next=6;break}M["a"].deleteIndicator(e.id),t.indicators.splice(t.indicators.indexOf(e),1),t.getIndicatorId();case 6:case"end":return n.stop()}}),n)})))()},ago:function(e){return Object(j["a"])(e)}}}),yi=gi,ki=Object(b["a"])(yi,vi,bi,!1,null,null,null),Ci=ki.exports,Oi=n("fa07"),Ei=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(s["a"])(this,n),e=t.apply(this,arguments),e.reachedEnd=!1,e.loading=!1,e}return Object(o["a"])(n,[{key:"markets",get:function(){return this.$store.state.panes.panes[this.paneId].markets}},{key:"timeframe",get:function(){return this.$store.state[this.paneId].timeframe}},{key:"indicators",get:function(){return this.$store.state[this.paneId].indicators}},{key:"resizingIndicator",get:function(){return this.$store.state[this.paneId].resizingIndicator}},{key:"showLegend",get:function(){return this.$store.state[this.paneId].showLegend}},{key:"timezoneOffset",get:function(){return this.$store.state.settings.timezoneOffset}},{key:"created",value:function(){var e=this;this._chartController=new st(this.paneId),this._legendElements={},this._onStoreMutation=this.$store.subscribe((function(t){switch(t.type){case"settings/SET_CHART_COLOR":t.payload&&e._chartController.chartInstance.applyOptions(Object(Me["f"])(t.payload));break;case"settings/SET_CHART_THEME":e._chartController.chartInstance.applyOptions(Object(Me["f"])());break;case"settings/SET_TIMEZONE_OFFSET":e._chartController.setTimezoneOffset(e.timezoneOffset),e._chartController.clearChart(),e._chartController.renderAll();break;case"app/EXCHANGE_UPDATED":e._chartController.renderAll();break;case"panes/SET_PANE_MARKETS":t.payload.id===e.paneId&&(e._chartController.setMarkets(t.payload.markets),e.clear(),e.fetch());break;case e.paneId+"/SET_TIMEFRAME":e.clear(),e.fetch();break;case e.paneId+"/SET_REFRESH_RATE":e._chartController.clearQueue(),e._chartController.setupQueue();break;case e.paneId+"/TOGGLE_LEGEND":e.showLegend?(e.bindLegend(),e._chartController.chartInstance.subscribeCrosshairMove(e.onCrosshair)):(e.unbindLegend(),e._chartController.chartInstance.unsubscribeCrosshairMove(e.onCrosshair));break;case e.paneId+"/SET_GRIDLINES":e.updateGridlines(t.payload.type);break;case e.paneId+"/SET_WATERMARK":e._chartController.updateWatermark();break;case e.paneId+"/SET_INDICATOR_OPTION":e._chartController.setIndicatorOption(t.payload.id,t.payload.key,t.payload.value);break;case e.paneId+"/SET_INDICATOR_SCRIPT":e._chartController.rebuildIndicator(t.payload.id);break;case e.paneId+"/SET_INDICATOR_SERIES":e.unbindLegend(t.payload.id),e.bindLegend(t.payload.id);break;case e.paneId+"/ADD_INDICATOR":e._chartController.addIndicator(t.payload.id)&&(e._chartController.redrawIndicator(t.payload.id),e.bindLegend(t.payload.id));break;case e.paneId+"/REMOVE_INDICATOR":e.unbindLegend(t.payload),e._chartController.removeIndicator(t.payload);break;case"app/SET_OPTIMAL_DECIMAL":case"settings/SET_DECIMAL_PRECISION":for(var n in e.indicators){var i=e.$store.state[e.paneId].indicators[n];i.options&&(i.options.priceFormat&&"price"===i.options.priceFormat.type&&(e._chartController.setIndicatorOption(i.id,"priceFormat.precision",t.payload),e._chartController.setIndicatorOption(i.id,"priceFormat.minMove",1/Math.pow(10,t.payload))))}break}}))}},{key:"mounted",value:function(){this.createChart(),this.keepAlive()}},{key:"createChart",value:function(){var e=Object(R["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$nextTick();case 2:return this._chartController.setupQueue(),this._chartController.createChart(this.$refs.chartContainer),e.next=6,this.$nextTick();case 6:return this.bindChartEvents(),e.next=9,this.fetch();case 9:this.positionControls();case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"destroyChart",value:function(){this.unbindChartEvents(),this._chartController.destroy(),clearTimeout(this._keepAliveTimeout)}},{key:"beforeDestroy",value:function(){this.destroyChart(),this._onStoreMutation()}},{key:"fetch",value:function(e){var t=this;if(this.loading)return Promise.reject("already-fetching");var n=ut.getHistoricalMarktets(this.markets);if(!n.length)return Promise.reject("unsupported-markets");var i=this._chartController.getVisibleRange(),r=+this.$store.state[this.paneId].timeframe;if(!e){var a,s=Math.ceil(window.innerWidth/2);a=this._chartController.chartCache.cacheRange&&this._chartController.chartCache.cacheRange.from?this._chartController.chartCache.cacheRange.from:i&&i.from?i.from+this.timezoneOffset/1e3:+new Date/1e3,e={from:a-r*s,to:a};var o=206.54355723892712,c=Object(j["i"])(s*n.length*o);this.$store.dispatch("app/showNotice",{id:"fetching-"+this.paneId,timeout:15e3,title:"Fetching ".concat(s*n.length," Ã— ").concat(Object(j["m"])(1e3*r)," bars (~").concat(c,")"),type:"info"})}return e.from=Math.floor(Math.round(e.from)/r)*r,e.to=Math.ceil(Math.round(e.to)/r)*r-1,this._chartController.lockRender(),this.loading=!0,ut.fetch(Math.round(1e3*e.from),Math.round(1e3*e.to-1),r,n).then((function(e){var n,i=e.data,r=e.from,a=e.to,s=e.format;switch(s){case"point":n={from:r,to:a,bars:i};break;default:throw new Error("unsupported-historical-data-format")}if(n&&n.bars.length){var o=[{from:n.from,to:n.from,bars:[]}];n.bars.length;while(n.bars.length){var c=n.bars.shift();o[0].bars.length>=Pe&&o[0].to<c.timestamp&&o.unshift({from:c.timestamp,to:c.timestamp,bars:[]}),o[0].bars.push(c),o[0].to=c.timestamp}o.length;for(var l=0,u=o;l<u.length;l++){var d=u[l];t._chartController.chartCache.saveChunk(d)}t._chartController.renderAll()}})).catch((function(e){"no-more-data"===e||"unsupported-historical-data-format"===e?t.reachedEnd=!0:t.$store.dispatch("app/showNotice",{title:e?"string"===typeof e?e:e.message:"Historical API seems down at the moment",type:"error",icon:"icon-warning",timeout:-1})})).then((function(){t.$store.dispatch("app/hideNotice","fetching-"+t.paneId),t.loading=!1,t._chartController.unlockRender()}))}},{key:"onCrosshair",value:function(e){var t=!0;(void 0===e||void 0===e.time||e.point.x<0||e.point.x>this.$refs.chartContainer.clientWidth||e.point.y<0||e.point.y>this.$refs.chartContainer.clientHeight)&&(t=!1);for(var n=0;n<this._chartController.loadedIndicators.length;n++)for(var i=this._chartController.loadedIndicators[n],r=0;r<this._chartController.loadedIndicators[n].apis.length;r++){var a=this._chartController.loadedIndicators[n].apis[r],s=i.id+a.id;if(this._legendElements[s])if(t){var o=e.seriesPrices.get(a);if(!o){this._legendElements[s].innerText="";continue}var c=i.options.priceFormat&&"volume"===i.options.priceFormat.type?j["h"]:j["j"];"number"===typeof o?this._legendElements[s].innerText=c(o):o.close&&(this._legendElements[s].innerText="O: ".concat(c(o.open)," H: ").concat(c(o.high)," L: ").concat(c(o.low)," C: ").concat(c(o.close)))}else this._legendElements[s].innerText=""}}},{key:"onTrades",value:function(e){this._chartController.queueTrades(e)}},{key:"refreshChartDimensions",value:function(){this._chartController&&this._chartController.chartInstance&&this._chartController.chartInstance.resize(this.$el.clientWidth,this.$el.clientHeight)}},{key:"onPan",value:function(e){var t=this;e&&!this._chartController.panPrevented&&(this._onPanTimeout&&(clearTimeout(this._onPanTimeout),this._onPanTimeout=null),this._onPanTimeout=setTimeout((function(){null!==t._chartController.chartCache.cacheRange.from&&t.fetchOrRecover(e)}),200))}},{key:"bindChartEvents",value:function(){h["a"].on("trades",this.onTrades),this.showLegend&&this._chartController.chartInstance.subscribeCrosshairMove(this.onCrosshair),this._chartController.chartInstance.timeScale().subscribeVisibleLogicalRangeChange(this.onPan)}},{key:"unbindChartEvents",value:function(){h["a"].off("trades",this.onTrades),this.showLegend&&this._chartController.chartInstance.unsubscribeCrosshairMove(this.onCrosshair),this._chartController.chartInstance.timeScale().unsubscribeVisibleLogicalRangeChange(this.onPan)}},{key:"keepAlive",value:function(){this._keepAliveTimeout&&(this._chartController.chartCache.trim(),this._chartController.renderAll()),this._keepAliveTimeout=setTimeout(this.keepAlive.bind(this),18e5)}},{key:"refreshChart",value:function(){this._chartController.chartCache.trim(),this.renderChart()}},{key:"renderChart",value:function(){this._chartController.renderAll()}},{key:"resetChart",value:function(){var e=this;this.destroyChart(),this.$nextTick((function(){e.createChart()}))}},{key:"addIndicator",value:function(){X["a"].open(Ci,{paneId:this.paneId})}},{key:"fetchOrRecover",value:function(e){if(e&&!(e.from>0)){var t=Math.abs(e.from),n={from:this._chartController.chartCache.cacheRange.from-t*this.timeframe,to:this._chartController.chartCache.cacheRange.from};this.reachedEnd||this._chartController.chartCache.cacheRange.from&&!(n.to<=this._chartController.chartCache.cacheRange.from)?this._chartController.renderedRange.from>this._chartController.chartCache.cacheRange.from&&this._chartController.renderAll():this.fetch(n)}}},{key:"onResize",value:function(){this.refreshChartDimensions()}},{key:"clear",value:function(){this._chartController.clear(),this.reachedEnd=!1}},{key:"bindLegend",value:function(){var e=Object(R["a"])(regeneratorRuntime.mark((function e(t){var n,i,r,a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t){e.next=3;break}for(n in this.indicators)this.bindLegend(n);return e.abrupt("return");case 3:return i=this.indicators[t].series,e.next=6,this.$nextTick();case 6:r=0;case 7:if(!(r<i.length)){e.next=16;break}if(a=t+i[r],!this._legendElements[a]){e.next=11;break}return e.abrupt("continue",13);case 11:s=document.getElementById(a),s&&(this._legendElements[a]=s);case 13:r++,e.next=7;break;case 16:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"unbindLegend",value:function(e){if(e)for(var t in this._legendElements)0===t.indexOf(e)&&delete this._legendElements[t];else for(var n in this.indicators)this.unbindLegend(n)}},{key:"updateGridlines",value:function(e){var t,n,i=this.$store.state[this.paneId];"vertical"===e?(t=i.showVerticalGridlines,n=i.verticalGridlinesColor):(t=i.showHorizontalGridlines,n=i.horizontalGridlinesColor),this._chartController.chartInstance.applyOptions({grid:Object(Se["a"])({},"vertical"===e?"vertLines":"horzLines",{color:n,visible:t})})}},{key:"updateWatermark",value:function(){var e=this.$store.state[this.paneId];this._chartController.chartInstance.applyOptions({watermark:{color:e.watermarkColor,visible:e.showWatermark}})}},{key:"positionControls",value:function(){var e=this.$refs.chartContainer.querySelector("td:last-child canvas:nth-child(2)"),t=this.$el.querySelector(".chart__controls");t.style.marginRight=e.clientWidth+"px"}},{key:"takeScreenshot",value:function(){var e=this._chartController.chartInstance.takeScreenshot(),t=document.createElement("canvas"),n=t.getContext("2d"),i=this.markets.join(", ")+" | "+Object(j["m"])(1e3*this.timeframe).toUpperCase(),r=window.devicePixelRatio>1,a=r?14:8,s=r?16:10;t.width=e.width,n.font="".concat(s,"px Share Tech Mono"),n.textAlign="left",n.textBaseline="top";for(var o=i.split(" "),c=[],l=(new Date).toISOString(),u=n.measureText(l).width,d=" |",h=0;h<o.length;h++){var p=o[h],f=(c.length?0:u)+n.measureText(d+" "+p).width;f<e.width-2*a?d+=" "+p:(c.push(d),d=p)}c.push(d);var m=Math.round(a+.25*a),_=Math.round(2*a+c.length*m);t.height=e.height+_;var v=this.$store.state.settings.backgroundColor;n.fillStyle="white",n.fillRect(0,0,t.width,_),n.fillStyle=v,n.fillRect(0,_,t.width,t.height-_),n.fillStyle="light"===this.$store.state.settings.theme?"rgba(255,255,255,.2)":"rgba(0,0,0,.2)",n.fillRect(0,_,t.width,t.height-_),n.drawImage(e,0,_),n.fillStyle="black",n.font="".concat(s,"px Share Tech Mono"),n.textAlign="left",n.textBaseline="top";for(var b=0;b<c.length;b++){var g=0;0===b&&(n.fillStyle="#2196f3",n.fillText(l,a,a),g=u,n.fillStyle="black"),n.fillText(c[b],g+a,a+m*b)}var y=Object(Oi["d"])(Object(Oi["h"])(v)),k=y<170?"white":"black";Object.values(this.indicators).forEach((function(e,t){var i=e.options;if(!1!==i.visible){var r=i.color||i.upColor||k;try{r=Object(Oi["h"])(r),"undefined"!==typeof r[3]&&(r[3]=1),r=Object(Oi["g"])(r)}catch(s){}n.fillStyle=r,n.fillText(e.name.toUpperCase(),a,_+a+t*m)}}));var C=t.toDataURL("image/png"),O=C.indexOf("base64,")+7,E=C.substr(O);Object(j["n"])(E,"image/png")}}]),n}(Object(d["b"])(ht));Ei=Object(u["a"])([Object(d["a"])({name:"Chart",components:{IndicatorResize:_i,IndicatorControl:ui,PaneHeader:ni}})],Ei);var wi=Ei,Ti=wi,Ii=(n("02ab"),Object(b["a"])(Ti,Ie,xe,!1,null,"81bffd24",null)),xi=Ii.exports,Si=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"pane-trades",class:{"-logos":this.showLogos,"-logos-colors":!this.monochromeLogos,"-slippage":this.calculateSlippage}},[e.hovered?n("pane-header",{attrs:{paneId:e.paneId}}):e._e(),n("ul",{ref:"tradesContainer",staticClass:"hide-scrollbar"}),e.tradesCount?e._e():n("div",{staticClass:"trades-placeholder hide-scrollbar"},[n("div",{staticClass:"mt16 ml16 mr16 help-text"},[n("strong",[e._v("Waiting for trades")]),n("p",[e._v("No"+e._s("both"===e.tradeType?"thing":" "+e.tradeType)+" matching")]),e._l(e.pane.markets,(function(t){return n("code",{key:t,staticClass:"trades-placeholder__market"},[e._v(e._s(t.replace(/^\w+:/,""))),n("br")])})),n("p",[e._v("with amount > "+e._s(e.thresholds[0].amount))])],2)])],1)},Ai=[],Ri={},ji={},Pi=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(s["a"])(this,n),e=t.apply(this,arguments),e.tradesCount=0,e}return Object(o["a"])(n,[{key:"maxRows",get:function(){return this.$store.state[this.paneId].maxRows}},{key:"thresholds",get:function(){return this.$store.state[this.paneId].thresholds}},{key:"tradeType",get:function(){return this.$store.state[this.paneId].tradeType}},{key:"showTradesPairs",get:function(){return this.$store.state[this.paneId].showTradesPairs}},{key:"showLogos",get:function(){return this.$store.state[this.paneId].showLogos}},{key:"monochromeLogos",get:function(){return this.$store.state[this.paneId].monochromeLogos}},{key:"exchanges",get:function(){return this.$store.state.exchanges}},{key:"calculateSlippage",get:function(){return this.$store.state.settings.calculateSlippage}},{key:"audioThreshold",get:function(){return this.$store.state[this.paneId].audioThreshold}},{key:"created",value:function(){var e=this;this.cacheFilters(),this.retrieveStoredGifs(),this.prepareColorsSteps(),this.prepareThresholdsSounds(),this.prepareAudioThreshold(),h["a"].on("trades",this.onTrades),this._onStoreMutation=this.$store.subscribe((function(t){switch(t.type){case"app/EXCHANGE_UPDATED":case e.paneId+"/SET_THRESHOLD_MULTIPLIER":case e.paneId+"/TOGGLE_TRADE_TYPE":e.cacheFilters();break;case"panes/SET_PANE_MARKETS":t.payload.id===e.paneId&&(e.cacheFilters(),e.refreshList());break;case e.paneId+"/SET_THRESHOLD_GIF":e.fetchGifByKeyword(t.payload.value,t.payload.isDeleted),e.refreshList();break;case e.paneId+"/SET_THRESHOLD_AUDIO":case e.paneId+"/SET_AUDIO_PITCH":case e.paneId+"/SET_AUDIO_VOLUME":case"settings/TOGGLE_AUDIO":case"settings/SET_AUDIO_VOLUME":e.prepareThresholdsSounds(),e.prepareAudioThreshold();break;case"settings/SET_CHART_BACKGROUND_COLOR":case e.paneId+"/SET_THRESHOLD_COLOR":case e.paneId+"/SET_THRESHOLD_AMOUNT":case e.paneId+"/DELETE_THRESHOLD":case e.paneId+"/ADD_THRESHOLD":e.prepareThresholdsSounds(),e.prepareColorsSteps(),e.refreshList(),e.prepareAudioThreshold();break;case e.paneId+"/SET_AUDIO_THRESHOLD":case e.paneId+"/TOGGLE_MUTED":e.prepareAudioThreshold();break}}))}},{key:"mounted",value:function(){this.startTimeAgoInterval()}},{key:"beforeDestroy",value:function(){h["a"].off("trades",this.onTrades),this._onStoreMutation(),clearInterval(this._timeAgoInterval)}},{key:"startTimeAgoInterval",value:function(){var e,t=this,n=function(e){return e<6e4?Math.floor(e/1e3)+"s":e<36e5?Math.floor(e/6e4)+"m":Math.floor(e/36e5)+"h"};this._timeAgoInterval=setInterval((function(){var i=t.$el.getElementsByClassName("-timestamp");if(i.length){e=+new Date;for(var r,a=e/1e3%60<1,s=0;s<i.length;s++){var o=e-i[s].getAttribute("timestamp"),c=n(o);if(c===r&&c)i[s-1].textContent="",i[s-1].className="trade__time";else{if(c!==i[s].textContent&&(i[s].textContent=c,!a&&"s"!==c[c.length-1]))break;r=c}}}}),1e3)}},{key:"onTrades",value:function(e){for(var t=0;t<e.length;t++){var n=e[t].exchange+e[t].pair;if(this._activeExchanges[e[t].exchange]&&this._paneMarkets[n]){var i=e[t],r=i.size*(this._preferQuoteCurrencySize?i.price:1),a=this._multipliers[n];if(i.liquidation){if("both"===this._tradeType&&r>=this._liquidationThreshold.amount*a){this.appendRow(i,r,a);continue}if("trades"===this._tradeType)continue}else if("liquidations"===this._tradeType)continue;r>=this._minimumThresholdAmount*a?this.appendRow(i,r,a):r>this._audioThreshold&&this._thresholdsAudios[0][i.side](Ut["a"]._play,r/(this._significantThresholdAmount*a),i.side,0)}}}},{key:"appendRow",value:function(e,t,n){this.tradesCount||this.$forceUpdate(),this.tradesCount++;var i=!1,r=document.createElement("li");if(r.className="trade",r.className+=" -"+e.exchange,r.className+=" -"+e.side,e.liquidation&&"both"===this._tradeType){r.className+=" -liquidation";var a=document.createElement("div");a.className="trade__side "+("buy"===e.side?"icon-bear":"icon-bull"),r.appendChild(a),this._liquidationThreshold.gif&&Ri[this._liquidationThreshold.gif]&&t>=this._liquidationThreshold.amount*n&&(r.className+=" -gif",this._disableAnimations||(r.style.backgroundImage="url('".concat(Ri[this._liquidationThreshold.gif][Math.floor(Math.random()*(Ri[this._liquidationThreshold.gif].length-1))]),i=!0));var s=Math.min(1,t/this._significantThresholdAmount),o=this._liquidationsColor[e.side][(s<.5?"from":"to")+"Luminance"],c=this._liquidationsColor[e.side].to;r.style.color=o>(i?144:170)?"rgba(0, 0, 0, "+s+")":"rgba(255, 255, 255, "+s+")",r.style.backgroundColor="rgb("+c[0]+", "+c[1]+", "+c[2]+", "+s+")",t>this._audioThreshold&&this._liquidationsAudio[e.side](Ut["a"]._play,t/(this._significantThresholdAmount*n),e.side,0)}else{if(e.liquidation){r.className+=" -liquidation";var l=document.createElement("div");l.className="trade__side "+("buy"===e.side?"icon-bear":"icon-bull"),r.appendChild(l)}else if(e.side!==this._lastSide){var u=document.createElement("div");u.className="trade__side icon-side",r.appendChild(u),this._lastSide=e.side}for(var d=0;d<this.thresholds.length;d++)if(r.className+=" -level-"+d,!this.thresholds[d+1]||t<this.thresholds[d+1].amount*n){var h=this._thresholdsColors[Math.min(this.thresholds.length-2,d)],p=this.thresholds[d];p.gif&&Ri[p.gif]&&(r.className+=" -gif",this._disableAnimations||(r.style.backgroundImage="url('".concat(Ri[p.gif][Math.floor(Math.random()*(Ri[p.gif].length-1))])),i=!0);var f=(Math.max(t,h.threshold)-h.threshold)/h.range,m=t/this._significantThresholdAmount,_=h[e.side][(f<.5?"from":"to")+"Luminance"],v=Object(Oi["c"])(h[e.side].from,h[e.side].to,f);r.style.backgroundColor="rgb("+v[0]+", "+v[1]+", "+v[2]+")",r.style.color=_>(i?144:170)?"rgba(0, 0, 0, "+Math.min(1,.25+m)+")":"rgba(255, 255, 255, "+Math.min(1,.25+m)+")",t>this._audioThreshold&&this._thresholdsAudios[d][e.side](Ut["a"]._play,m,e.side,d);break}}var b=document.createElement("div");if(b.className="trade__exchange",this.showLogos||(b.innerText=e.exchange.replace("_"," ")),b.setAttribute("title",e.exchange),r.appendChild(b),this.showTradesPairs){var g=document.createElement("div");g.className="trade__pair",g.innerText=e.pair.replace("_"," "),g.setAttribute("title",e.pair),r.appendChild(g)}var y=document.createElement("div");y.className="trade__price",y.innerText="".concat(Object(j["j"])(e.price)),r.appendChild(y),e.slippage&&("price"===this.calculateSlippage&&Math.abs(e.slippage)/e.price>5e-4?y.setAttribute("slippage",(e.slippage>0?"+":"")+Object(j["j"])(e.slippage)+document.getElementById("app").getAttribute("data-quote-symbol")):"bps"===this.calculateSlippage&&e.slippage&&y.setAttribute("slippage",(e.slippage>0?"+":"-")+Object(j["j"])(e.slippage)));var k=document.createElement("div");k.className="trade__amount";var C=document.createElement("span");C.className="trade__amount__quote",C.innerHTML='<span class="icon-quote"></span> <span>'.concat(Object(j["h"])(e.price*e.size),"</span>");var O=document.createElement("span");O.className="trade__amount__base",O.innerHTML='<span class="icon-base"></span> <span>'.concat(Object(j["h"])(e.size),"</span>"),k.appendChild(C),k.appendChild(O),r.appendChild(k);var E=document.createElement("div");if(E.className="trade__time",e.timestamp){var w=1e3*Math.floor(e.timestamp/1e3);w!==this._lastTradeTimestamp&&(this._lastTradeTimestamp=w,E.setAttribute("timestamp",e.timestamp.toString()),E.className+=" -timestamp")}r.appendChild(E),this.$refs.tradesContainer.prepend(r);while(this.tradesCount>this.maxRows)this.tradesCount--,this.$refs.tradesContainer.removeChild(this.$refs.tradesContainer.lastChild)}},{key:"retrieveStoredGifs",value:function(){var e=Object(R["a"])(regeneratorRuntime.mark((function e(){var t,n,i,r,a,s,o=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=o.length>0&&void 0!==o[0]&&o[0],n=Object(Re["a"])(this.thresholds),e.prev=2,n.s();case 4:if((i=n.n()).done){e.next=15;break}if(r=i.value,r.gif&&!Ri[r.gif]){e.next=8;break}return e.abrupt("continue",13);case 8:return a=Object(j["t"])(r.gif),e.next=11,M["a"].getGifs(a);case 11:s=e.sent,!t&&s&&+new Date-s.timestamp<6048e5?Ri[r.gif]=s.data:ji[r.gif]||this.fetchGifByKeyword(r.gif);case 13:e.next=4;break;case 15:e.next=20;break;case 17:e.prev=17,e.t0=e["catch"](2),n.e(e.t0);case 20:return e.prev=20,n.f(),e.finish(20);case 23:case"end":return e.stop()}}),e,this,[[2,17,20,23]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"playSample",value:function(){var e=Object(R["a"])(regeneratorRuntime.mark((function e(){var t,n,i,r,a,s,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this._audioThreshold=1/0,t=["btcusdt","btcusdt_perp","BTC-PERP","BTC-PERPETUAL"],n=["BINANCE","BINANCE_FUTURES","BITMEX"],i=0;case 4:if(!(i<300)){e.next=15;break}return r=this.thresholds[Math.floor(Math.random()*this.thresholds.length)],a=this.thresholds.indexOf(r),s=a<this.thresholds.length-1?this.thresholds[a+1].amount-1:10*r.amount,o=r.amount+(s-r.amount)*Math.random(),this.appendRow({timestamp:+new Date,side:Math.random()>.5?"buy":"sell",exchange:n[Math.floor(Math.random()*n.length)],pair:t[Math.floor(Math.random()*n.length)],price:57e3,size:o/57e3},o,1),e.next=12,Object(j["s"])(500*Math.random());case 12:i++,e.next=4;break;case 15:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"fetchGifByKeyword",value:function(){var e=Object(R["a"])(regeneratorRuntime.mark((function e(t){var n,i,r,a=this,s=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=s.length>1&&void 0!==s[1]&&s[1],t&&Ri){e.next=3;break}return e.abrupt("return");case 3:if(i=Object(j["t"])(t),!n){e.next=9;break}return Ri[t]&&(this.$store.dispatch("app/showNotice",{title:"Removed "+Ri[t].length+' gifs about "'+i+'"',type:"info"}),delete Ri[t]),e.next=8,M["a"].deleteGifs(i);case 8:return e.abrupt("return");case 9:return r=fetch("https://g.tenor.com/v1/search?q="+t+"&key=LIVDSRZULELA&limit=100&key=DF3B0979C761").then((function(e){return e.json()})).then(function(){var e=Object(R["a"])(regeneratorRuntime.mark((function e(n){var r,s,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n.results&&n.results.length){e.next=2;break}return e.abrupt("return");case 2:Ri[t]=[],r=Object(Re["a"])(n.results);try{for(r.s();!(s=r.n()).done;)o=s.value,Ri[t].push(o.media[0].gif.url)}catch(c){r.e(c)}finally{r.f()}return a.$store.dispatch("app/showNotice",{title:"Downloaded "+Ri[t].length+' gifs about "'+i+'"',type:"success"}),e.next=8,M["a"].saveGifs({slug:i,keyword:t,timestamp:+new Date,data:Ri[t]});case 8:return e.abrupt("return",Ri[t]);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).finally((function(){delete ji[t]})),ji[t]=r,e.abrupt("return",r);case 12:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"prepareColorsSteps",value:function(){var e=Object(Oi["b"])(),t=Object(Oi["h"])(this._liquidationThreshold.buyColor,e),n=[t[0],t[1],t[2],0],i=[t[0],t[1],t[2],1],r=Object(Oi["h"])(this._liquidationThreshold.sellColor,e),a=[r[0],r[1],r[2],0],s=[r[0],r[1],r[2],1];this._liquidationsColor={buy:{from:n,to:i,fromLuminance:Object(Oi["d"])(n),toLuminance:Object(Oi["d"])(i)},sell:{from:a,to:s,fromLuminance:Object(Oi["d"])(a),toLuminance:Object(Oi["d"])(s)}},this._thresholdsColors=[],this._minimumThresholdAmount=this.thresholds[0].amount,this._significantThresholdAmount=this.thresholds[1].amount;for(var o=0;o<this.thresholds.length-1;o++){var c=Object(Oi["h"])(this.thresholds[o].buyColor,e),l=Object(Oi["h"])(this.thresholds[o+1].buyColor,e),u=Object(Oi["h"])(this.thresholds[o].sellColor,e),d=Object(Oi["h"])(this.thresholds[o+1].sellColor,e);this._thresholdsColors.push({threshold:this.thresholds[o].amount,range:this.thresholds[o+1].amount-this.thresholds[o].amount,buy:{from:c,to:l,fromLuminance:Object(Oi["d"])(c),toLuminance:Object(Oi["d"])(l)},sell:{from:u,to:d,fromLuminance:Object(Oi["d"])(u),toLuminance:Object(Oi["d"])(d)}})}}},{key:"prepareThresholdsSounds",value:function(){var e=this.$store.state[this.paneId].audioPitch,t=this.$store.state[this.paneId].audioVolume;this._thresholdsAudios=this.thresholds.map((function(n){return{buy:Ut["a"].buildAudioFunction(n.buyAudio,"buy",e,t),sell:Ut["a"].buildAudioFunction(n.sellAudio,"sell",e,t)}})),this._liquidationsAudio={buy:Ut["a"].buildAudioFunction(this._liquidationThreshold.buyAudio,"buy",e,t),sell:Ut["a"].buildAudioFunction(this._liquidationThreshold.sellAudio,"sell",e,t)}}},{key:"prepareAudioThreshold",value:function(){this.$store.state.settings.useAudio&&!this.$store.state[this.paneId].muted&&0!==this.$store.state[this.paneId].audioVolume?this.audioThreshold?"string"===typeof this.audioThreshold&&/\d\s*%$/.test(this.audioThreshold)?this._audioThreshold=this._minimumThresholdAmount*(parseFloat(this.audioThreshold)/100):this._audioThreshold=+this.audioThreshold:this._audioThreshold=.1*this._minimumThresholdAmount:this._audioThreshold=1/0}},{key:"cacheFilters",value:function(){var e=this;this._preferQuoteCurrencySize=this.$store.state.settings.preferQuoteCurrencySize,this._disableAnimations=this.$store.state.settings.disableAnimations,this._tradeType=this.$store.state[this.paneId].tradeType,this._liquidationThreshold=this.$store.state[this.paneId].liquidations,this._activeExchanges=Object(Fe["a"])({},this.$store.state.app.activeExchanges),this._multipliers={},this._paneMarkets=this.$store.state.panes.panes[this.paneId].markets.reduce((function(t,n){var i=n.replace(":",""),r=e.$store.state[e.paneId].multipliers[i];return e._multipliers[i]=isNaN(r)?1:r,t[i]=!0,t}),{})}},{key:"clearList",value:function(){this.$refs.tradesContainer.innerHTML="",this.tradesCount=0}},{key:"refreshList",value:function(){var e=this;if(!this.tradesCount)return this.clearList();var t=!1;this.$store.state.settings.disableAnimations||(this._disableAnimations=!0,t=!0),this._enableAnimationsTimeout&&clearTimeout(this._enableAnimationsTimeout),this._enableAnimationsTimeout=setTimeout((function(){t&&(e._disableAnimations=!1),e._enableAnimationsTimeout=null}),1e3);var n,i=this.$el.getElementsByClassName("trade"),r=this.$store.state.app.activeMarkets.reduce((function(e,t){return e[t.exchange]||(e[t.exchange]=t.pair),e}),{}),a=[],s=Object(Re["a"])(i);try{for(s.s();!(n=s.n()).done;){var o=n.value,c=o.querySelector(".trade__exchange").getAttribute("title"),l=r[c];if(l){var u=o.querySelector(".trade__time").getAttribute("timestamp"),d=parseFloat(o.querySelector(".trade__price").innerText)||0,h=parseFloat(o.querySelector(".trade__amount__base").innerText)||0,p=o.classList.contains("-buy")?"buy":"sell",f={timestamp:u,exchange:c,pair:l,price:d,size:h,side:p};o.classList.contains("-liquidation")&&(f.liquidation=!0),a.push(f)}}}catch(C){s.e(C)}finally{s.f()}a.reverse(),this.clearList();var m=this._audioThreshold;this._audioThreshold=1/0;for(var _=0,v=a;_<v.length;_++){var b=v[_],g=b.exchange+b.pair,y=b.size*(this._preferQuoteCurrencySize?b.price:1),k=this._multipliers[g]||1;this.appendRow(b,y,k)}this._audioThreshold=m}}]),n}(Object(d["b"])(ht));Pi=Object(u["a"])([Object(d["a"])({components:{PaneHeader:ni},name:"Trades"})],Pi);var Di=Pi,Mi=Di,Li=(n("8b12"),Object(b["a"])(Mi,Si,Ai,!1,null,null,null)),Ni=Li.exports,Bi=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"pane-stats"},[e.hovered?n("pane-header",{attrs:{paneId:e.paneId}}):e._e(),n("ul",{staticClass:"stats-buckets"},e._l(e.data,(function(t,i){return n("li",{key:i,staticClass:"stat-bucket",on:{click:function(t){return e.editStat(i)}}},[n("div",{staticClass:"stat-bucket__name"},[e._v(e._s(t.name))]),n("div",{staticClass:"stat-bucket__value"},[e._v(e._s(t.value))])])})),0),e.enableChart?n("div",{ref:"chart",staticClass:"stats-chart"}):e._e()],1)},Ui=[],$i=function(){function e(t,n,i){Object(s["a"])(this,e),this.stacks=[],this.filled=!1,this.remaining=0,this.timeouts=[],this.id=n.id,this.name=n.name,this.adapter=this.getAdapter(t),this.window=(isNaN(n.window)?Le["b"].state[i].window:+n.window)||6e4,this.precision=n.precision,this.color=this.parseColor(n.color),this.granularity=Math.max(Le["b"].state[i].granularity,this.window/5e3),this.type=n.type||"line";var r=Object(j["m"])(this.window).replace(/^1(\w)$/,"$1");this.name+="/"+r,this.clear()}return Object(o["a"])(e,[{key:"getAdapter",value:function(e){var t=e.replace(/([^.]|^)(vbuy|vsell|cbuy|csell|lbuy|lsell)/g,"$1stats.$2");return new Function("stats","'use strict'; return ".concat(t,";"))}},{key:"clear",value:function(){this.stacks=[],this.live=0,this.filled=!1,this.remaining=0;for(var e=0;e<this.timeouts.length;e++)clearTimeout(this.timeouts[e]);this.timeouts=[]}},{key:"unbind",value:function(){this.clear()}},{key:"onStats",value:function(e){var t=this.adapter(e);if(!this.stacks.length||e.timestamp>this.timestamp+this.granularity)this.appendStack(e.timestamp);else if(this.filled&&this.remaining){var n=(e.timestamp-this.timestamp)/this.granularity,i=Math.ceil(this.stacks[0]*(1-n)),r=this.remaining-i;this.remaining=i,this.live-=r}this.addData(t)}},{key:"appendStack",value:function(e){e||(e=+new Date),this.stacks.length&&!this.stacks[this.stacks.length-1]||(this.stacks.push(0),this.timeouts.push(setTimeout(this.shiftStack.bind(this),this.window))),this.timestamp=e,this.filled||this.stacks.length!==this.window/this.granularity||(this.filled=!0)}},{key:"shiftStack",value:function(){this.timeouts.shift();var e=this.stacks.shift();e&&(this.remaining&&(this.live-=this.remaining),this.remaining=this.stacks[0])}},{key:"addData",value:function(e){this.stacks[this.stacks.length-1]+=e,this.live+=e}},{key:"getValue",value:function(){return this.live}},{key:"createSerie",value:function(e){if(!this.serie){var t="add"+(this.type.charAt(0).toUpperCase()+this.type.slice(1))+"Series",n=Object.assign({},Me["b"][this.type],Object(Fe["a"])({priceScaleId:this.name,title:this.name,priceLineVisible:!1,lineWidth:1,scaleMargins:{top:.05,bottom:.05}},this.getColorOptions()));this.serie=e[t](n)}}},{key:"updateSerie",value:function(){var e=this.getValue();if(this.serie&&this.timestamp&&("histogram"!==this.type||e)){var t={time:this.timestamp/1e3,value:e};"function"===typeof this.color&&(t.color=this.color(e)),this.serie.update(t)}}},{key:"getColorOptions",value:function(){if("function"===typeof this.color)return{};if("area"===this.type){var e,t,n;if(0===this.color.indexOf("#")){var i=Object(Oi["f"])(this.color),r=Object(je["a"])(i,3);e=r[0],t=r[1],n=r[2]}else{var a=Object(Oi["h"])(this.color),s=Object(je["a"])(a,3);e=s[0],t=s[1],n=s[2]}var o="rgba(".concat(e,",").concat(t,",").concat(n,", .4)"),c="rgba(".concat(e,",").concat(t,",").concat(n,", 0)");return{topColor:o,bottomColor:c,lineColor:this.color}}return{color:this.color}}},{key:"parseColor",value:function(e){return/rgba?\(|#/.test(e)?e:function(){return new Function("value",'"use strict"; return '+e)}()}},{key:"updateColor",value:function(e){this.serie&&(this.color=this.parseColor(e),"string"===typeof e&&this.serie.applyOptions(this.getColorOptions()))}},{key:"removeIndicator",value:function(e){this.serie&&(e.removeSeries(this.serie),delete this.serie)}}]),e}(),Gi=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(s["a"])(this,n),e=t.apply(this,arguments),e.data={},e._buckets={},e._feed=null,e}return Object(o["a"])(n,[{key:"enableChart",get:function(){return this.$store.state[this.paneId].enableChart}},{key:"buckets",get:function(){return this.$store.state[this.paneId].buckets}},{key:"created",value:function(){var e=this;this._onStoreMutation=this.$store.subscribe((function(t){switch(t.type){case"settings/SET_CHART_COLOR":e._chart&&t.payload&&e._chart.applyOptions(Object(Me["f"])(t.payload));break;case"settings/SET_CHART_THEME":e._chart&&e._chart.applyOptions(Object(Me["f"])());break;case"panes/SET_PANE_MARKETS":case e.paneId+"/SET_WINDOW":if(t.payload.id&&t.payload.id!==e.paneId)break;e.prepareBuckets();break;case e.paneId+"/SET_BUCKET_COLOR":e.recolorBucket(t.payload.id,t.payload.value);break;case e.paneId+"/SET_BUCKET_TYPE":e._chart&&e.reloadBucketSerie(t.payload.id,t.payload.value);break;case e.paneId+"/TOGGLE_CHART":t.payload?e.createChart():e.removeChart();break;case e.paneId+"/TOGGLE_BUCKET":t.payload.value?e.createBucket(e.buckets[t.payload.id]):e.removeBucket(t.payload.id);break;case e.paneId+"/REMOVE_BUCKET":e.removeBucket(t.payload);break;case e.paneId+"/SET_BUCKET_WINDOW":case e.paneId+"/SET_BUCKET_INPUT":case e.paneId+"/SET_BUCKET_PRECISION":e.refreshBucket(t.payload.id);break;case e.paneId+"/RENAME_BUCKET":e.refreshBucketName(t.payload);break}})),this.prepareBuckets()}},{key:"mounted",value:function(){this.enableChart&&this.createChart()}},{key:"beforeDestroy",value:function(){this._feed&&h["a"].off(this._feed,this.onVolume),this.clearBuckets(),this.removeChart(),this._onStoreMutation(),this._chart=null}},{key:"createChart",value:function(){var e=Object(R["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$nextTick();case 2:for(n in t=Object(Me["e"])(Me["d"]),this._chart=Be["b"](this.$refs.chart,t),this._buckets)this._buckets[n].createSerie(this._chart);this.refreshChartDimensions(0);case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"removeChart",value:function(){if(this._chart){for(var e in this._buckets)this._buckets[e].removeIndicator(this._chart);this._chart.remove(),this._chart=null}}},{key:"refreshChartDimensions",value:function(){var e=Object(R["a"])(regeneratorRuntime.mark((function e(){var t,n=this,i=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=i.length>0&&void 0!==i[0]?i[0]:500,this.enableChart){e.next=3;break}return e.abrupt("return");case 3:clearTimeout(this._refreshChartDimensionsTimeout),this._refreshChartDimensionsTimeout=setTimeout((function(){n._chart&&n._chart.resize(n.$el.clientWidth,n.$el.clientHeight)}),t);case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"prepareBuckets",value:function(){for(var e in this._feed&&h["a"].off(this._feed,this.onVolume),this.clearBuckets(),this.buckets)this.createBucket(this.buckets[e]);this._feed="bucket-"+Object(j["l"])(this.pane.markets),this._feed.length&&h["a"].on(this._feed,this.onVolume)}},{key:"onVolume",value:function(e){for(var t in this._buckets){if(this._buckets[t].onStats(e),this._buckets[t].stacks.length){var n=this._buckets[t].getValue();this.$set(this.data[t],"value",Object(j["h"])(n,this._buckets[t].precision))}this._chart&&this._buckets[t].updateSerie()}}},{key:"clearBuckets",value:function(){for(var e in this._buckets)this.removeBucket(e);this._buckets={}}},{key:"removeBucket",value:function(e){this._buckets[e]&&(this._buckets[e].unbind(),this._chart&&this._buckets[e].removeIndicator(this._chart),this.$delete(this.data,e),delete this._buckets[e])}},{key:"refreshBucket",value:function(e){var t=this.buckets[e];t&&(this.removeBucket(e),this.createBucket(t))}},{key:"recolorBucket",value:function(e,t){this._buckets[e]&&(this._buckets[e].updateColor(t),this.$set(this.data[e],"color",t))}},{key:"reloadBucketSerie",value:function(e,t){this._buckets[e]&&(t&&(this._buckets[e].type=t),this._buckets[e].removeIndicator(this._chart),this._buckets[e].createSerie(this._chart))}},{key:"createBucket",value:function(e){if(e.enabled&&"undefined"===typeof this.data[e.id]){var t=new $i(e.input,e,this.paneId);this._chart&&t.createSerie(this._chart),this._buckets[e.id]=t,this.$set(this.data,t.id,{value:0,name:t.name,color:t.color})}}},{key:"refreshBucketName",value:function(e){var t=e.id,n=e.name,i=this._buckets[t];i.name=n,this.$set(this.data[t],"name",n)}},{key:"editStat",value:function(e){X["a"].open(Sn["a"],{paneId:this.paneId,bucketId:e})}},{key:"onResize",value:function(){this.refreshChartDimensions()}}]),n}(Object(d["b"])(ht));Gi=Object(u["a"])([Object(d["a"])({components:{PaneHeader:ni},name:"Stats"})],Gi);var qi=Gi,Hi=qi,Fi=(n("3f50"),Object(b["a"])(Hi,Bi,Ui,!1,null,null,null)),Wi=Fi.exports,Ki=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"pane-counters"},[e.hovered?n("pane-header",{attrs:{paneId:e.paneId}}):e._e(),n("ul",{staticClass:"counters"},e._l(e.activeSteps,(function(t,i){return n("li",{key:i,staticClass:"counter",attrs:{duration:t.duration}},[n("div",{staticClass:"counter__side -buy",style:{width:t.buy/(t.buy+t.sell)*100+"%"}},[e.countersCount?n("span",[e._v(e._s(t.buy))]):n("span",[e._v(e._s(e.formatAmount(t.buy)))])]),n("div",{staticClass:"counter__side -sell",style:{width:t.sell/(t.buy+t.sell)*100+"%"}},[e.countersCount?n("span",[e._v(e._s(t.sell))]):n("span",[e._v(e._s(e.formatAmount(t.sell)))])])])})),0)],1)},Vi=[],zi=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(s["a"])(this,n),e=t.apply(this,arguments),e.steps=[],e._feed=null,e}return Object(o["a"])(n,[{key:"preferQuoteCurrencySize",get:function(){return this.$store.state.settings.preferQuoteCurrencySize}},{key:"liquidationsOnly",get:function(){return this.$store.state[this.paneId].liquidationsOnly}},{key:"countersSteps",get:function(){return this.$store.state[this.paneId].steps}},{key:"countersCount",get:function(){return this.$store.state[this.paneId].count}},{key:"countersGranularity",get:function(){return this.$store.state[this.paneId].granularity}},{key:"activeSteps",get:function(){return this.steps.filter((function(e){return e.hasData}))}},{key:"created",value:function(){var e=this;this._onStoreMutation=this.$store.subscribe((function(t){switch(t.type){case"panes/SET_PANE_MARKETS":t.payload.id===e.paneId&&e.createCounters();break;case e.paneId+"/REPLACE_COUNTERS":case e.paneId+"/TOGGLE_LIQUIDATIONS_ONLY":case e.paneId+"/TOGGLE_COUNT":e.createCounters();break}})),this.createCounters(),this._populateCountersInterval=setInterval(this.populateCounters.bind(this),this.countersGranularity)}},{key:"beforeDestroy",value:function(){this._feed&&h["a"].off(this._feed,this.onVolume),this._onStoreMutation(),clearInterval(this._populateCountersInterval)}},{key:"onVolume",value:function(e){var t={buy:e.vbuy,sell:e.vsell};if(this.liquidationsOnly?(t.buy=e.lbuy,t.sell=e.lsell):this.countersCount&&(t.buy=e.cbuy,t.sell=e.csell),t.buy||t.sell){this._activeChunk.timestamp||(this._activeChunk.timestamp=e.timestamp),this._activeChunk.buy+=t.buy,this._activeChunk.sell+=t.sell;for(var n=0;n<this.steps.length;n++)this.steps[n].buy+=t.buy,this.steps[n].sell+=t.sell}}},{key:"clearCounters",value:function(){this._feed&&h["a"].off(this._feed,this.onVolume),this._counters?(this._counters.splice(0,this._counters.length),this._activeChunk.timestamp=null,this._activeChunk.buy=this._activeChunk.sell=0,this.steps.splice(0,this.steps.length)):(this._counters=[],this._activeChunk={timestamp:null,buy:0,sell:0},this.steps=[])}},{key:"createCounters",value:function(){this.clearCounters();var e,t=Object(Re["a"])(this.countersSteps);try{for(t.s();!(e=t.n()).done;){var n=e.value;this._counters.push({duration:n,chunks:[]})}}catch(o){t.e(o)}finally{t.f()}var i,r=Object(Re["a"])(this._counters);try{for(r.s();!(i=r.n()).done;){var a=i.value,s=0===this._counters.indexOf(a);this.steps.push({duration:Object(j["m"])(a.duration),buy:0,sell:0,hasData:s})}}catch(o){r.e(o)}finally{r.f()}this._feed="bucket-"+Object(j["l"])(this.pane.markets),this._feed.length&&h["a"].on(this._feed,this.onVolume)}},{key:"populateCounters",value:function(){var e=+new Date;this._activeChunk.timestamp&&(this._counters[0].chunks.push({timestamp:this._activeChunk.timestamp,buy:this._activeChunk.buy,sell:this._activeChunk.sell}),this._activeChunk.timestamp=null,this._activeChunk.buy=0,this._activeChunk.sell=0);for(var t,n,i=[],r=0;r<this._counters.length;r++){i.length&&(Array.prototype.push.apply(this._counters[r].chunks,i.splice(0,i.length)),this.steps[r].hasData||(this.steps[r].hasData=!0)),t=0,n=0;for(var a=0,s=0;s<this._counters[r].chunks.length;s++)if(t+=this._counters[r].chunks[s].buy,n+=this._counters[r].chunks[s].sell,this._counters[r].chunks[s].timestamp>=e-this._counters[r].duration){a=s;break}a&&(i=this._counters[r].chunks.splice(0,a+1),this.steps[r].buy-=t,this.steps[r].sell-=n)}}},{key:"formatAmount",value:function(e){return Object(j["h"])(e)}},{key:"formatPrice",value:function(e){return Object(j["j"])(e)}}]),n}(Object(d["b"])(ht));zi=Object(u["a"])([Object(d["a"])({components:{PaneHeader:ni},name:"Counters"})],zi);var Xi=zi,Yi=Xi,Qi=(n("7e2d"),Object(b["a"])(Yi,Ki,Vi,!1,null,null,null)),Ji=Qi.exports,Zi=function(){var e,t=this,n=t.$createElement,i=t._self._c||n;return i("div",{staticClass:"pane-prices",class:(e={},e[t.mode]=!0,e["-bold"]=this.boldFont,e)},[t.hovered?i("pane-header",{attrs:{paneId:t.paneId}}):t._e(),t.markets?i("transition-group",{staticClass:"markets-bar condensed hide-scrollbar pane",attrs:{name:t.transitionGroupName,tag:"div"}},t._l(t.markets,(function(e){var n;return i("div",{key:e.id,staticClass:"market",class:(n={},n["-"+e.exchange]=!0,n["-"+e.status]=!0,n["-hidden"]=t.exchanges[e.exchange].hidden,n),attrs:{title:e.id},on:{click:function(n){return t.$store.commit("settings/TOGGLE_EXCHANGE",e.exchange)}}},[t.showPairs?i("div",{staticClass:"market__pair",domProps:{textContent:t._s(e.pair)}}):t._e(),i("div",{staticClass:"market__price",domProps:{textContent:t._s(t.formatPrice(e.price))}})])})),0):t._e()],1)},er=[],tr=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(s["a"])(this,n),e=t.apply(this,arguments),e.mode="-vertical",e.markets=null,e}return Object(o["a"])(n,[{key:"marketChange",value:function(e,t){var n,i=Object(Re["a"])(t);try{for(i.s();!(n=i.n()).done;){var r=n.value;-1===e.indexOf(r)&&this.removeMarketFromList(r)}}catch(h){i.e(h)}finally{i.f()}var a,s=Object(Re["a"])(e);try{for(s.s();!(a=s.n()).done;){var o=a.value;if(-1===t.indexOf(o)){var c=Object(j["p"])(o),l=Object(je["a"])(c,2),u=l[0],d=l[1];this.addMarketToList({id:u+d,exchange:u,pair:d})}}}catch(h){s.e(h)}finally{s.f()}}},{key:"activeMarkets",get:function(){return this.$store.state.app.activeMarkets}},{key:"exchanges",get:function(){return this.$store.state.exchanges}},{key:"disableAnimations",get:function(){return this.$store.state.settings.disableAnimations}},{key:"showPairs",get:function(){return this.$store.state[this.paneId].showPairs}},{key:"boldFont",get:function(){return this.$store.state[this.paneId].boldFont}},{key:"animateSort",get:function(){return this.$store.state[this.paneId].animateSort}},{key:"transitionGroupName",get:function(){return this.animateSort?"flip-list":null}},{key:"mounted",value:function(){h["a"].on("prices",this.updateExchangesPrices)}},{key:"beforeDestroy",value:function(){h["a"].off("prices",this.updateExchangesPrices)}},{key:"updateExchangesPrices",value:function(e){if(this.markets){var t,n=Object(Re["a"])(this.markets);try{for(n.s();!(t=n.n()).done;){var i=t.value,r=e[i.id];r!==i.price&&(r?i.price>r?i.status="down":i.price<r?i.status="up":i.status="neutral":i.status="pending",i.price=r)}}catch(h){n.e(h)}finally{n.f()}}else{this.markets=[];var a,s=Object(Re["a"])(this.pane.markets);try{for(s.s();!(a=s.n()).done;){var o=a.value,c=Object(j["p"])(o),l=Object(je["a"])(c,2),u=l[0],d=l[1];this.addMarketToList({id:u+d,pair:d,exchange:u})}}catch(h){s.e(h)}finally{s.f()}}"-horizontal"===this.mode?this.markets=this.markets.sort((function(e,t){return e.price-t.price})):this.markets=this.markets.sort((function(e,t){return t.price-e.price}))}},{key:"removeMarketFromList",value:function(e){var t=this.markets.indexOf(this.markets.find((function(t){return t.exchange+":"+t.pair===e})));-1!==t&&this.markets.splice(t,1)}},{key:"addMarketToList",value:function(e){this.markets||(this.markets=[]),this.markets.push(Object(Fe["a"])(Object(Fe["a"])({},e),{},{status:"pending",price:null}))}},{key:"formatPrice",value:function(e){return Object(j["j"])(e)}},{key:"onResize",value:function(e,t){this.mode=e>t?"-horizontal":"-vertical"}}]),n}(Object(d["b"])(ht));Object(u["a"])([Object(d["d"])("pane.markets")],tr.prototype,"marketChange",null),tr=Object(u["a"])([Object(d["a"])({components:{PaneHeader:ni},name:"Prices"})],tr);var nr=tr,ir=nr,rr=(n("4150"),Object(b["a"])(ir,Zi,er,!1,null,null,null)),ar=rr.exports,sr=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(s["a"])(this,n),e=t.apply(this,arguments),e.draggable=!0,e.resizable=!0,e.layoutReady=!1,e.rowHeight=80,e}return Object(o["a"])(n,[{key:"panes",get:function(){return this.$store.state.panes.panes}},{key:"layout",get:function(){return this.$store.state.panes.layout}},{key:"created",value:function(){this.calculateRowHeight()}},{key:"mounted",value:function(){window.addEventListener("resize",this.calculateRowHeight)}},{key:"beforeDestroy",value:function(){window.addEventListener("resize",this.calculateRowHeight)}},{key:"calculateRowHeight",value:function(e){if(this._resizeTimeout&&clearTimeout(this._resizeTimeout),e)this._resizeTimeout=window.setTimeout(this.calculateRowHeight.bind(this),200);else{this._resizeTimeout=null;var t=24;this.rowHeight=window.innerHeight/t}}},{key:"onLayoutUpdated",value:function(e){this.$store.commit("panes/UPDATE_LAYOUT",e)}},{key:"resizePane",value:function(e,t,n){if(this.$refs.panes){var i=this.$refs.panes.find((function(t){return t.paneId===e}));i&&"function"===typeof i.onResize&&i.$nextTick((function(){i.onResize(n,t)}))}}},{key:"onPaneResized",value:function(e,t,n,i,r){this.resizePane(e,+i,+r),this.$store.commit("panes/UPDATE_LAYOUT",this.layout)}},{key:"onContainerResized",value:function(e,t,n,i,r){this.resizePane(e,+i,+r)}}]),n}(i["default"]);sr=Object(u["a"])([Object(Ee["b"])({components:{GridLayout:Te.a.GridLayout,GridItem:Te.a.GridItem,Chart:xi,Trades:Ni,Stats:Wi,Counters:Ji,Prices:ar}})],sr);var or=sr,cr=or,lr=Object(b["a"])(cr,Ce,Oe,!1,null,null,null),ur=lr.exports,dr=n("8219"),hr=n.n(dr),pr=n("4ee8"),fr=n.n(pr),mr=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(s["a"])(this,n),e=t.apply(this,arguments),e.price=null,e}return Object(o["a"])(n,[{key:"pair",get:function(){var e=this.$store.state.app.activeMarkets;return e.length?e[0].pair:"SignificantTrades"}},{key:"showSettings",get:function(){return this.$store.state.app.showSettings}},{key:"showSearch",get:function(){return this.$store.state.app.showSearch}},{key:"isBooted",get:function(){return this.$store.state.app&&this.$store.state.app.isBooted}},{key:"isLoading",get:function(){return this.$store.state.app.isLoading}},{key:"backgroundColor",get:function(){return this.$store.state.settings.backgroundColor}},{key:"theme",get:function(){return this.$store.state.settings.theme}},{key:"markets",get:function(){return Object.keys(this.$store.state.panes.marketsListeners)}},{key:"preferedSizingCurrency",get:function(){return this.$store.state.settings.preferQuoteCurrencySize?"quote":"base"}},{key:"baseCurrency",get:function(){return this.$store.state.app.baseCurrency}},{key:"baseCurrencySymbol",get:function(){return this.$store.state.app.baseCurrencySymbol}},{key:"quoteCurrency",get:function(){return this.$store.state.app.quoteCurrency}},{key:"quoteCurrencySymbol",get:function(){return this.$store.state.app.quoteCurrencySymbol}},{key:"disableAnimations",get:function(){return this.$store.state.settings.disableAnimations}},{key:"mounted",value:function(){var e=this;h["a"].on("notice",(function(t){e.$store.dispatch("app/showNotice",t)})),h["a"].on("prices",this.updatePrice),document.addEventListener("keydown",this.onDocumentKeyPress)}},{key:"beforeDestroy",value:function(){this.stopUpdatingPrice()}},{key:"updatePrice",value:function(e){var t=0,n=0;for(var i in e)t+=e[i],n++;n?(t/=n,null!==this.price&&(t>+this.price?this.updateFavicon("up"):t<+this.price&&this.updateFavicon("down")),this.price=Object(j["j"])(t),window.document.title=this.pair+" "+this.price):(this.price=null,this.updateFavicon("neutral"),window.document.title=this.pair)}},{key:"stopUpdatingPrice",value:function(){h["a"].off("prices",this.updatePrice),this.price=null}},{key:"updateFavicon",value:function(e){this._faviconElement||(this._faviconElement=document.createElement("link"),this._faviconElement.id="favicon",this._faviconElement.rel="shortcut icon",document.head.appendChild(this._faviconElement)),this._faviconElement.href="up"===e?hr.a:fr.a}},{key:"onDocumentKeyPress",value:function(e){if(this.isBooted){var t=document.activeElement;27!==e.keyCode?this.showSearch||e.metaKey||e.ctrlKey||e.altKey||"INPUT"===t.tagName||"TEXTAREA"===t.tagName||"SELECT"===t.tagName||t.isContentEditable||(e=e||window.event,/^[a-z0-9]$/i.test(e.key)&&this.$store.dispatch("app/showSearch")):this.$store.dispatch("app/hideSearch")}}}]),n}(d["c"]);mr=Object(u["a"])([Object(d["a"])({name:"App",components:{Menu:x,Settings:ke,Notices:y,Panes:ur}})],mr);var _r=mr,vr=_r,br=Object(b["a"])(vr,r,a,!1,null,null,null),gr=br.exports,yr=n("6018"),kr=(n("29d8"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("button",{staticClass:"btn verte-control",on:{click:e.openPicker}},[n("div",{staticClass:"verte-control__color",style:{backgroundColor:e.value}}),n("i",{staticClass:"icon-dropper"})])}),Cr=[],Or={name:"Verte",props:{value:{type:String,default:"#000"},label:{type:String}},data:function(){return{currentColor:null,dialogInstance:null}},beforeDestroy:function(){this.dialogInstance&&this.dialogInstance.close()},methods:{openPicker:function(){var e=this;this.dialogInstance=X["a"].openPicker(this.value,(function(t){e.$emit("input",t)}),this.label)}}},Er=Or,wr=Object(b["a"])(Er,kr,Cr,!1,null,null,null),Tr=wr.exports,Ir=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{contenteditable:!1!==e.editable,disabled:!1===e.editable},on:{keydown:e.onKeyDown,input:function(t){e.changed=!0},focus:e.onFocus,blur:e.onBlur,click:e.onClick,wheel:e.onWheel}})},xr=[],Sr=(n("2af1"),function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(s["a"])(this,n),e=t.apply(this,arguments),e.changed=!1,e.focused=!1,e}return Object(o["a"])(n,[{key:"mounted",value:function(){var e=this.$el;e.innerText=this.content}},{key:"onContentChange",value:function(){this.$el.innerText!==this.content&&(this.$el.innerText=this.content)}},{key:"selectAll",value:function(){var e=this;window.setTimeout((function(){var t,n;window.getSelection&&document.createRange?(n=document.createRange(),n.selectNodeContents(e.$el),t=window.getSelection(),t.removeAllRanges(),t.addRange(n)):document.body.createTextRange&&(n=document.body.createTextRange(),n.moveToElementText(e.$el),n.select())}),1)}},{key:"onBlur",value:function(e){13!==e.which||isNaN(e.target.innerText)?(this.changed&&this.$emit("output",e.target.innerText),this.focused=!1,window.getSelection?window.getSelection().removeAllRanges():document.selection&&document.selection.empty()):e.preventDefault()}},{key:"onKeyDown",value:function(e){if(this.disabled||13===e.which)return e.preventDefault(),this.$el.blur(),void(e.target.innerText=this.content);38!==e.which&&40!==e.which||this.crement(40===e.which?1:-1)}},{key:"onFocus",value:function(){this.changed=!1,this.focused=!0}},{key:"onClick",value:function(){var e=+new Date;this.clickAt&&e-this.clickAt<150&&this.selectAll(),this.clickAt=e}},{key:"crement",value:function(e){var t=this.$el.innerText.replace(/[^0-9-.]/g,"");if(!isNaN(t)){var n="undefined"===typeof this.max?1/0:this.max,i="undefined"===typeof this.min?0:this.min,r=this.step||1,a=Object(j["d"])(r),s=r*(e>0?-1:1),o=+Math.max(i,Math.min(n,+t+s)).toFixed(a);this.$emit("output",o)}}},{key:"onWheel",value:function(e){document.activeElement.isContentEditable&&(e.preventDefault(),this.crement(Math.sign(e.deltaY)))}}]),n}(d["c"]));Object(u["a"])([Object(d["d"])("content")],Sr.prototype,"onContentChange",null),Sr=Object(u["a"])([Object(d["a"])({name:"Editable",props:["content","step","min","max","editable","disabled"]})],Sr);var Ar=Sr,Rr=Ar,jr=Object(b["a"])(Rr,Ir,xr,!1,null,null,null),Pr=jr.exports,Dr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("dropdown",{staticClass:"mrauto form-control",attrs:{options:e.presets},on:{output:e.onSelect},scopedSlots:e._u([{key:"selection",fn:function(){return[e._v(" "+e._s(e.label)+" ")]},proxy:!0},{key:"option",fn:function(t){var i=t.value;return[i.icon?n("i",{class:"-lower icon-"+i.icon}):e._e(),i.id?n("i",{staticClass:"icon-refresh -action  -lower",attrs:{title:"Update"},on:{click:function(t){return t.stopPropagation(),e.savePreset(i.label)}}}):e._e(),i.id?n("i",{staticClass:"icon-trash -action mr8 -lower",attrs:{title:"Delete"},on:{click:function(t){return t.stopPropagation(),e.removePreset(i.id)}}}):e._e(),n("span",[e._v(e._s(i.label))])]}}])})},Mr=[],Lr=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(s["a"])(this,n),e=t.apply(this,arguments),e.presets=[{icon:"plus",label:"Save as",click:e.savePreset},{icon:"warning",label:"Apply default",click:e.applyDefault}],e}return Object(o["a"])(n,[{key:"created",value:function(){this.getPresets()}},{key:"getPresets",value:function(){var e=Object(R["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.presets.splice(2,this.presets.length),e.next=3,M["a"].getPresetsKeysByType(this.type);case 3:for(t=e.sent,n=0;n<t.length;n++)this.presets.push({id:t[n],label:t[n].split(":").slice(1).join(":")});case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onSelect",value:function(){var e=Object(R["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("function"!==typeof this.presets[t].click){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,M["a"].getPreset(this.presets[t].id);case 4:n=e.sent,this.$emit("apply",n.data);case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"savePreset",value:function(){var e=Object(R["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t&&"string"===typeof t){e.next=6;break}return e.next=3,X["a"].prompt("Enter a name");case 3:t=e.sent,e.next=10;break;case 6:return e.next=8,X["a"].confirm("Override preset ".concat(t," with current settings ?"));case 8:if(e.sent){e.next=10;break}return e.abrupt("return");case 10:if(t){e.next=12;break}return e.abrupt("return");case 12:return e.next=14,this.adapter();case 14:if(n=e.sent,n){e.next=18;break}return this.$store.dispatch("app/showNotice",{type:"error",title:"Preset should contain data. Not saving this preset."}),e.abrupt("return");case 18:return n._id&&delete n._id,e.next=21,M["a"].savePreset({name:this.type+":"+t,type:this.type,data:n});case 21:return e.next=23,this.getPresets();case 23:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"applyDefault",value:function(){var e=Object(R["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,X["a"].confirm("Reset "+this.type+" to default settings ?");case 2:if(!e.sent){e.next=4;break}this.$emit("apply");case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"removePreset",value:function(){var e=Object(R["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,X["a"].confirm("Remove preset "+t+" ?");case 2:if(!e.sent){e.next=7;break}return e.next=5,M["a"].removePreset(t);case 5:return e.next=7,this.getPresets();case 7:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}]),n}(d["c"]);Lr=Object(u["a"])([Object(d["a"])({components:{Dropdown:_e},props:{type:{required:!0},adapter:{required:!0},label:{default:"Presets"}}})],Lr);var Nr=Lr,Br=Nr,Ur=Object(b["a"])(Br,Dr,Mr,!1,null,null,null),$r=Ur.exports;i["default"].use(yr["b"],{maxWidth:"200px",duration:0,arrow:!1,animation:"none",delay:[200,0],animateFill:!1,theme:"dark"}),i["default"].component("tippy",yr["a"]),i["default"].component("verte",Tr),i["default"].component("dropdown",_e),i["default"].component("editable",Pr),i["default"].component("presets",$r),new i["default"]({el:"#app",store:Le["b"],render:function(e){return e(gr)},props:["initialized"]})},d071:function(e,t,n){},d2a1:function(e,t,n){"use strict";n("8322")},d951:function(e,t,n){"use strict";n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return v}));var i=n("53ca"),r=n("5530"),a=n("1da1"),s=(n("96cf"),n("d3b7"),n("498a"),n("ac1f"),n("5319"),n("13d5"),n("b64b"),n("0613")),o=n("da81"),c=n.n(o),l=n("bd60"),u=n("be31"),d={};function h(e){return p.apply(this,arguments)}function p(){return p=Object(a["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t._id){e.next=2;break}return e.abrupt("return");case 2:return"number"===typeof d[t._id]&&(clearTimeout(d[t._id]),delete d[t._id]),e.next=6,u["a"].saveState(t._id,t);case 6:case"end":return e.stop()}}),e)}))),p.apply(this,arguments)}function f(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500;if(e._id)return"number"===typeof d[e._id]&&clearTimeout(d[e._id]),new Promise((function(n){d[e._id]=setTimeout(Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,h(e);case 2:n();case 3:case"end":return t.stop()}}),t)}))),t)}))}function m(e){return _.apply(this,arguments)}function _(){return _=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u["a"].getState(t._id);case 3:if(n=e.sent,!n){e.next=7;break}return e.abrupt("return",Object.assign({},t,n));case 7:e.next=13;break;case 9:e.prev=9,e.t0=e["catch"](0),u["a"].removeState(t._id);case 13:return e.abrupt("return",Object.assign({},t));case 14:case"end":return e.stop()}}),e,null,[[0,9]])}))),_.apply(this,arguments)}function v(e,t,n,i){return b.apply(this,arguments)}function b(){return b=Object(a["a"])(regeneratorRuntime.mark((function e(t,n,a,o){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(o&&(n=Object(r["a"])(Object(r["a"])({},l["a"][o.type]),{},{state:JSON.parse(JSON.stringify(l["a"][o.type].state))}),n.state._id=t,n.state._booted=!1,"object"===Object(i["a"])(o.settings)&&(o.settings._id&&delete o.settings._id,c()(n.state,o.settings),delete o.settings,h(n.state))),!n.state._id){e.next=7;break}return e.next=6,m(n.state);case 6:n.state=e.sent;case 7:if(s["b"].registerModule(t,n),!a||"undefined"===typeof n.actions.boot){e.next=13;break}return e.next=13,s["b"].dispatch(t+"/boot");case 13:case"end":return e.stop()}}),e)}))),b.apply(this,arguments)}},dafd:function(e,t,n){},dd52:function(e,t,n){"use strict";n("a97b")},e0d0:function(e,t,n){"use strict";n("d071")},e0ff:function(e,t,n){},ef5b:function(e,t,n){},f1f6:function(e,t,n){"use strict";n("ef5b")},fa07:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"f",(function(){return o})),n.d(t,"d",(function(){return c})),n.d(t,"h",(function(){return l})),n.d(t,"g",(function(){return u})),n.d(t,"b",(function(){return d})),n.d(t,"e",(function(){return h}));var i=n("3835"),r=(n("a434"),n("fb6a"),n("d3b7"),n("25f0"),n("ac1f"),n("5319"),n("466d"),["#F44336","#FF9800","#ffeb3b","#4caf50","#009688","#00bcd4","#2196F3","#673ab7","#9c27b0","#e91e63","#FFCDD2","#FFE0B2","#FFF9C4","#C8E6C9","#B2DFDB","#B2EBF2","#BBDEFB","#D1C4E9","#E1BEE7","#F8BBD0","#ef9a9a","#FFCC80","#FFF59D","#A5D6A7","#80cbc4","#80DEEA","#90CAF9","#B39DDB","#CE93D8","#f48fb1","#E57373","#ffb74d","#FFF176","#81c784","#4db6ac","#4dd0e1","#64B5F6","#9575cd","#ba68c8","#f06292","#EF5350","#FFA726","#ffee58","#66BB6A","#26a69a","#26c6da","#42A5F5","#7e57c2","#ab47bc","#ec407a","#D32F2F","#F57C00","#fbc02d","#388e3c","#00796b","#0097A7","#1976D2","#512da8","#7b1fa2","#C2185B","#B71C1C","#e65100","#F57F17","#1B5E20","#004D40","#006064","#0d47a1","#311B92","#4A148C","#880e4f"]);function a(e,t,n){if(n>1)return t;var i=n,r=2*i-1,a=(r/1+1)/2,s=1-a,o=[Math.round(t[0]*a+e[0]*s),Math.round(t[1]*a+e[1]*s),Math.round(t[2]*a+e[2]*s)];return o}function s(e,t){var n=1-e[3];return e[0]=Math.round(255*(e[3]*(e[0]/255)+n*(t[0]/255))),e[1]=Math.round(255*(e[3]*(e[1]/255)+n*(t[1]/255))),e[2]=Math.round(255*(e[3]*(e[2]/255)+n*(t[2]/255))),e.splice(3,1),e}function o(e){var t=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;e=e.replace(t,(function(e,t,n,i){return t+t+n+n+i+i}));var n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return n?[parseInt(n[1],16),parseInt(n[2],16),parseInt(n[3],16)]:null}function c(e,t){"undefined"!==typeof e[3]&&t&&(e=s(e,t));var n=Math.sqrt(e[0]*e[0]*.241+e[1]*e[1]*.691+e[2]*e[2]*.068);return n}function l(e,t){var n=e.match(/rgba?\((\d+)[\s,]*(\d+)[\s,]*(\d+)(?:[\s,]*([\d.]+))?\)/),i=[+n[1],+n[2],+n[3]];return"undefined"!==typeof n[4]&&(i.push(+n[4]),t&&(i=s(i,t))),i}function u(e){var t=Object(i["a"])(e,4),n=t[0],r=t[1],a=t[2],s=t[3];return"rgb"+(s?"a(":"(")+n+","+r+","+a+(s?","+s+")":")")}function d(){var e,t=getComputedStyle(document.getElementById("app")).backgroundColor;return e=-1!==t.indexOf("#")?o(t):l(t),e}function h(e,t){t=Math.max(-1,Math.min(1,t));var n=t<0,i=n?0:t*Math.pow(255,2),r=n?1+t:1-t;return"rgb("+Math.round(Math.pow(r*Math.pow(e[0],2)+i,.5))+","+Math.round(Math.pow(r*Math.pow(e[1],2)+i,.5))+","+Math.round(Math.pow(r*Math.pow(e[2],2)+i,.5))+")"}}});